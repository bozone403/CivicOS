var Lc=s=>{throw TypeError(s)};var Yn=(s,t,a)=>t.has(s)||Lc("Cannot "+a);var S=(s,t,a)=>(Yn(s,t,"read from private field"),a?a.call(s):t.get(s)),J=(s,t,a)=>t.has(s)?Lc("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(s):t.set(s,a),K=(s,t,a,r)=>(Yn(s,t,"write to private field"),r?r.call(s,a):t.set(s,a),a),le=(s,t,a)=>(Yn(s,t,"access private method"),a);var Ci=(s,t,a,r)=>({set _(i){K(s,t,i,a)},get _(){return S(s,t,r)}});import{j as e,P as he,c as Ys,a as uu,u as De,B as Vg,b as or,d as Ea,e as se,f as Ct,R as $g,g as mu,h as Pt,i as Ug,k as mn,D as xu,C as fu,l as Bg,m as xn,n as pu,A as gu,o as vu,S as qg,p as ju,O as fn,q as yu,r as pn,s as bu,T as gn,t as vn,v as Nu,w as wu,L as Cu,x as Su,y as ku,z as zg,E as Hg,F as Wg,G as Kg,H as Gg,I as Qg,J as Pu}from"./ui-BiNBs2rM.js";import{a as jn,r as x,c as Jg,g as Yg,d as Ft,R as Xg}from"./vendor-CCqOfSOs.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(i){if(i.ep)return;i.ep=!0;const n=a(i);fetch(i.href,n)}})();var Tu,Oc=jn;Tu=Oc.createRoot,Oc.hydrateRoot;function Zg(s,t){if(s instanceof RegExp)return{keys:!1,pattern:s};var a,r,i,n,l=[],c="",o=s.split("/");for(o[0]||o.shift();i=o.shift();)a=i[0],a==="*"?(l.push(a),c+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):a===":"?(r=i.indexOf("?",1),n=i.indexOf(".",1),l.push(i.substring(1,~r?r:~n?n:i.length)),c+=~r&&!~n?"(?:/([^/]+?))?":"/([^/]+?)",~n&&(c+=(~r?"?":"")+"\\"+i.substring(n))):c+="/"+i;return{keys:l,pattern:new RegExp("^"+c+(t?"(?=$|/)":"/?$"),"i")}}var Au={exports:{}},Ru={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cr=x;function e0(s,t){return s===t&&(s!==0||1/s===1/t)||s!==s&&t!==t}var t0=typeof Object.is=="function"?Object.is:e0,s0=cr.useState,a0=cr.useEffect,r0=cr.useLayoutEffect,i0=cr.useDebugValue;function n0(s,t){var a=t(),r=s0({inst:{value:a,getSnapshot:t}}),i=r[0].inst,n=r[1];return r0(function(){i.value=a,i.getSnapshot=t,Xn(i)&&n({inst:i})},[s,a,t]),a0(function(){return Xn(i)&&n({inst:i}),s(function(){Xn(i)&&n({inst:i})})},[s]),i0(a),a}function Xn(s){var t=s.getSnapshot;s=s.value;try{var a=t();return!t0(s,a)}catch{return!0}}function l0(s,t){return t()}var o0=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?l0:n0;Ru.useSyncExternalStore=cr.useSyncExternalStore!==void 0?cr.useSyncExternalStore:o0;Au.exports=Ru;var Eu=Au.exports;const c0=Jg.useInsertionEffect,d0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",h0=d0?x.useLayoutEffect:x.useEffect,u0=c0||h0,_u=s=>{const t=x.useRef([s,(...a)=>t[0](...a)]).current;return u0(()=>{t[0]=s}),t[1]},m0="popstate",Ao="pushState",Ro="replaceState",x0="hashchange",Fc=[m0,Ao,Ro,x0],f0=s=>{for(const t of Fc)addEventListener(t,s);return()=>{for(const t of Fc)removeEventListener(t,s)}},Iu=(s,t)=>Eu.useSyncExternalStore(f0,s,t),p0=()=>location.search,g0=({ssrSearch:s=""}={})=>Iu(p0,()=>s),Vc=()=>location.pathname,v0=({ssrPath:s}={})=>Iu(Vc,s?()=>s:Vc),j0=(s,{replace:t=!1,state:a=null}={})=>history[t?Ro:Ao](a,"",s),y0=(s={})=>[v0(s),j0],$c=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[$c]>"u"){for(const s of[Ao,Ro]){const t=history[s];history[s]=function(){const a=t.apply(this,arguments),r=new Event(s);return r.arguments=arguments,dispatchEvent(r),a}}Object.defineProperty(window,$c,{value:!0})}const b0=(s,t)=>t.toLowerCase().indexOf(s.toLowerCase())?"~"+t:t.slice(s.length)||"/",Mu=(s="")=>s==="/"?"":s,N0=(s,t)=>s[0]==="~"?s.slice(1):Mu(t)+s,w0=(s="",t)=>b0(Uc(Mu(s)),Uc(t)),Uc=s=>{try{return decodeURI(s)}catch{return s}},Du={hook:y0,searchHook:g0,parser:Zg,base:"",ssrPath:void 0,ssrSearch:void 0,ssrContext:void 0,hrefs:s=>s},Lu=x.createContext(Du),ui=()=>x.useContext(Lu),Ou={},Fu=x.createContext(Ou),Vu=()=>x.useContext(Fu),yn=s=>{const[t,a]=s.hook(s);return[w0(s.base,t),_u((r,i)=>a(N0(r,s.base),i))]},mi=()=>yn(ui()),$u=(s,t,a,r)=>{const{pattern:i,keys:n}=t instanceof RegExp?{keys:!1,pattern:t}:s(t||"*",r),l=i.exec(a)||[],[c,...o]=l;return c!==void 0?[!0,(()=>{const d=n!==!1?Object.fromEntries(n.map((u,m)=>[u,o[m]])):l.groups;let h={...o};return d&&Object.assign(h,d),h})(),...r?[c]:[]]:[!1,null]},C0=({children:s,...t})=>{var h,u;const a=ui(),r=t.hook?Du:a;let i=r;const[n,l]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=n),t.hrefs=t.hrefs??((u=t.hook)==null?void 0:u.hrefs);let c=x.useRef({}),o=c.current,d=o;for(let m in r){const p=m==="base"?r[m]+(t[m]||""):t[m]||r[m];o===d&&p!==d[m]&&(c.current=d={...d}),d[m]=p,(p!==r[m]||p!==i[m])&&(i=d)}return x.createElement(Lu.Provider,{value:i,children:s})},Bc=({children:s,component:t},a)=>t?x.createElement(t,{params:a}):typeof s=="function"?s(a):s,S0=s=>{let t=x.useRef(Ou);const a=t.current;return t.current=Object.keys(s).length!==Object.keys(a).length||Object.entries(s).some(([r,i])=>i!==a[r])?s:a},ee=({path:s,nest:t,match:a,...r})=>{const i=ui(),[n]=yn(i),[l,c,o]=a??$u(i.parser,s,n,t),d=S0({...Vu(),...c});if(!l)return null;const h=o?x.createElement(C0,{base:o},Bc(r,d)):Bc(r,d);return x.createElement(Fu.Provider,{value:d,children:h})},St=x.forwardRef((s,t)=>{const a=ui(),[r,i]=yn(a),{to:n="",href:l=n,onClick:c,asChild:o,children:d,className:h,replace:u,state:m,...p}=s,j=_u(f=>{f.ctrlKey||f.metaKey||f.altKey||f.shiftKey||f.button!==0||(c==null||c(f),f.defaultPrevented||(f.preventDefault(),i(l,s)))}),g=a.hrefs(l[0]==="~"?l.slice(1):a.base+l,a);return o&&x.isValidElement(d)?x.cloneElement(d,{onClick:j,href:g}):x.createElement("a",{...p,onClick:j,href:g,className:h!=null&&h.call?h(r===l):h,children:d,ref:t})}),Uu=s=>Array.isArray(s)?s.flatMap(t=>Uu(t&&t.type===x.Fragment?t.props.children:t)):[s],qc=({children:s,location:t})=>{const a=ui(),[r]=yn(a);for(const i of Uu(s)){let n=0;if(x.isValidElement(i)&&(n=$u(a.parser,i.props.path,t||r,i.props.nest))[0])return x.cloneElement(i,{match:n})}return null};var br=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(s){return this.listeners.add(s),this.onSubscribe(),()=>{this.listeners.delete(s),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ca=typeof window>"u"||"Deno"in globalThis;function xt(){}function k0(s,t){return typeof s=="function"?s(t):s}function Al(s){return typeof s=="number"&&s>=0&&s!==1/0}function Bu(s,t){return Math.max(s+(t||0)-Date.now(),0)}function Us(s,t){return typeof s=="function"?s(t):s}function Mt(s,t){return typeof s=="function"?s(t):s}function zc(s,t){const{type:a="all",exact:r,fetchStatus:i,predicate:n,queryKey:l,stale:c}=s;if(l){if(r){if(t.queryHash!==Eo(l,t.options))return!1}else if(!Yr(t.queryKey,l))return!1}if(a!=="all"){const o=t.isActive();if(a==="active"&&!o||a==="inactive"&&o)return!1}return!(typeof c=="boolean"&&t.isStale()!==c||i&&i!==t.state.fetchStatus||n&&!n(t))}function Hc(s,t){const{exact:a,status:r,predicate:i,mutationKey:n}=s;if(n){if(!t.options.mutationKey)return!1;if(a){if(Sa(t.options.mutationKey)!==Sa(n))return!1}else if(!Yr(t.options.mutationKey,n))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Eo(s,t){return((t==null?void 0:t.queryKeyHashFn)||Sa)(s)}function Sa(s){return JSON.stringify(s,(t,a)=>Rl(a)?Object.keys(a).sort().reduce((r,i)=>(r[i]=a[i],r),{}):a)}function Yr(s,t){return s===t?!0:typeof s!=typeof t?!1:s&&t&&typeof s=="object"&&typeof t=="object"?Object.keys(t).every(a=>Yr(s[a],t[a])):!1}function qu(s,t){if(s===t)return s;const a=Wc(s)&&Wc(t);if(a||Rl(s)&&Rl(t)){const r=a?s:Object.keys(s),i=r.length,n=a?t:Object.keys(t),l=n.length,c=a?[]:{},o=new Set(r);let d=0;for(let h=0;h<l;h++){const u=a?h:n[h];(!a&&o.has(u)||a)&&s[u]===void 0&&t[u]===void 0?(c[u]=void 0,d++):(c[u]=qu(s[u],t[u]),c[u]===s[u]&&s[u]!==void 0&&d++)}return i===l&&d===i?s:c}return t}function Ki(s,t){if(!t||Object.keys(s).length!==Object.keys(t).length)return!1;for(const a in s)if(s[a]!==t[a])return!1;return!0}function Wc(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Rl(s){if(!Kc(s))return!1;const t=s.constructor;if(t===void 0)return!0;const a=t.prototype;return!(!Kc(a)||!a.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(s)!==Object.prototype)}function Kc(s){return Object.prototype.toString.call(s)==="[object Object]"}function P0(s){return new Promise(t=>{setTimeout(t,s)})}function El(s,t,a){return typeof a.structuralSharing=="function"?a.structuralSharing(s,t):a.structuralSharing!==!1?qu(s,t):t}function T0(s,t,a=0){const r=[...s,t];return a&&r.length>a?r.slice(1):r}function A0(s,t,a=0){const r=[t,...s];return a&&r.length>a?r.slice(0,-1):r}var _o=Symbol();function zu(s,t){return!s.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!s.queryFn||s.queryFn===_o?()=>Promise.reject(new Error(`Missing queryFn: '${s.queryHash}'`)):s.queryFn}function Hu(s,t){return typeof s=="function"?s(...t):!!s}var ma,Es,Ja,su,R0=(su=class extends br{constructor(){super();J(this,ma);J(this,Es);J(this,Ja);K(this,Ja,t=>{if(!Ca&&window.addEventListener){const a=()=>t();return window.addEventListener("visibilitychange",a,!1),()=>{window.removeEventListener("visibilitychange",a)}}})}onSubscribe(){S(this,Es)||this.setEventListener(S(this,Ja))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,Es))==null||t.call(this),K(this,Es,void 0))}setEventListener(t){var a;K(this,Ja,t),(a=S(this,Es))==null||a.call(this),K(this,Es,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){S(this,ma)!==t&&(K(this,ma,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(a=>{a(t)})}isFocused(){var t;return typeof S(this,ma)=="boolean"?S(this,ma):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},ma=new WeakMap,Es=new WeakMap,Ja=new WeakMap,su),Io=new R0,Ya,_s,Xa,au,E0=(au=class extends br{constructor(){super();J(this,Ya,!0);J(this,_s);J(this,Xa);K(this,Xa,t=>{if(!Ca&&window.addEventListener){const a=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",a,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",a),window.removeEventListener("offline",r)}}})}onSubscribe(){S(this,_s)||this.setEventListener(S(this,Xa))}onUnsubscribe(){var t;this.hasListeners()||((t=S(this,_s))==null||t.call(this),K(this,_s,void 0))}setEventListener(t){var a;K(this,Xa,t),(a=S(this,_s))==null||a.call(this),K(this,_s,t(this.setOnline.bind(this)))}setOnline(t){S(this,Ya)!==t&&(K(this,Ya,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return S(this,Ya)}},Ya=new WeakMap,_s=new WeakMap,Xa=new WeakMap,au),Gi=new E0;function _l(){let s,t;const a=new Promise((i,n)=>{s=i,t=n});a.status="pending",a.catch(()=>{});function r(i){Object.assign(a,i),delete a.resolve,delete a.reject}return a.resolve=i=>{r({status:"fulfilled",value:i}),s(i)},a.reject=i=>{r({status:"rejected",reason:i}),t(i)},a}function _0(s){return Math.min(1e3*2**s,3e4)}function Wu(s){return(s??"online")==="online"?Gi.isOnline():!0}var Ku=class extends Error{constructor(s){super("CancelledError"),this.revert=s==null?void 0:s.revert,this.silent=s==null?void 0:s.silent}};function Zn(s){return s instanceof Ku}function Gu(s){let t=!1,a=0,r=!1,i;const n=_l(),l=g=>{var f;r||(m(new Ku(g)),(f=s.abort)==null||f.call(s))},c=()=>{t=!0},o=()=>{t=!1},d=()=>Io.isFocused()&&(s.networkMode==="always"||Gi.isOnline())&&s.canRun(),h=()=>Wu(s.networkMode)&&s.canRun(),u=g=>{var f;r||(r=!0,(f=s.onSuccess)==null||f.call(s,g),i==null||i(),n.resolve(g))},m=g=>{var f;r||(r=!0,(f=s.onError)==null||f.call(s,g),i==null||i(),n.reject(g))},p=()=>new Promise(g=>{var f;i=w=>{(r||d())&&g(w)},(f=s.onPause)==null||f.call(s)}).then(()=>{var g;i=void 0,r||(g=s.onContinue)==null||g.call(s)}),j=()=>{if(r)return;let g;const f=a===0?s.initialPromise:void 0;try{g=f??s.fn()}catch(w){g=Promise.reject(w)}Promise.resolve(g).then(u).catch(w=>{var O;if(r)return;const y=s.retry??(Ca?0:3),v=s.retryDelay??_0,A=typeof v=="function"?v(a,w):v,C=y===!0||typeof y=="number"&&a<y||typeof y=="function"&&y(a,w);if(t||!C){m(w);return}a++,(O=s.onFail)==null||O.call(s,a,w),P0(A).then(()=>d()?void 0:p()).then(()=>{t?m(w):j()})})};return{promise:n,cancel:l,continue:()=>(i==null||i(),n),cancelRetry:c,continueRetry:o,canStart:h,start:()=>(h()?j():p().then(j),n)}}var I0=s=>setTimeout(s,0);function M0(){let s=[],t=0,a=c=>{c()},r=c=>{c()},i=I0;const n=c=>{t?s.push(c):i(()=>{a(c)})},l=()=>{const c=s;s=[],c.length&&i(()=>{r(()=>{c.forEach(o=>{a(o)})})})};return{batch:c=>{let o;t++;try{o=c()}finally{t--,t||l()}return o},batchCalls:c=>(...o)=>{n(()=>{c(...o)})},schedule:n,setNotifyFunction:c=>{a=c},setBatchNotifyFunction:c=>{r=c},setScheduler:c=>{i=c}}}var qe=M0(),xa,ru,Qu=(ru=class{constructor(){J(this,xa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Al(this.gcTime)&&K(this,xa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(s){this.gcTime=Math.max(this.gcTime||0,s??(Ca?1/0:5*60*1e3))}clearGcTimeout(){S(this,xa)&&(clearTimeout(S(this,xa)),K(this,xa,void 0))}},xa=new WeakMap,ru),Za,fa,It,pa,rt,oi,ga,zt,is,iu,D0=(iu=class extends Qu{constructor(t){super();J(this,zt);J(this,Za);J(this,fa);J(this,It);J(this,pa);J(this,rt);J(this,oi);J(this,ga);K(this,ga,!1),K(this,oi,t.defaultOptions),this.setOptions(t.options),this.observers=[],K(this,pa,t.client),K(this,It,S(this,pa).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,K(this,Za,L0(this.options)),this.state=t.state??S(this,Za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=S(this,rt))==null?void 0:t.promise}setOptions(t){this.options={...S(this,oi),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&S(this,It).remove(this)}setData(t,a){const r=El(this.state.data,t,this.options);return le(this,zt,is).call(this,{data:r,type:"success",dataUpdatedAt:a==null?void 0:a.updatedAt,manual:a==null?void 0:a.manual}),r}setState(t,a){le(this,zt,is).call(this,{type:"setState",state:t,setStateOptions:a})}cancel(t){var r,i;const a=(r=S(this,rt))==null?void 0:r.promise;return(i=S(this,rt))==null||i.cancel(t),a?a.then(xt).catch(xt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(S(this,Za))}isActive(){return this.observers.some(t=>Mt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===_o||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>Us(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Bu(this.state.dataUpdatedAt,t)}onFocus(){var a;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(a=S(this,rt))==null||a.continue()}onOnline(){var a;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(a=S(this,rt))==null||a.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),S(this,It).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(a=>a!==t),this.observers.length||(S(this,rt)&&(S(this,ga)?S(this,rt).cancel({revert:!0}):S(this,rt).cancelRetry()),this.scheduleGc()),S(this,It).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,zt,is).call(this,{type:"invalidate"})}fetch(t,a){var d,h,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(a!=null&&a.cancelRefetch))this.cancel({silent:!0});else if(S(this,rt))return S(this,rt).continueRetry(),S(this,rt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(p=>p.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(K(this,ga,!0),r.signal)})},n=()=>{const m=zu(this.options,a),j=(()=>{const g={client:S(this,pa),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return K(this,ga,!1),this.options.persister?this.options.persister(m,j,this):m(j)},c=(()=>{const m={fetchOptions:a,options:this.options,queryKey:this.queryKey,client:S(this,pa),state:this.state,fetchFn:n};return i(m),m})();(d=this.options.behavior)==null||d.onFetch(c,this),K(this,fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=c.fetchOptions)==null?void 0:h.meta))&&le(this,zt,is).call(this,{type:"fetch",meta:(u=c.fetchOptions)==null?void 0:u.meta});const o=m=>{var p,j,g,f;Zn(m)&&m.silent||le(this,zt,is).call(this,{type:"error",error:m}),Zn(m)||((j=(p=S(this,It).config).onError)==null||j.call(p,m,this),(f=(g=S(this,It).config).onSettled)==null||f.call(g,this.state.data,m,this)),this.scheduleGc()};return K(this,rt,Gu({initialPromise:a==null?void 0:a.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var p,j,g,f;if(m===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(w){o(w);return}(j=(p=S(this,It).config).onSuccess)==null||j.call(p,m,this),(f=(g=S(this,It).config).onSettled)==null||f.call(g,m,this.state.error,this),this.scheduleGc()},onError:o,onFail:(m,p)=>{le(this,zt,is).call(this,{type:"failed",failureCount:m,error:p})},onPause:()=>{le(this,zt,is).call(this,{type:"pause"})},onContinue:()=>{le(this,zt,is).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),S(this,rt).start()}},Za=new WeakMap,fa=new WeakMap,It=new WeakMap,pa=new WeakMap,rt=new WeakMap,oi=new WeakMap,ga=new WeakMap,zt=new WeakSet,is=function(t){const a=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...Ju(r.data,this.options),fetchMeta:t.meta??null};case"success":return K(this,fa,void 0),{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Zn(i)&&i.revert&&S(this,fa)?{...S(this,fa),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=a(this.state),qe.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),S(this,It).notify({query:this,type:"updated",action:t})})},iu);function Ju(s,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Wu(t.networkMode)?"fetching":"paused",...s===void 0&&{error:null,status:"pending"}}}function L0(s){const t=typeof s.initialData=="function"?s.initialData():s.initialData,a=t!==void 0,r=a?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:a?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:a?"success":"pending",fetchStatus:"idle"}}var Gt,nu,O0=(nu=class extends br{constructor(t={}){super();J(this,Gt);this.config=t,K(this,Gt,new Map)}build(t,a,r){const i=a.queryKey,n=a.queryHash??Eo(i,a);let l=this.get(n);return l||(l=new D0({client:t,queryKey:i,queryHash:n,options:t.defaultQueryOptions(a),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){S(this,Gt).has(t.queryHash)||(S(this,Gt).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const a=S(this,Gt).get(t.queryHash);a&&(t.destroy(),a===t&&S(this,Gt).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){qe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return S(this,Gt).get(t)}getAll(){return[...S(this,Gt).values()]}find(t){const a={exact:!0,...t};return this.getAll().find(r=>zc(a,r))}findAll(t={}){const a=this.getAll();return Object.keys(t).length>0?a.filter(r=>zc(t,r)):a}notify(t){qe.batch(()=>{this.listeners.forEach(a=>{a(t)})})}onFocus(){qe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){qe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Gt=new WeakMap,nu),Qt,ut,va,Jt,ks,lu,F0=(lu=class extends Qu{constructor(t){super();J(this,Jt);J(this,Qt);J(this,ut);J(this,va);this.mutationId=t.mutationId,K(this,ut,t.mutationCache),K(this,Qt,[]),this.state=t.state||Yu(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){S(this,Qt).includes(t)||(S(this,Qt).push(t),this.clearGcTimeout(),S(this,ut).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){K(this,Qt,S(this,Qt).filter(a=>a!==t)),this.scheduleGc(),S(this,ut).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){S(this,Qt).length||(this.state.status==="pending"?this.scheduleGc():S(this,ut).remove(this))}continue(){var t;return((t=S(this,va))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var n,l,c,o,d,h,u,m,p,j,g,f,w,y,v,A,C,O,M,I;const a=()=>{le(this,Jt,ks).call(this,{type:"continue"})};K(this,va,Gu({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(_,U)=>{le(this,Jt,ks).call(this,{type:"failed",failureCount:_,error:U})},onPause:()=>{le(this,Jt,ks).call(this,{type:"pause"})},onContinue:a,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>S(this,ut).canRun(this)}));const r=this.state.status==="pending",i=!S(this,va).canStart();try{if(r)a();else{le(this,Jt,ks).call(this,{type:"pending",variables:t,isPaused:i}),await((l=(n=S(this,ut).config).onMutate)==null?void 0:l.call(n,t,this));const U=await((o=(c=this.options).onMutate)==null?void 0:o.call(c,t));U!==this.state.context&&le(this,Jt,ks).call(this,{type:"pending",context:U,variables:t,isPaused:i})}const _=await S(this,va).start();return await((h=(d=S(this,ut).config).onSuccess)==null?void 0:h.call(d,_,t,this.state.context,this)),await((m=(u=this.options).onSuccess)==null?void 0:m.call(u,_,t,this.state.context)),await((j=(p=S(this,ut).config).onSettled)==null?void 0:j.call(p,_,null,this.state.variables,this.state.context,this)),await((f=(g=this.options).onSettled)==null?void 0:f.call(g,_,null,t,this.state.context)),le(this,Jt,ks).call(this,{type:"success",data:_}),_}catch(_){try{throw await((y=(w=S(this,ut).config).onError)==null?void 0:y.call(w,_,t,this.state.context,this)),await((A=(v=this.options).onError)==null?void 0:A.call(v,_,t,this.state.context)),await((O=(C=S(this,ut).config).onSettled)==null?void 0:O.call(C,void 0,_,this.state.variables,this.state.context,this)),await((I=(M=this.options).onSettled)==null?void 0:I.call(M,void 0,_,t,this.state.context)),_}finally{le(this,Jt,ks).call(this,{type:"error",error:_})}}finally{S(this,ut).runNext(this)}}},Qt=new WeakMap,ut=new WeakMap,va=new WeakMap,Jt=new WeakSet,ks=function(t){const a=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=a(this.state),qe.batch(()=>{S(this,Qt).forEach(r=>{r.onMutationUpdate(t)}),S(this,ut).notify({mutation:this,type:"updated",action:t})})},lu);function Yu(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var os,Ht,ci,ou,V0=(ou=class extends br{constructor(t={}){super();J(this,os);J(this,Ht);J(this,ci);this.config=t,K(this,os,new Set),K(this,Ht,new Map),K(this,ci,0)}build(t,a,r){const i=new F0({mutationCache:this,mutationId:++Ci(this,ci)._,options:t.defaultMutationOptions(a),state:r});return this.add(i),i}add(t){S(this,os).add(t);const a=Si(t);if(typeof a=="string"){const r=S(this,Ht).get(a);r?r.push(t):S(this,Ht).set(a,[t])}this.notify({type:"added",mutation:t})}remove(t){if(S(this,os).delete(t)){const a=Si(t);if(typeof a=="string"){const r=S(this,Ht).get(a);if(r)if(r.length>1){const i=r.indexOf(t);i!==-1&&r.splice(i,1)}else r[0]===t&&S(this,Ht).delete(a)}}this.notify({type:"removed",mutation:t})}canRun(t){const a=Si(t);if(typeof a=="string"){const r=S(this,Ht).get(a),i=r==null?void 0:r.find(n=>n.state.status==="pending");return!i||i===t}else return!0}runNext(t){var r;const a=Si(t);if(typeof a=="string"){const i=(r=S(this,Ht).get(a))==null?void 0:r.find(n=>n!==t&&n.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){qe.batch(()=>{S(this,os).forEach(t=>{this.notify({type:"removed",mutation:t})}),S(this,os).clear(),S(this,Ht).clear()})}getAll(){return Array.from(S(this,os))}find(t){const a={exact:!0,...t};return this.getAll().find(r=>Hc(a,r))}findAll(t={}){return this.getAll().filter(a=>Hc(t,a))}notify(t){qe.batch(()=>{this.listeners.forEach(a=>{a(t)})})}resumePausedMutations(){const t=this.getAll().filter(a=>a.state.isPaused);return qe.batch(()=>Promise.all(t.map(a=>a.continue().catch(xt))))}},os=new WeakMap,Ht=new WeakMap,ci=new WeakMap,ou);function Si(s){var t;return(t=s.options.scope)==null?void 0:t.id}function Gc(s){return{onFetch:(t,a)=>{var h,u,m,p,j;const r=t.options,i=(m=(u=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:u.fetchMore)==null?void 0:m.direction,n=((p=t.state.data)==null?void 0:p.pages)||[],l=((j=t.state.data)==null?void 0:j.pageParams)||[];let c={pages:[],pageParams:[]},o=0;const d=async()=>{let g=!1;const f=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},w=zu(t.options,t.fetchOptions),y=async(v,A,C)=>{if(g)return Promise.reject();if(A==null&&v.pages.length)return Promise.resolve(v);const M=(()=>{const L={client:t.client,queryKey:t.queryKey,pageParam:A,direction:C?"backward":"forward",meta:t.options.meta};return f(L),L})(),I=await w(M),{maxPages:_}=t.options,U=C?A0:T0;return{pages:U(v.pages,I,_),pageParams:U(v.pageParams,A,_)}};if(i&&n.length){const v=i==="backward",A=v?$0:Qc,C={pages:n,pageParams:l},O=A(r,C);c=await y(C,O,v)}else{const v=s??n.length;do{const A=o===0?l[0]??r.initialPageParam:Qc(r,c);if(o>0&&A==null)break;c=await y(c,A),o++}while(o<v)}return c};t.options.persister?t.fetchFn=()=>{var g,f;return(f=(g=t.options).persister)==null?void 0:f.call(g,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},a)}:t.fetchFn=d}}}function Qc(s,{pages:t,pageParams:a}){const r=t.length-1;return t.length>0?s.getNextPageParam(t[r],t,a[r],a):void 0}function $0(s,{pages:t,pageParams:a}){var r;return t.length>0?(r=s.getPreviousPageParam)==null?void 0:r.call(s,t[0],t,a[0],a):void 0}var Ve,Is,Ms,er,tr,Ds,sr,ar,cu,U0=(cu=class{constructor(s={}){J(this,Ve);J(this,Is);J(this,Ms);J(this,er);J(this,tr);J(this,Ds);J(this,sr);J(this,ar);K(this,Ve,s.queryCache||new O0),K(this,Is,s.mutationCache||new V0),K(this,Ms,s.defaultOptions||{}),K(this,er,new Map),K(this,tr,new Map),K(this,Ds,0)}mount(){Ci(this,Ds)._++,S(this,Ds)===1&&(K(this,sr,Io.subscribe(async s=>{s&&(await this.resumePausedMutations(),S(this,Ve).onFocus())})),K(this,ar,Gi.subscribe(async s=>{s&&(await this.resumePausedMutations(),S(this,Ve).onOnline())})))}unmount(){var s,t;Ci(this,Ds)._--,S(this,Ds)===0&&((s=S(this,sr))==null||s.call(this),K(this,sr,void 0),(t=S(this,ar))==null||t.call(this),K(this,ar,void 0))}isFetching(s){return S(this,Ve).findAll({...s,fetchStatus:"fetching"}).length}isMutating(s){return S(this,Is).findAll({...s,status:"pending"}).length}getQueryData(s){var a;const t=this.defaultQueryOptions({queryKey:s});return(a=S(this,Ve).get(t.queryHash))==null?void 0:a.state.data}ensureQueryData(s){const t=this.defaultQueryOptions(s),a=S(this,Ve).build(this,t),r=a.state.data;return r===void 0?this.fetchQuery(s):(s.revalidateIfStale&&a.isStaleByTime(Us(t.staleTime,a))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(s){return S(this,Ve).findAll(s).map(({queryKey:t,state:a})=>{const r=a.data;return[t,r]})}setQueryData(s,t,a){const r=this.defaultQueryOptions({queryKey:s}),i=S(this,Ve).get(r.queryHash),n=i==null?void 0:i.state.data,l=k0(t,n);if(l!==void 0)return S(this,Ve).build(this,r).setData(l,{...a,manual:!0})}setQueriesData(s,t,a){return qe.batch(()=>S(this,Ve).findAll(s).map(({queryKey:r})=>[r,this.setQueryData(r,t,a)]))}getQueryState(s){var a;const t=this.defaultQueryOptions({queryKey:s});return(a=S(this,Ve).get(t.queryHash))==null?void 0:a.state}removeQueries(s){const t=S(this,Ve);qe.batch(()=>{t.findAll(s).forEach(a=>{t.remove(a)})})}resetQueries(s,t){const a=S(this,Ve);return qe.batch(()=>(a.findAll(s).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...s},t)))}cancelQueries(s,t={}){const a={revert:!0,...t},r=qe.batch(()=>S(this,Ve).findAll(s).map(i=>i.cancel(a)));return Promise.all(r).then(xt).catch(xt)}invalidateQueries(s,t={}){return qe.batch(()=>(S(this,Ve).findAll(s).forEach(a=>{a.invalidate()}),(s==null?void 0:s.refetchType)==="none"?Promise.resolve():this.refetchQueries({...s,type:(s==null?void 0:s.refetchType)??(s==null?void 0:s.type)??"active"},t)))}refetchQueries(s,t={}){const a={...t,cancelRefetch:t.cancelRefetch??!0},r=qe.batch(()=>S(this,Ve).findAll(s).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let n=i.fetch(void 0,a);return a.throwOnError||(n=n.catch(xt)),i.state.fetchStatus==="paused"?Promise.resolve():n}));return Promise.all(r).then(xt)}fetchQuery(s){const t=this.defaultQueryOptions(s);t.retry===void 0&&(t.retry=!1);const a=S(this,Ve).build(this,t);return a.isStaleByTime(Us(t.staleTime,a))?a.fetch(t):Promise.resolve(a.state.data)}prefetchQuery(s){return this.fetchQuery(s).then(xt).catch(xt)}fetchInfiniteQuery(s){return s.behavior=Gc(s.pages),this.fetchQuery(s)}prefetchInfiniteQuery(s){return this.fetchInfiniteQuery(s).then(xt).catch(xt)}ensureInfiniteQueryData(s){return s.behavior=Gc(s.pages),this.ensureQueryData(s)}resumePausedMutations(){return Gi.isOnline()?S(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return S(this,Ve)}getMutationCache(){return S(this,Is)}getDefaultOptions(){return S(this,Ms)}setDefaultOptions(s){K(this,Ms,s)}setQueryDefaults(s,t){S(this,er).set(Sa(s),{queryKey:s,defaultOptions:t})}getQueryDefaults(s){const t=[...S(this,er).values()],a={};return t.forEach(r=>{Yr(s,r.queryKey)&&Object.assign(a,r.defaultOptions)}),a}setMutationDefaults(s,t){S(this,tr).set(Sa(s),{mutationKey:s,defaultOptions:t})}getMutationDefaults(s){const t=[...S(this,tr).values()],a={};return t.forEach(r=>{Yr(s,r.mutationKey)&&Object.assign(a,r.defaultOptions)}),a}defaultQueryOptions(s){if(s._defaulted)return s;const t={...S(this,Ms).queries,...this.getQueryDefaults(s.queryKey),...s,_defaulted:!0};return t.queryHash||(t.queryHash=Eo(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===_o&&(t.enabled=!1),t}defaultMutationOptions(s){return s!=null&&s._defaulted?s:{...S(this,Ms).mutations,...(s==null?void 0:s.mutationKey)&&this.getMutationDefaults(s.mutationKey),...s,_defaulted:!0}}clear(){S(this,Ve).clear(),S(this,Is).clear()}},Ve=new WeakMap,Is=new WeakMap,Ms=new WeakMap,er=new WeakMap,tr=new WeakMap,Ds=new WeakMap,sr=new WeakMap,ar=new WeakMap,cu),gt,je,di,mt,ja,rr,Ls,Os,hi,ir,nr,ya,ba,Fs,lr,be,Or,Il,Ml,Dl,Ll,Ol,Fl,Vl,Xu,du,B0=(du=class extends br{constructor(t,a){super();J(this,be);J(this,gt);J(this,je);J(this,di);J(this,mt);J(this,ja);J(this,rr);J(this,Ls);J(this,Os);J(this,hi);J(this,ir);J(this,nr);J(this,ya);J(this,ba);J(this,Fs);J(this,lr,new Set);this.options=a,K(this,gt,t),K(this,Os,null),K(this,Ls,_l()),this.options.experimental_prefetchInRender||S(this,Ls).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(a)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(S(this,je).addObserver(this),Jc(S(this,je),this.options)?le(this,be,Or).call(this):this.updateResult(),le(this,be,Ll).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return $l(S(this,je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return $l(S(this,je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,be,Ol).call(this),le(this,be,Fl).call(this),S(this,je).removeObserver(this)}setOptions(t){const a=this.options,r=S(this,je);if(this.options=S(this,gt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mt(this.options.enabled,S(this,je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,be,Vl).call(this),S(this,je).setOptions(this.options),a._defaulted&&!Ki(this.options,a)&&S(this,gt).getQueryCache().notify({type:"observerOptionsUpdated",query:S(this,je),observer:this});const i=this.hasListeners();i&&Yc(S(this,je),r,this.options,a)&&le(this,be,Or).call(this),this.updateResult(),i&&(S(this,je)!==r||Mt(this.options.enabled,S(this,je))!==Mt(a.enabled,S(this,je))||Us(this.options.staleTime,S(this,je))!==Us(a.staleTime,S(this,je)))&&le(this,be,Il).call(this);const n=le(this,be,Ml).call(this);i&&(S(this,je)!==r||Mt(this.options.enabled,S(this,je))!==Mt(a.enabled,S(this,je))||n!==S(this,Fs))&&le(this,be,Dl).call(this,n)}getOptimisticResult(t){const a=S(this,gt).getQueryCache().build(S(this,gt),t),r=this.createResult(a,t);return z0(this,r)&&(K(this,mt,r),K(this,rr,this.options),K(this,ja,S(this,je).state)),r}getCurrentResult(){return S(this,mt)}trackResult(t,a){return new Proxy(t,{get:(r,i)=>(this.trackProp(i),a==null||a(i),Reflect.get(r,i))})}trackProp(t){S(this,lr).add(t)}getCurrentQuery(){return S(this,je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const a=S(this,gt).defaultQueryOptions(t),r=S(this,gt).getQueryCache().build(S(this,gt),a);return r.fetch().then(()=>this.createResult(r,a))}fetch(t){return le(this,be,Or).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),S(this,mt)))}createResult(t,a){var _;const r=S(this,je),i=this.options,n=S(this,mt),l=S(this,ja),c=S(this,rr),d=t!==r?t.state:S(this,di),{state:h}=t;let u={...h},m=!1,p;if(a._optimisticResults){const U=this.hasListeners(),L=!U&&Jc(t,a),q=U&&Yc(t,r,a,i);(L||q)&&(u={...u,...Ju(h.data,t.options)}),a._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:j,errorUpdatedAt:g,status:f}=u;p=u.data;let w=!1;if(a.placeholderData!==void 0&&p===void 0&&f==="pending"){let U;n!=null&&n.isPlaceholderData&&a.placeholderData===(c==null?void 0:c.placeholderData)?(U=n.data,w=!0):U=typeof a.placeholderData=="function"?a.placeholderData((_=S(this,nr))==null?void 0:_.state.data,S(this,nr)):a.placeholderData,U!==void 0&&(f="success",p=El(n==null?void 0:n.data,U,a),m=!0)}if(a.select&&p!==void 0&&!w)if(n&&p===(l==null?void 0:l.data)&&a.select===S(this,hi))p=S(this,ir);else try{K(this,hi,a.select),p=a.select(p),p=El(n==null?void 0:n.data,p,a),K(this,ir,p),K(this,Os,null)}catch(U){K(this,Os,U)}S(this,Os)&&(j=S(this,Os),p=S(this,ir),g=Date.now(),f="error");const y=u.fetchStatus==="fetching",v=f==="pending",A=f==="error",C=v&&y,O=p!==void 0,I={status:f,fetchStatus:u.fetchStatus,isPending:v,isSuccess:f==="success",isError:A,isInitialLoading:C,isLoading:C,data:p,dataUpdatedAt:u.dataUpdatedAt,error:j,errorUpdatedAt:g,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>d.dataUpdateCount||u.errorUpdateCount>d.errorUpdateCount,isFetching:y,isRefetching:y&&!v,isLoadingError:A&&!O,isPaused:u.fetchStatus==="paused",isPlaceholderData:m,isRefetchError:A&&O,isStale:Mo(t,a),refetch:this.refetch,promise:S(this,Ls),isEnabled:Mt(a.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const U=H=>{I.status==="error"?H.reject(I.error):I.data!==void 0&&H.resolve(I.data)},L=()=>{const H=K(this,Ls,I.promise=_l());U(H)},q=S(this,Ls);switch(q.status){case"pending":t.queryHash===r.queryHash&&U(q);break;case"fulfilled":(I.status==="error"||I.data!==q.value)&&L();break;case"rejected":(I.status!=="error"||I.error!==q.reason)&&L();break}}return I}updateResult(){const t=S(this,mt),a=this.createResult(S(this,je),this.options);if(K(this,ja,S(this,je).state),K(this,rr,this.options),S(this,ja).data!==void 0&&K(this,nr,S(this,je)),Ki(a,t))return;K(this,mt,a);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:i}=this.options,n=typeof i=="function"?i():i;if(n==="all"||!n&&!S(this,lr).size)return!0;const l=new Set(n??S(this,lr));return this.options.throwOnError&&l.add("error"),Object.keys(S(this,mt)).some(c=>{const o=c;return S(this,mt)[o]!==t[o]&&l.has(o)})};le(this,be,Xu).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,be,Ll).call(this)}},gt=new WeakMap,je=new WeakMap,di=new WeakMap,mt=new WeakMap,ja=new WeakMap,rr=new WeakMap,Ls=new WeakMap,Os=new WeakMap,hi=new WeakMap,ir=new WeakMap,nr=new WeakMap,ya=new WeakMap,ba=new WeakMap,Fs=new WeakMap,lr=new WeakMap,be=new WeakSet,Or=function(t){le(this,be,Vl).call(this);let a=S(this,je).fetch(this.options,t);return t!=null&&t.throwOnError||(a=a.catch(xt)),a},Il=function(){le(this,be,Ol).call(this);const t=Us(this.options.staleTime,S(this,je));if(Ca||S(this,mt).isStale||!Al(t))return;const r=Bu(S(this,mt).dataUpdatedAt,t)+1;K(this,ya,setTimeout(()=>{S(this,mt).isStale||this.updateResult()},r))},Ml=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(S(this,je)):this.options.refetchInterval)??!1},Dl=function(t){le(this,be,Fl).call(this),K(this,Fs,t),!(Ca||Mt(this.options.enabled,S(this,je))===!1||!Al(S(this,Fs))||S(this,Fs)===0)&&K(this,ba,setInterval(()=>{(this.options.refetchIntervalInBackground||Io.isFocused())&&le(this,be,Or).call(this)},S(this,Fs)))},Ll=function(){le(this,be,Il).call(this),le(this,be,Dl).call(this,le(this,be,Ml).call(this))},Ol=function(){S(this,ya)&&(clearTimeout(S(this,ya)),K(this,ya,void 0))},Fl=function(){S(this,ba)&&(clearInterval(S(this,ba)),K(this,ba,void 0))},Vl=function(){const t=S(this,gt).getQueryCache().build(S(this,gt),this.options);if(t===S(this,je))return;const a=S(this,je);K(this,je,t),K(this,di,t.state),this.hasListeners()&&(a==null||a.removeObserver(this),t.addObserver(this))},Xu=function(t){qe.batch(()=>{t.listeners&&this.listeners.forEach(a=>{a(S(this,mt))}),S(this,gt).getQueryCache().notify({query:S(this,je),type:"observerResultsUpdated"})})},du);function q0(s,t){return Mt(t.enabled,s)!==!1&&s.state.data===void 0&&!(s.state.status==="error"&&t.retryOnMount===!1)}function Jc(s,t){return q0(s,t)||s.state.data!==void 0&&$l(s,t,t.refetchOnMount)}function $l(s,t,a){if(Mt(t.enabled,s)!==!1&&Us(t.staleTime,s)!=="static"){const r=typeof a=="function"?a(s):a;return r==="always"||r!==!1&&Mo(s,t)}return!1}function Yc(s,t,a,r){return(s!==t||Mt(r.enabled,s)===!1)&&(!a.suspense||s.state.status!=="error")&&Mo(s,a)}function Mo(s,t){return Mt(t.enabled,s)!==!1&&s.isStaleByTime(Us(t.staleTime,s))}function z0(s,t){return!Ki(s.getCurrentResult(),t)}var Vs,$s,vt,cs,ps,Fi,Ul,hu,H0=(hu=class extends br{constructor(a,r){super();J(this,ps);J(this,Vs);J(this,$s);J(this,vt);J(this,cs);K(this,Vs,a),this.setOptions(r),this.bindMethods(),le(this,ps,Fi).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){var i;const r=this.options;this.options=S(this,Vs).defaultMutationOptions(a),Ki(this.options,r)||S(this,Vs).getMutationCache().notify({type:"observerOptionsUpdated",mutation:S(this,vt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Sa(r.mutationKey)!==Sa(this.options.mutationKey)?this.reset():((i=S(this,vt))==null?void 0:i.state.status)==="pending"&&S(this,vt).setOptions(this.options)}onUnsubscribe(){var a;this.hasListeners()||(a=S(this,vt))==null||a.removeObserver(this)}onMutationUpdate(a){le(this,ps,Fi).call(this),le(this,ps,Ul).call(this,a)}getCurrentResult(){return S(this,$s)}reset(){var a;(a=S(this,vt))==null||a.removeObserver(this),K(this,vt,void 0),le(this,ps,Fi).call(this),le(this,ps,Ul).call(this)}mutate(a,r){var i;return K(this,cs,r),(i=S(this,vt))==null||i.removeObserver(this),K(this,vt,S(this,Vs).getMutationCache().build(S(this,Vs),this.options)),S(this,vt).addObserver(this),S(this,vt).execute(a)}},Vs=new WeakMap,$s=new WeakMap,vt=new WeakMap,cs=new WeakMap,ps=new WeakSet,Fi=function(){var r;const a=((r=S(this,vt))==null?void 0:r.state)??Yu();K(this,$s,{...a,isPending:a.status==="pending",isSuccess:a.status==="success",isError:a.status==="error",isIdle:a.status==="idle",mutate:this.mutate,reset:this.reset})},Ul=function(a){qe.batch(()=>{var r,i,n,l,c,o,d,h;if(S(this,cs)&&this.hasListeners()){const u=S(this,$s).variables,m=S(this,$s).context;(a==null?void 0:a.type)==="success"?((i=(r=S(this,cs)).onSuccess)==null||i.call(r,a.data,u,m),(l=(n=S(this,cs)).onSettled)==null||l.call(n,a.data,null,u,m)):(a==null?void 0:a.type)==="error"&&((o=(c=S(this,cs)).onError)==null||o.call(c,a.error,u,m),(h=(d=S(this,cs)).onSettled)==null||h.call(d,void 0,a.error,u,m))}this.listeners.forEach(u=>{u(S(this,$s))})})},hu),Zu=x.createContext(void 0),ss=s=>{const t=x.useContext(Zu);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},W0=({client:s,children:t})=>(x.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]),e.jsx(Zu.Provider,{value:s,children:t})),em=x.createContext(!1),K0=()=>x.useContext(em);em.Provider;function G0(){let s=!1;return{clearReset:()=>{s=!1},reset:()=>{s=!0},isReset:()=>s}}var Q0=x.createContext(G0()),J0=()=>x.useContext(Q0),Y0=(s,t)=>{(s.suspense||s.throwOnError||s.experimental_prefetchInRender)&&(t.isReset()||(s.retryOnMount=!1))},X0=s=>{x.useEffect(()=>{s.clearReset()},[s])},Z0=({result:s,errorResetBoundary:t,throwOnError:a,query:r,suspense:i})=>s.isError&&!t.isReset()&&!s.isFetching&&r&&(i&&s.data===void 0||Hu(a,[s.error,r])),ev=s=>{if(s.suspense){const t=r=>r==="static"?r:Math.max(r??1e3,1e3),a=s.staleTime;s.staleTime=typeof a=="function"?(...r)=>t(a(...r)):t(a),typeof s.gcTime=="number"&&(s.gcTime=Math.max(s.gcTime,1e3))}},tv=(s,t)=>s.isLoading&&s.isFetching&&!t,sv=(s,t)=>(s==null?void 0:s.suspense)&&t.isPending,Xc=(s,t,a)=>t.fetchOptimistic(s).catch(()=>{a.clearReset()});function av(s,t,a){var u,m,p,j,g;const r=K0(),i=J0(),n=ss(),l=n.defaultQueryOptions(s);(m=(u=n.getDefaultOptions().queries)==null?void 0:u._experimental_beforeQuery)==null||m.call(u,l),l._optimisticResults=r?"isRestoring":"optimistic",ev(l),Y0(l,i),X0(i);const c=!n.getQueryCache().get(l.queryHash),[o]=x.useState(()=>new t(n,l)),d=o.getOptimisticResult(l),h=!r&&s.subscribed!==!1;if(x.useSyncExternalStore(x.useCallback(f=>{const w=h?o.subscribe(qe.batchCalls(f)):xt;return o.updateResult(),w},[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),x.useEffect(()=>{o.setOptions(l)},[l,o]),sv(l,d))throw Xc(l,o,i);if(Z0({result:d,errorResetBoundary:i,throwOnError:l.throwOnError,query:n.getQueryCache().get(l.queryHash),suspense:l.suspense}))throw d.error;if((j=(p=n.getDefaultOptions().queries)==null?void 0:p._experimental_afterQuery)==null||j.call(p,l,d),l.experimental_prefetchInRender&&!Ca&&tv(d,r)){const f=c?Xc(l,o,i):(g=n.getQueryCache().get(l.queryHash))==null?void 0:g.promise;f==null||f.catch(xt).finally(()=>{o.updateResult()})}return l.notifyOnChangeProps?d:o.trackResult(d)}function Q(s,t){return av(s,B0)}function Ne(s,t){const a=ss(),[r]=x.useState(()=>new H0(a,s));x.useEffect(()=>{r.setOptions(s)},[r,s]);const i=x.useSyncExternalStore(x.useCallback(l=>r.subscribe(qe.batchCalls(l)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),n=x.useCallback((l,c)=>{r.mutate(l,c).catch(xt)},[r]);if(i.error&&Hu(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:n,mutateAsync:i.mutate}}async function tm(s){if(!s.ok){const t=await s.text()||s.statusText;throw new Error(`${s.status}: ${t}`)}}const rv="https://civicos.onrender.com";function Qi(){return localStorage.getItem("civicos-jwt")||""}async function ye(s,t="GET",a){const r=s.startsWith("http")?s:rv.replace(/\/$/,"")+s,i=Qi(),n=a?{"Content-Type":"application/json"}:{};i&&(n.Authorization=`Bearer ${i}`);const l=await fetch(r,{method:t,headers:n,body:a?JSON.stringify(a):void 0,credentials:"include"});return await tm(l),await l.json()}const iv=({on401:s})=>async({queryKey:t})=>{const a=Qi(),r=await fetch(t[0],{credentials:"include",headers:a?{Authorization:`Bearer ${a}`}:{}});return await tm(r),await r.json()},ka=new U0({defaultOptions:{queries:{queryFn:iv({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),nv=1,lv=1e6;let el=0;function ov(){return el=(el+1)%Number.MAX_SAFE_INTEGER,el.toString()}const tl=new Map,Zc=s=>{if(tl.has(s))return;const t=setTimeout(()=>{tl.delete(s),zr({type:"REMOVE_TOAST",toastId:s})},lv);tl.set(s,t)},cv=(s,t)=>{switch(t.type){case"ADD_TOAST":return{...s,toasts:[t.toast,...s.toasts].slice(0,nv)};case"UPDATE_TOAST":return{...s,toasts:s.toasts.map(a=>a.id===t.toast.id?{...a,...t.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=t;return a?Zc(a):s.toasts.forEach(r=>{Zc(r.id)}),{...s,toasts:s.toasts.map(r=>r.id===a||a===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(a=>a.id!==t.toastId)}}},Vi=[];let $i={toasts:[]};function zr(s){$i=cv($i,s),Vi.forEach(t=>{t($i)})}function dv({...s}){const t=ov(),a=i=>zr({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>zr({type:"DISMISS_TOAST",toastId:t});return zr({type:"ADD_TOAST",toast:{...s,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:a}}function dt(){const[s,t]=x.useState($i);return x.useEffect(()=>(Vi.push(t),()=>{const a=Vi.indexOf(t);a>-1&&Vi.splice(a,1)}),[s]),{...s,toast:dv,dismiss:a=>zr({type:"DISMISS_TOAST",toastId:a})}}var sm=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),hv="VisuallyHidden",bn=x.forwardRef((s,t)=>e.jsx(he.span,{...s,ref:t,style:{...sm,...s.style}}));bn.displayName=hv;var uv=bn,Do="ToastProvider",[Lo,mv,xv]=uu("Toast"),[am,EP]=Ys("Toast",[xv]),[fv,Nn]=am(Do),rm=s=>{const{__scopeToast:t,label:a="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:n=50,children:l}=s,[c,o]=x.useState(null),[d,h]=x.useState(0),u=x.useRef(!1),m=x.useRef(!1);return a.trim()||console.error(`Invalid prop \`label\` supplied to \`${Do}\`. Expected non-empty \`string\`.`),e.jsx(Lo.Provider,{scope:t,children:e.jsx(fv,{scope:t,label:a,duration:r,swipeDirection:i,swipeThreshold:n,toastCount:d,viewport:c,onViewportChange:o,onToastAdd:x.useCallback(()=>h(p=>p+1),[]),onToastRemove:x.useCallback(()=>h(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:u,isClosePausedRef:m,children:l})})};rm.displayName=Do;var im="ToastViewport",pv=["F8"],Bl="toast.viewportPause",ql="toast.viewportResume",nm=x.forwardRef((s,t)=>{const{__scopeToast:a,hotkey:r=pv,label:i="Notifications ({hotkey})",...n}=s,l=Nn(im,a),c=mv(a),o=x.useRef(null),d=x.useRef(null),h=x.useRef(null),u=x.useRef(null),m=De(t,u,l.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=l.toastCount>0;x.useEffect(()=>{const f=w=>{var v;r.length!==0&&r.every(A=>w[A]||w.code===A)&&((v=u.current)==null||v.focus())};return document.addEventListener("keydown",f),()=>document.removeEventListener("keydown",f)},[r]),x.useEffect(()=>{const f=o.current,w=u.current;if(j&&f&&w){const y=()=>{if(!l.isClosePausedRef.current){const O=new CustomEvent(Bl);w.dispatchEvent(O),l.isClosePausedRef.current=!0}},v=()=>{if(l.isClosePausedRef.current){const O=new CustomEvent(ql);w.dispatchEvent(O),l.isClosePausedRef.current=!1}},A=O=>{!f.contains(O.relatedTarget)&&v()},C=()=>{f.contains(document.activeElement)||v()};return f.addEventListener("focusin",y),f.addEventListener("focusout",A),f.addEventListener("pointermove",y),f.addEventListener("pointerleave",C),window.addEventListener("blur",y),window.addEventListener("focus",v),()=>{f.removeEventListener("focusin",y),f.removeEventListener("focusout",A),f.removeEventListener("pointermove",y),f.removeEventListener("pointerleave",C),window.removeEventListener("blur",y),window.removeEventListener("focus",v)}}},[j,l.isClosePausedRef]);const g=x.useCallback(({tabbingDirection:f})=>{const y=c().map(v=>{const A=v.ref.current,C=[A,...Av(A)];return f==="forwards"?C:C.reverse()});return(f==="forwards"?y.reverse():y).flat()},[c]);return x.useEffect(()=>{const f=u.current;if(f){const w=y=>{var C,O,M;const v=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!v){const I=document.activeElement,_=y.shiftKey;if(y.target===f&&_){(C=d.current)==null||C.focus();return}const q=g({tabbingDirection:_?"backwards":"forwards"}),H=q.findIndex(R=>R===I);sl(q.slice(H+1))?y.preventDefault():_?(O=d.current)==null||O.focus():(M=h.current)==null||M.focus()}};return f.addEventListener("keydown",w),()=>f.removeEventListener("keydown",w)}},[c,g]),e.jsxs(Vg,{ref:o,role:"region","aria-label":i.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&e.jsx(zl,{ref:d,onFocusFromOutsideViewport:()=>{const f=g({tabbingDirection:"forwards"});sl(f)}}),e.jsx(Lo.Slot,{scope:a,children:e.jsx(he.ol,{tabIndex:-1,...n,ref:m})}),j&&e.jsx(zl,{ref:h,onFocusFromOutsideViewport:()=>{const f=g({tabbingDirection:"backwards"});sl(f)}})]})});nm.displayName=im;var lm="ToastFocusProxy",zl=x.forwardRef((s,t)=>{const{__scopeToast:a,onFocusFromOutsideViewport:r,...i}=s,n=Nn(lm,a);return e.jsx(bn,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var d;const c=l.relatedTarget;!((d=n.viewport)!=null&&d.contains(c))&&r()}})});zl.displayName=lm;var xi="Toast",gv="toast.swipeStart",vv="toast.swipeMove",jv="toast.swipeCancel",yv="toast.swipeEnd",om=x.forwardRef((s,t)=>{const{forceMount:a,open:r,defaultOpen:i,onOpenChange:n,...l}=s,[c,o]=or({prop:r,defaultProp:i??!0,onChange:n,caller:xi});return e.jsx(Ea,{present:a||c,children:e.jsx(wv,{open:c,...l,ref:t,onClose:()=>o(!1),onPause:Ct(s.onPause),onResume:Ct(s.onResume),onSwipeStart:se(s.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:se(s.onSwipeMove,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${u}px`)}),onSwipeCancel:se(s.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:se(s.onSwipeEnd,d=>{const{x:h,y:u}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${u}px`),o(!1)})})})});om.displayName=xi;var[bv,Nv]=am(xi,{onClose(){}}),wv=x.forwardRef((s,t)=>{const{__scopeToast:a,type:r="foreground",duration:i,open:n,onClose:l,onEscapeKeyDown:c,onPause:o,onResume:d,onSwipeStart:h,onSwipeMove:u,onSwipeCancel:m,onSwipeEnd:p,...j}=s,g=Nn(xi,a),[f,w]=x.useState(null),y=De(t,R=>w(R)),v=x.useRef(null),A=x.useRef(null),C=i||g.duration,O=x.useRef(0),M=x.useRef(C),I=x.useRef(0),{onToastAdd:_,onToastRemove:U}=g,L=Ct(()=>{var pe;(f==null?void 0:f.contains(document.activeElement))&&((pe=g.viewport)==null||pe.focus()),l()}),q=x.useCallback(R=>{!R||R===1/0||(window.clearTimeout(I.current),O.current=new Date().getTime(),I.current=window.setTimeout(L,R))},[L]);x.useEffect(()=>{const R=g.viewport;if(R){const pe=()=>{q(M.current),d==null||d()},oe=()=>{const Z=new Date().getTime()-O.current;M.current=M.current-Z,window.clearTimeout(I.current),o==null||o()};return R.addEventListener(Bl,oe),R.addEventListener(ql,pe),()=>{R.removeEventListener(Bl,oe),R.removeEventListener(ql,pe)}}},[g.viewport,C,o,d,q]),x.useEffect(()=>{n&&!g.isClosePausedRef.current&&q(C)},[n,C,g.isClosePausedRef,q]),x.useEffect(()=>(_(),()=>U()),[_,U]);const H=x.useMemo(()=>f?fm(f):null,[f]);return g.viewport?e.jsxs(e.Fragment,{children:[H&&e.jsx(Cv,{__scopeToast:a,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:H}),e.jsx(bv,{scope:a,onClose:L,children:jn.createPortal(e.jsx(Lo.ItemSlot,{scope:a,children:e.jsx($g,{asChild:!0,onEscapeKeyDown:se(c,()=>{g.isFocusedToastEscapeKeyDownRef.current||L(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:e.jsx(he.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":n?"open":"closed","data-swipe-direction":g.swipeDirection,...j,ref:y,style:{userSelect:"none",touchAction:"none",...s.style},onKeyDown:se(s.onKeyDown,R=>{R.key==="Escape"&&(c==null||c(R.nativeEvent),R.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,L()))}),onPointerDown:se(s.onPointerDown,R=>{R.button===0&&(v.current={x:R.clientX,y:R.clientY})}),onPointerMove:se(s.onPointerMove,R=>{if(!v.current)return;const pe=R.clientX-v.current.x,oe=R.clientY-v.current.y,Z=!!A.current,ue=["left","right"].includes(g.swipeDirection),F=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,Me=ue?F(0,pe):0,ke=ue?0:F(0,oe),st=R.pointerType==="touch"?10:2,Qe={x:Me,y:ke},ht={originalEvent:R,delta:Qe};Z?(A.current=Qe,ki(vv,u,ht,{discrete:!1})):ed(Qe,g.swipeDirection,st)?(A.current=Qe,ki(gv,h,ht,{discrete:!1}),R.target.setPointerCapture(R.pointerId)):(Math.abs(pe)>st||Math.abs(oe)>st)&&(v.current=null)}),onPointerUp:se(s.onPointerUp,R=>{const pe=A.current,oe=R.target;if(oe.hasPointerCapture(R.pointerId)&&oe.releasePointerCapture(R.pointerId),A.current=null,v.current=null,pe){const Z=R.currentTarget,ue={originalEvent:R,delta:pe};ed(pe,g.swipeDirection,g.swipeThreshold)?ki(yv,p,ue,{discrete:!0}):ki(jv,m,ue,{discrete:!0}),Z.addEventListener("click",F=>F.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),Cv=s=>{const{__scopeToast:t,children:a,...r}=s,i=Nn(xi,t),[n,l]=x.useState(!1),[c,o]=x.useState(!1);return Pv(()=>l(!0)),x.useEffect(()=>{const d=window.setTimeout(()=>o(!0),1e3);return()=>window.clearTimeout(d)},[]),c?null:e.jsx(mu,{asChild:!0,children:e.jsx(bn,{...r,children:n&&e.jsxs(e.Fragment,{children:[i.label," ",a]})})})},Sv="ToastTitle",cm=x.forwardRef((s,t)=>{const{__scopeToast:a,...r}=s;return e.jsx(he.div,{...r,ref:t})});cm.displayName=Sv;var kv="ToastDescription",dm=x.forwardRef((s,t)=>{const{__scopeToast:a,...r}=s;return e.jsx(he.div,{...r,ref:t})});dm.displayName=kv;var hm="ToastAction",um=x.forwardRef((s,t)=>{const{altText:a,...r}=s;return a.trim()?e.jsx(xm,{altText:a,asChild:!0,children:e.jsx(Oo,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${hm}\`. Expected non-empty \`string\`.`),null)});um.displayName=hm;var mm="ToastClose",Oo=x.forwardRef((s,t)=>{const{__scopeToast:a,...r}=s,i=Nv(mm,a);return e.jsx(xm,{asChild:!0,children:e.jsx(he.button,{type:"button",...r,ref:t,onClick:se(s.onClick,i.onClose)})})});Oo.displayName=mm;var xm=x.forwardRef((s,t)=>{const{__scopeToast:a,altText:r,...i}=s;return e.jsx(he.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function fm(s){const t=[];return Array.from(s.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Tv(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",n=r.dataset.radixToastAnnounceExclude==="";if(!i)if(n){const l=r.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...fm(r))}}),t}function ki(s,t,a,{discrete:r}){const i=a.originalEvent.currentTarget,n=new CustomEvent(s,{bubbles:!0,cancelable:!0,detail:a});t&&i.addEventListener(s,t,{once:!0}),r?Ug(i,n):i.dispatchEvent(n)}var ed=(s,t,a=0)=>{const r=Math.abs(s.x),i=Math.abs(s.y),n=r>i;return t==="left"||t==="right"?n&&r>a:!n&&i>a};function Pv(s=()=>{}){const t=Ct(s);Pt(()=>{let a=0,r=0;return a=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(a),window.cancelAnimationFrame(r)}},[t])}function Tv(s){return s.nodeType===s.ELEMENT_NODE}function Av(s){const t=[],a=document.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)t.push(a.currentNode);return t}function sl(s){const t=document.activeElement;return s.some(a=>a===t?!0:(a.focus(),document.activeElement!==t))}var Rv=rm,pm=nm,gm=om,vm=cm,jm=dm,ym=um,bm=Oo;function Nm(s){var t,a,r="";if(typeof s=="string"||typeof s=="number")r+=s;else if(typeof s=="object")if(Array.isArray(s)){var i=s.length;for(t=0;t<i;t++)s[t]&&(a=Nm(s[t]))&&(r&&(r+=" "),r+=a)}else for(a in s)s[a]&&(r&&(r+=" "),r+=a);return r}function wm(){for(var s,t,a=0,r="",i=arguments.length;a<i;a++)(s=arguments[a])&&(t=Nm(s))&&(r&&(r+=" "),r+=t);return r}const td=s=>typeof s=="boolean"?`${s}`:s===0?"0":s,sd=wm,Nr=(s,t)=>a=>{var r;if((t==null?void 0:t.variants)==null)return sd(s,a==null?void 0:a.class,a==null?void 0:a.className);const{variants:i,defaultVariants:n}=t,l=Object.keys(i).map(d=>{const h=a==null?void 0:a[d],u=n==null?void 0:n[d];if(h===null)return null;const m=td(h)||td(u);return i[d][m]}),c=a&&Object.entries(a).reduce((d,h)=>{let[u,m]=h;return m===void 0||(d[u]=m),d},{}),o=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:u,className:m,...p}=h;return Object.entries(p).every(j=>{let[g,f]=j;return Array.isArray(f)?f.includes({...n,...c}[g]):{...n,...c}[g]===f})?[...d,u,m]:d},[]);return sd(s,l,o,a==null?void 0:a.class,a==null?void 0:a.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ev=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Cm=(...s)=>s.filter((t,a,r)=>!!t&&r.indexOf(t)===a).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _v={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=x.forwardRef(({color:s="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:i="",children:n,iconNode:l,...c},o)=>x.createElement("svg",{ref:o,..._v,width:t,height:t,stroke:s,strokeWidth:r?Number(a)*24/Number(t):a,className:Cm("lucide",i),...c},[...l.map(([d,h])=>x.createElement(d,h)),...Array.isArray(n)?n:[n]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=(s,t)=>{const a=x.forwardRef(({className:r,...i},n)=>x.createElement(Iv,{ref:n,iconNode:t,className:Cm(`lucide-${Ev(s)}`,r),...i}));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yt=B("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=B("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=B("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=B("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=B("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=B("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=B("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=B("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ds=B("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const us=B("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tt=B("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=B("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dv=B("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=B("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=B("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=B("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=B("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=B("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const km=B("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=B("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=B("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=B("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tt=B("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=B("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=B("Crown",[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=B("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=B("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=B("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ke=B("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=B("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=B("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=B("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=B("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zs=B("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=B("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ov=B("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Na=B("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tm=B("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=B("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rd=B("Keyboard",[["path",{d:"M10 8h.01",key:"1r9ogq"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M14 8h.01",key:"1primd"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M18 8h.01",key:"emo2bl"}],["path",{d:"M6 8h.01",key:"x9i8wu"}],["path",{d:"M7 16h10",key:"wp8him"}],["path",{d:"M8 12h.01",key:"czm47f"}],["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fv=B("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=B("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=B("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=B("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=B("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nt=B("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=B("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rm=B("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=B("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bv=B("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Em=B("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=B("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=B("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=B("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zv=B("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _m=B("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=B("PenTool",[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bs=B("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Im=B("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=B("Radio",[["path",{d:"M4.9 19.1C1 15.2 1 8.8 4.9 4.9",key:"1vaf9d"}],["path",{d:"M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.5",key:"u1ii0m"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M16.2 7.8c2.3 2.3 2.3 6.1 0 8.5",key:"1j5fej"}],["path",{d:"M19.1 4.9C23 8.8 23 15.1 19.1 19",key:"10b0cb"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lt=B("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=B("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=B("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=B("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cn=B("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yi=B("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=B("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mm=B("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xi=B("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hs=B("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=B("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=B("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ei=B("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=B("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=B("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=B("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=B("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=B("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ej=B("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=B("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=B("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tj=B("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Be=B("Vote",[["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}],["path",{d:"M5 7c0-1.1.9-2 2-2h10a2 2 0 0 1 2 2v12H5V7Z",key:"1ezoue"}],["path",{d:"M22 19H2",key:"nuriw5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ws=B("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pi=B("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),Vo="-",sj=s=>{const t=rj(s),{conflictingClassGroups:a,conflictingClassGroupModifiers:r}=s;return{getClassGroupId:l=>{const c=l.split(Vo);return c[0]===""&&c.length!==1&&c.shift(),Dm(c,t)||aj(l)},getConflictingClassGroupIds:(l,c)=>{const o=a[l]||[];return c&&r[l]?[...o,...r[l]]:o}}},Dm=(s,t)=>{var l;if(s.length===0)return t.classGroupId;const a=s[0],r=t.nextPart.get(a),i=r?Dm(s.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const n=s.join(Vo);return(l=t.validators.find(({validator:c})=>c(n)))==null?void 0:l.classGroupId},id=/^\[(.+)\]$/,aj=s=>{if(id.test(s)){const t=id.exec(s)[1],a=t==null?void 0:t.substring(0,t.indexOf(":"));if(a)return"arbitrary.."+a}},rj=s=>{const{theme:t,prefix:a}=s,r={nextPart:new Map,validators:[]};return nj(Object.entries(s.classGroups),a).forEach(([n,l])=>{Wl(l,r,n,t)}),r},Wl=(s,t,a,r)=>{s.forEach(i=>{if(typeof i=="string"){const n=i===""?t:nd(t,i);n.classGroupId=a;return}if(typeof i=="function"){if(ij(i)){Wl(i(r),t,a,r);return}t.validators.push({validator:i,classGroupId:a});return}Object.entries(i).forEach(([n,l])=>{Wl(l,nd(t,n),a,r)})})},nd=(s,t)=>{let a=s;return t.split(Vo).forEach(r=>{a.nextPart.has(r)||a.nextPart.set(r,{nextPart:new Map,validators:[]}),a=a.nextPart.get(r)}),a},ij=s=>s.isThemeGetter,nj=(s,t)=>t?s.map(([a,r])=>{const i=r.map(n=>typeof n=="string"?t+n:typeof n=="object"?Object.fromEntries(Object.entries(n).map(([l,c])=>[t+l,c])):n);return[a,i]}):s,lj=s=>{if(s<1)return{get:()=>{},set:()=>{}};let t=0,a=new Map,r=new Map;const i=(n,l)=>{a.set(n,l),t++,t>s&&(t=0,r=a,a=new Map)};return{get(n){let l=a.get(n);if(l!==void 0)return l;if((l=r.get(n))!==void 0)return i(n,l),l},set(n,l){a.has(n)?a.set(n,l):i(n,l)}}},Lm="!",oj=s=>{const{separator:t,experimentalParseClassName:a}=s,r=t.length===1,i=t[0],n=t.length,l=c=>{const o=[];let d=0,h=0,u;for(let f=0;f<c.length;f++){let w=c[f];if(d===0){if(w===i&&(r||c.slice(f,f+n)===t)){o.push(c.slice(h,f)),h=f+n;continue}if(w==="/"){u=f;continue}}w==="["?d++:w==="]"&&d--}const m=o.length===0?c:c.substring(h),p=m.startsWith(Lm),j=p?m.substring(1):m,g=u&&u>h?u-h:void 0;return{modifiers:o,hasImportantModifier:p,baseClassName:j,maybePostfixModifierPosition:g}};return a?c=>a({className:c,parseClassName:l}):l},cj=s=>{if(s.length<=1)return s;const t=[];let a=[];return s.forEach(r=>{r[0]==="["?(t.push(...a.sort(),r),a=[]):a.push(r)}),t.push(...a.sort()),t},dj=s=>({cache:lj(s.cacheSize),parseClassName:oj(s),...sj(s)}),hj=/\s+/,uj=(s,t)=>{const{parseClassName:a,getClassGroupId:r,getConflictingClassGroupIds:i}=t,n=[],l=s.trim().split(hj);let c="";for(let o=l.length-1;o>=0;o-=1){const d=l[o],{modifiers:h,hasImportantModifier:u,baseClassName:m,maybePostfixModifierPosition:p}=a(d);let j=!!p,g=r(j?m.substring(0,p):m);if(!g){if(!j){c=d+(c.length>0?" "+c:c);continue}if(g=r(m),!g){c=d+(c.length>0?" "+c:c);continue}j=!1}const f=cj(h).join(":"),w=u?f+Lm:f,y=w+g;if(n.includes(y))continue;n.push(y);const v=i(g,j);for(let A=0;A<v.length;++A){const C=v[A];n.push(w+C)}c=d+(c.length>0?" "+c:c)}return c};function mj(){let s=0,t,a,r="";for(;s<arguments.length;)(t=arguments[s++])&&(a=Om(t))&&(r&&(r+=" "),r+=a);return r}const Om=s=>{if(typeof s=="string")return s;let t,a="";for(let r=0;r<s.length;r++)s[r]&&(t=Om(s[r]))&&(a&&(a+=" "),a+=t);return a};function xj(s,...t){let a,r,i,n=l;function l(o){const d=t.reduce((h,u)=>u(h),s());return a=dj(d),r=a.cache.get,i=a.cache.set,n=c,c(o)}function c(o){const d=r(o);if(d)return d;const h=uj(o,a);return i(o,h),h}return function(){return n(mj.apply(null,arguments))}}const Ae=s=>{const t=a=>a[s]||[];return t.isThemeGetter=!0,t},Fm=/^\[(?:([a-z-]+):)?(.+)\]$/i,fj=/^\d+\/\d+$/,pj=new Set(["px","full","screen"]),gj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,vj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,jj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,yj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,bj=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,rs=s=>Qa(s)||pj.has(s)||fj.test(s),ws=s=>wr(s,"length",Aj),Qa=s=>!!s&&!Number.isNaN(Number(s)),rl=s=>wr(s,"number",Qa),Ar=s=>!!s&&Number.isInteger(Number(s)),Nj=s=>s.endsWith("%")&&Qa(s.slice(0,-1)),ne=s=>Fm.test(s),Cs=s=>gj.test(s),wj=new Set(["length","size","percentage"]),Cj=s=>wr(s,wj,Vm),Sj=s=>wr(s,"position",Vm),kj=new Set(["image","url"]),Pj=s=>wr(s,kj,Ej),Tj=s=>wr(s,"",Rj),Rr=()=>!0,wr=(s,t,a)=>{const r=Fm.exec(s);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):a(r[2]):!1},Aj=s=>vj.test(s)&&!jj.test(s),Vm=()=>!1,Rj=s=>yj.test(s),Ej=s=>bj.test(s),_j=()=>{const s=Ae("colors"),t=Ae("spacing"),a=Ae("blur"),r=Ae("brightness"),i=Ae("borderColor"),n=Ae("borderRadius"),l=Ae("borderSpacing"),c=Ae("borderWidth"),o=Ae("contrast"),d=Ae("grayscale"),h=Ae("hueRotate"),u=Ae("invert"),m=Ae("gap"),p=Ae("gradientColorStops"),j=Ae("gradientColorStopPositions"),g=Ae("inset"),f=Ae("margin"),w=Ae("opacity"),y=Ae("padding"),v=Ae("saturate"),A=Ae("scale"),C=Ae("sepia"),O=Ae("skew"),M=Ae("space"),I=Ae("translate"),_=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",ne,t],q=()=>[ne,t],H=()=>["",rs,ws],R=()=>["auto",Qa,ne],pe=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],oe=()=>["solid","dashed","dotted","double","none"],Z=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ue=()=>["start","end","center","between","around","evenly","stretch"],F=()=>["","0",ne],Me=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ke=()=>[Qa,ne];return{cacheSize:500,separator:":",theme:{colors:[Rr],spacing:[rs,ws],blur:["none","",Cs,ne],brightness:ke(),borderColor:[s],borderRadius:["none","","full",Cs,ne],borderSpacing:q(),borderWidth:H(),contrast:ke(),grayscale:F(),hueRotate:ke(),invert:F(),gap:q(),gradientColorStops:[s],gradientColorStopPositions:[Nj,ws],inset:L(),margin:L(),opacity:ke(),padding:q(),saturate:ke(),scale:ke(),sepia:F(),skew:ke(),space:q(),translate:q()},classGroups:{aspect:[{aspect:["auto","square","video",ne]}],container:["container"],columns:[{columns:[Cs]}],"break-after":[{"break-after":Me()}],"break-before":[{"break-before":Me()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...pe(),ne]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ar,ne]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ne]}],grow:[{grow:F()}],shrink:[{shrink:F()}],order:[{order:["first","last","none",Ar,ne]}],"grid-cols":[{"grid-cols":[Rr]}],"col-start-end":[{col:["auto",{span:["full",Ar,ne]},ne]}],"col-start":[{"col-start":R()}],"col-end":[{"col-end":R()}],"grid-rows":[{"grid-rows":[Rr]}],"row-start-end":[{row:["auto",{span:[Ar,ne]},ne]}],"row-start":[{"row-start":R()}],"row-end":[{"row-end":R()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ne]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ne]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...ue()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...ue(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...ue(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[f]}],mx:[{mx:[f]}],my:[{my:[f]}],ms:[{ms:[f]}],me:[{me:[f]}],mt:[{mt:[f]}],mr:[{mr:[f]}],mb:[{mb:[f]}],ml:[{ml:[f]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ne,t]}],"min-w":[{"min-w":[ne,t,"min","max","fit"]}],"max-w":[{"max-w":[ne,t,"none","full","min","max","fit","prose",{screen:[Cs]},Cs]}],h:[{h:[ne,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ne,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ne,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Cs,ws]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",rl]}],"font-family":[{font:[Rr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ne]}],"line-clamp":[{"line-clamp":["none",Qa,rl]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",rs,ne]}],"list-image":[{"list-image":["none",ne]}],"list-style-type":[{list:["none","disc","decimal",ne]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[s]}],"placeholder-opacity":[{"placeholder-opacity":[w]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[s]}],"text-opacity":[{"text-opacity":[w]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...oe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",rs,ws]}],"underline-offset":[{"underline-offset":["auto",rs,ne]}],"text-decoration-color":[{decoration:[s]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ne]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ne]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[w]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...pe(),Sj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Cj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Pj]}],"bg-color":[{bg:[s]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[n]}],"rounded-s":[{"rounded-s":[n]}],"rounded-e":[{"rounded-e":[n]}],"rounded-t":[{"rounded-t":[n]}],"rounded-r":[{"rounded-r":[n]}],"rounded-b":[{"rounded-b":[n]}],"rounded-l":[{"rounded-l":[n]}],"rounded-ss":[{"rounded-ss":[n]}],"rounded-se":[{"rounded-se":[n]}],"rounded-ee":[{"rounded-ee":[n]}],"rounded-es":[{"rounded-es":[n]}],"rounded-tl":[{"rounded-tl":[n]}],"rounded-tr":[{"rounded-tr":[n]}],"rounded-br":[{"rounded-br":[n]}],"rounded-bl":[{"rounded-bl":[n]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[w]}],"border-style":[{border:[...oe(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[w]}],"divide-style":[{divide:oe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...oe()]}],"outline-offset":[{"outline-offset":[rs,ne]}],"outline-w":[{outline:[rs,ws]}],"outline-color":[{outline:[s]}],"ring-w":[{ring:H()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[s]}],"ring-opacity":[{"ring-opacity":[w]}],"ring-offset-w":[{"ring-offset":[rs,ws]}],"ring-offset-color":[{"ring-offset":[s]}],shadow:[{shadow:["","inner","none",Cs,Tj]}],"shadow-color":[{shadow:[Rr]}],opacity:[{opacity:[w]}],"mix-blend":[{"mix-blend":[...Z(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Z()}],filter:[{filter:["","none"]}],blur:[{blur:[a]}],brightness:[{brightness:[r]}],contrast:[{contrast:[o]}],"drop-shadow":[{"drop-shadow":["","none",Cs,ne]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[u]}],saturate:[{saturate:[v]}],sepia:[{sepia:[C]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[a]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[o]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[u]}],"backdrop-opacity":[{"backdrop-opacity":[w]}],"backdrop-saturate":[{"backdrop-saturate":[v]}],"backdrop-sepia":[{"backdrop-sepia":[C]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ne]}],duration:[{duration:ke()}],ease:[{ease:["linear","in","out","in-out",ne]}],delay:[{delay:ke()}],animate:[{animate:["none","spin","ping","pulse","bounce",ne]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Ar,ne]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ne]}],accent:[{accent:["auto",s]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ne]}],"caret-color":[{caret:[s]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":q()}],"scroll-mx":[{"scroll-mx":q()}],"scroll-my":[{"scroll-my":q()}],"scroll-ms":[{"scroll-ms":q()}],"scroll-me":[{"scroll-me":q()}],"scroll-mt":[{"scroll-mt":q()}],"scroll-mr":[{"scroll-mr":q()}],"scroll-mb":[{"scroll-mb":q()}],"scroll-ml":[{"scroll-ml":q()}],"scroll-p":[{"scroll-p":q()}],"scroll-px":[{"scroll-px":q()}],"scroll-py":[{"scroll-py":q()}],"scroll-ps":[{"scroll-ps":q()}],"scroll-pe":[{"scroll-pe":q()}],"scroll-pt":[{"scroll-pt":q()}],"scroll-pr":[{"scroll-pr":q()}],"scroll-pb":[{"scroll-pb":q()}],"scroll-pl":[{"scroll-pl":q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ne]}],fill:[{fill:[s,"none"]}],"stroke-w":[{stroke:[rs,ws,rl]}],stroke:[{stroke:[s,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ij=xj(_j);function W(...s){return Ij(wm(s))}const Mj=Rv,$m=x.forwardRef(({className:s,...t},a)=>e.jsx(pm,{ref:a,className:W("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",s),...t}));$m.displayName=pm.displayName;const Dj=Nr("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Um=x.forwardRef(({className:s,variant:t,...a},r)=>e.jsx(gm,{ref:r,className:W(Dj({variant:t}),s),...a}));Um.displayName=gm.displayName;const Lj=x.forwardRef(({className:s,...t},a)=>e.jsx(ym,{ref:a,className:W("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",s),...t}));Lj.displayName=ym.displayName;const Bm=x.forwardRef(({className:s,...t},a)=>e.jsx(bm,{ref:a,className:W("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",s),"toast-close":"",...t,children:e.jsx(Ws,{className:"h-4 w-4"})}));Bm.displayName=bm.displayName;const qm=x.forwardRef(({className:s,...t},a)=>e.jsx(vm,{ref:a,className:W("text-sm font-semibold",s),...t}));qm.displayName=vm.displayName;const zm=x.forwardRef(({className:s,...t},a)=>e.jsx(jm,{ref:a,className:W("text-sm opacity-90",s),...t}));zm.displayName=jm.displayName;function Oj(){const{toasts:s}=dt();return e.jsxs(Mj,{children:[s.map(function({id:t,title:a,description:r,action:i,...n}){return e.jsxs(Um,{...n,children:[e.jsxs("div",{className:"grid gap-1",children:[a&&e.jsx(qm,{children:a}),r&&e.jsx(zm,{children:r})]}),i,e.jsx(Bm,{})]},t)}),e.jsx($m,{})]})}var[kn,_P]=Ys("Tooltip",[mn]),Pn=mn(),Hm="TooltipProvider",Fj=700,Kl="tooltip.open",[Vj,$o]=kn(Hm),Wm=s=>{const{__scopeTooltip:t,delayDuration:a=Fj,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:n}=s,l=x.useRef(!0),c=x.useRef(!1),o=x.useRef(0);return x.useEffect(()=>{const d=o.current;return()=>window.clearTimeout(d)},[]),e.jsx(Vj,{scope:t,isOpenDelayedRef:l,delayDuration:a,onOpen:x.useCallback(()=>{window.clearTimeout(o.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(o.current),o.current=window.setTimeout(()=>l.current=!0,r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:x.useCallback(d=>{c.current=d},[]),disableHoverableContent:i,children:n})};Wm.displayName=Hm;var ti="Tooltip",[$j,Tn]=kn(ti),Km=s=>{const{__scopeTooltip:t,children:a,open:r,defaultOpen:i,onOpenChange:n,disableHoverableContent:l,delayDuration:c}=s,o=$o(ti,s.__scopeTooltip),d=Pn(t),[h,u]=x.useState(null),m=xn(),p=x.useRef(0),j=l??o.disableHoverableContent,g=c??o.delayDuration,f=x.useRef(!1),[w,y]=or({prop:r,defaultProp:i??!1,onChange:M=>{M?(o.onOpen(),document.dispatchEvent(new CustomEvent(Kl))):o.onClose(),n==null||n(M)},caller:ti}),v=x.useMemo(()=>w?f.current?"delayed-open":"instant-open":"closed",[w]),A=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,f.current=!1,y(!0)},[y]),C=x.useCallback(()=>{window.clearTimeout(p.current),p.current=0,y(!1)},[y]),O=x.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>{f.current=!0,y(!0),p.current=0},g)},[g,y]);return x.useEffect(()=>()=>{p.current&&(window.clearTimeout(p.current),p.current=0)},[]),e.jsx(pu,{...d,children:e.jsx($j,{scope:t,contentId:m,open:w,stateAttribute:v,trigger:h,onTriggerChange:u,onTriggerEnter:x.useCallback(()=>{o.isOpenDelayedRef.current?O():A()},[o.isOpenDelayedRef,O,A]),onTriggerLeave:x.useCallback(()=>{j?C():(window.clearTimeout(p.current),p.current=0)},[C,j]),onOpen:A,onClose:C,disableHoverableContent:j,children:a})})};Km.displayName=ti;var Gl="TooltipTrigger",Gm=x.forwardRef((s,t)=>{const{__scopeTooltip:a,...r}=s,i=Tn(Gl,a),n=$o(Gl,a),l=Pn(a),c=x.useRef(null),o=De(t,c,i.onTriggerChange),d=x.useRef(!1),h=x.useRef(!1),u=x.useCallback(()=>d.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",u),[u]),e.jsx(gu,{asChild:!0,...l,children:e.jsx(he.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:o,onPointerMove:se(s.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!n.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:se(s.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:se(s.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",u,{once:!0})}),onFocus:se(s.onFocus,()=>{d.current||i.onOpen()}),onBlur:se(s.onBlur,i.onClose),onClick:se(s.onClick,i.onClose)})})});Gm.displayName=Gl;var Uj="TooltipPortal",[IP,Bj]=kn(Uj,{forceMount:void 0}),mr="TooltipContent",Qm=x.forwardRef((s,t)=>{const a=Bj(mr,s.__scopeTooltip),{forceMount:r=a.forceMount,side:i="top",...n}=s,l=Tn(mr,s.__scopeTooltip);return e.jsx(Ea,{present:r||l.open,children:l.disableHoverableContent?e.jsx(Jm,{side:i,...n,ref:t}):e.jsx(qj,{side:i,...n,ref:t})})}),qj=x.forwardRef((s,t)=>{const a=Tn(mr,s.__scopeTooltip),r=$o(mr,s.__scopeTooltip),i=x.useRef(null),n=De(t,i),[l,c]=x.useState(null),{trigger:o,onClose:d}=a,h=i.current,{onPointerInTransitChange:u}=r,m=x.useCallback(()=>{c(null),u(!1)},[u]),p=x.useCallback((j,g)=>{const f=j.currentTarget,w={x:j.clientX,y:j.clientY},y=Gj(w,f.getBoundingClientRect()),v=Qj(w,y),A=Jj(g.getBoundingClientRect()),C=Xj([...v,...A]);c(C),u(!0)},[u]);return x.useEffect(()=>()=>m(),[m]),x.useEffect(()=>{if(o&&h){const j=f=>p(f,h),g=f=>p(f,o);return o.addEventListener("pointerleave",j),h.addEventListener("pointerleave",g),()=>{o.removeEventListener("pointerleave",j),h.removeEventListener("pointerleave",g)}}},[o,h,p,m]),x.useEffect(()=>{if(l){const j=g=>{const f=g.target,w={x:g.clientX,y:g.clientY},y=(o==null?void 0:o.contains(f))||(h==null?void 0:h.contains(f)),v=!Yj(w,l);y?m():v&&(m(),d())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[o,h,l,d,m]),e.jsx(Jm,{...s,ref:n})}),[zj,Hj]=kn(ti,{isInside:!1}),Wj=Bg("TooltipContent"),Jm=x.forwardRef((s,t)=>{const{__scopeTooltip:a,children:r,"aria-label":i,onEscapeKeyDown:n,onPointerDownOutside:l,...c}=s,o=Tn(mr,a),d=Pn(a),{onClose:h}=o;return x.useEffect(()=>(document.addEventListener(Kl,h),()=>document.removeEventListener(Kl,h)),[h]),x.useEffect(()=>{if(o.trigger){const u=m=>{const p=m.target;p!=null&&p.contains(o.trigger)&&h()};return window.addEventListener("scroll",u,{capture:!0}),()=>window.removeEventListener("scroll",u,{capture:!0})}},[o.trigger,h]),e.jsx(xu,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:n,onPointerDownOutside:l,onFocusOutside:u=>u.preventDefault(),onDismiss:h,children:e.jsxs(fu,{"data-state":o.stateAttribute,...d,...c,ref:t,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(Wj,{children:r}),e.jsx(zj,{scope:a,isInside:!0,children:e.jsx(uv,{id:o.contentId,role:"tooltip",children:i||r})})]})})});Qm.displayName=mr;var Ym="TooltipArrow",Kj=x.forwardRef((s,t)=>{const{__scopeTooltip:a,...r}=s,i=Pn(a);return Hj(Ym,a).isInside?null:e.jsx(vu,{...i,...r,ref:t})});Kj.displayName=Ym;function Gj(s,t){const a=Math.abs(t.top-s.y),r=Math.abs(t.bottom-s.y),i=Math.abs(t.right-s.x),n=Math.abs(t.left-s.x);switch(Math.min(a,r,i,n)){case n:return"left";case i:return"right";case a:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Qj(s,t,a=5){const r=[];switch(t){case"top":r.push({x:s.x-a,y:s.y+a},{x:s.x+a,y:s.y+a});break;case"bottom":r.push({x:s.x-a,y:s.y-a},{x:s.x+a,y:s.y-a});break;case"left":r.push({x:s.x+a,y:s.y-a},{x:s.x+a,y:s.y+a});break;case"right":r.push({x:s.x-a,y:s.y-a},{x:s.x-a,y:s.y+a});break}return r}function Jj(s){const{top:t,right:a,bottom:r,left:i}=s;return[{x:i,y:t},{x:a,y:t},{x:a,y:r},{x:i,y:r}]}function Yj(s,t){const{x:a,y:r}=s;let i=!1;for(let n=0,l=t.length-1;n<t.length;l=n++){const c=t[n],o=t[l],d=c.x,h=c.y,u=o.x,m=o.y;h>r!=m>r&&a<(u-d)*(r-h)/(m-h)+d&&(i=!i)}return i}function Xj(s){const t=s.slice();return t.sort((a,r)=>a.x<r.x?-1:a.x>r.x?1:a.y<r.y?-1:a.y>r.y?1:0),Zj(t)}function Zj(s){if(s.length<=1)return s.slice();const t=[];for(let r=0;r<s.length;r++){const i=s[r];for(;t.length>=2;){const n=t[t.length-1],l=t[t.length-2];if((n.x-l.x)*(i.y-l.y)>=(n.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const a=[];for(let r=s.length-1;r>=0;r--){const i=s[r];for(;a.length>=2;){const n=a[a.length-1],l=a[a.length-2];if((n.x-l.x)*(i.y-l.y)>=(n.y-l.y)*(i.x-l.x))a.pop();else break}a.push(i)}return a.pop(),t.length===1&&a.length===1&&t[0].x===a[0].x&&t[0].y===a[0].y?t:t.concat(a)}var ey=Wm,ty=Km,sy=Gm,Xm=Qm;const Ui=ey,il=ty,nl=sy,Bi=x.forwardRef(({className:s,sideOffset:t=4,...a},r)=>e.jsx(Xm,{ref:r,sideOffset:t,className:W("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",s),...a}));Bi.displayName=Xm.displayName;const ay=Nr("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),E=x.forwardRef(({className:s,variant:t,size:a,asChild:r=!1,...i},n)=>{const l=r?qg:"button";return e.jsx(l,{className:W(ay({variant:t,size:a,className:s})),ref:n,...i})});E.displayName="Button";const te=x.forwardRef(({className:s,type:t,...a},r)=>e.jsx("input",{type:t,className:W("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:r,...a}));te.displayName="Input";const b=x.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));b.displayName="Card";const P=x.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("flex flex-col space-y-1.5 p-6",s),...t}));P.displayName="CardHeader";const T=x.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("text-2xl font-semibold leading-none tracking-tight",s),...t}));T.displayName="CardTitle";const G=x.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("text-sm text-muted-foreground",s),...t}));G.displayName="CardDescription";const N=x.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("p-6 pt-0",s),...t}));N.displayName="CardContent";const ry=x.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("flex items-center p-6 pt-0",s),...t}));ry.displayName="CardFooter";const iy=Nr("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function k({className:s,variant:t,...a}){return e.jsx("div",{className:W(iy({variant:t}),s),...a})}function Ql(s,[t,a]){return Math.min(a,Math.max(t,s))}function ny(s,t){return x.useReducer((a,r)=>t[a][r]??a,s)}var Uo="ScrollArea",[Zm,MP]=Ys(Uo),[ly,Vt]=Zm(Uo),ex=x.forwardRef((s,t)=>{const{__scopeScrollArea:a,type:r="hover",dir:i,scrollHideDelay:n=600,...l}=s,[c,o]=x.useState(null),[d,h]=x.useState(null),[u,m]=x.useState(null),[p,j]=x.useState(null),[g,f]=x.useState(null),[w,y]=x.useState(0),[v,A]=x.useState(0),[C,O]=x.useState(!1),[M,I]=x.useState(!1),_=De(t,L=>o(L)),U=ju(i);return e.jsx(ly,{scope:a,type:r,dir:U,scrollHideDelay:n,scrollArea:c,viewport:d,onViewportChange:h,content:u,onContentChange:m,scrollbarX:p,onScrollbarXChange:j,scrollbarXEnabled:C,onScrollbarXEnabledChange:O,scrollbarY:g,onScrollbarYChange:f,scrollbarYEnabled:M,onScrollbarYEnabledChange:I,onCornerWidthChange:y,onCornerHeightChange:A,children:e.jsx(he.div,{dir:U,...l,ref:_,style:{position:"relative","--radix-scroll-area-corner-width":w+"px","--radix-scroll-area-corner-height":v+"px",...s.style}})})});ex.displayName=Uo;var tx="ScrollAreaViewport",sx=x.forwardRef((s,t)=>{const{__scopeScrollArea:a,children:r,nonce:i,...n}=s,l=Vt(tx,a),c=x.useRef(null),o=De(t,c,l.onViewportChange);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),e.jsx(he.div,{"data-radix-scroll-area-viewport":"",...n,ref:o,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...s.style},children:e.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});sx.displayName=tx;var as="ScrollAreaScrollbar",Bo=x.forwardRef((s,t)=>{const{forceMount:a,...r}=s,i=Vt(as,s.__scopeScrollArea),{onScrollbarXEnabledChange:n,onScrollbarYEnabledChange:l}=i,c=s.orientation==="horizontal";return x.useEffect(()=>(c?n(!0):l(!0),()=>{c?n(!1):l(!1)}),[c,n,l]),i.type==="hover"?e.jsx(oy,{...r,ref:t,forceMount:a}):i.type==="scroll"?e.jsx(cy,{...r,ref:t,forceMount:a}):i.type==="auto"?e.jsx(ax,{...r,ref:t,forceMount:a}):i.type==="always"?e.jsx(qo,{...r,ref:t}):null});Bo.displayName=as;var oy=x.forwardRef((s,t)=>{const{forceMount:a,...r}=s,i=Vt(as,s.__scopeScrollArea),[n,l]=x.useState(!1);return x.useEffect(()=>{const c=i.scrollArea;let o=0;if(c){const d=()=>{window.clearTimeout(o),l(!0)},h=()=>{o=window.setTimeout(()=>l(!1),i.scrollHideDelay)};return c.addEventListener("pointerenter",d),c.addEventListener("pointerleave",h),()=>{window.clearTimeout(o),c.removeEventListener("pointerenter",d),c.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),e.jsx(Ea,{present:a||n,children:e.jsx(ax,{"data-state":n?"visible":"hidden",...r,ref:t})})}),cy=x.forwardRef((s,t)=>{const{forceMount:a,...r}=s,i=Vt(as,s.__scopeScrollArea),n=s.orientation==="horizontal",l=Rn(()=>o("SCROLL_END"),100),[c,o]=ny("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return x.useEffect(()=>{if(c==="idle"){const d=window.setTimeout(()=>o("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[c,i.scrollHideDelay,o]),x.useEffect(()=>{const d=i.viewport,h=n?"scrollLeft":"scrollTop";if(d){let u=d[h];const m=()=>{const p=d[h];u!==p&&(o("SCROLL"),l()),u=p};return d.addEventListener("scroll",m),()=>d.removeEventListener("scroll",m)}},[i.viewport,n,o,l]),e.jsx(Ea,{present:a||c!=="hidden",children:e.jsx(qo,{"data-state":c==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:se(s.onPointerEnter,()=>o("POINTER_ENTER")),onPointerLeave:se(s.onPointerLeave,()=>o("POINTER_LEAVE"))})})}),ax=x.forwardRef((s,t)=>{const a=Vt(as,s.__scopeScrollArea),{forceMount:r,...i}=s,[n,l]=x.useState(!1),c=s.orientation==="horizontal",o=Rn(()=>{if(a.viewport){const d=a.viewport.offsetWidth<a.viewport.scrollWidth,h=a.viewport.offsetHeight<a.viewport.scrollHeight;l(c?d:h)}},10);return xr(a.viewport,o),xr(a.content,o),e.jsx(Ea,{present:r||n,children:e.jsx(qo,{"data-state":n?"visible":"hidden",...i,ref:t})})}),qo=x.forwardRef((s,t)=>{const{orientation:a="vertical",...r}=s,i=Vt(as,s.__scopeScrollArea),n=x.useRef(null),l=x.useRef(0),[c,o]=x.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=ox(c.viewport,c.content),h={...r,sizes:c,onSizesChange:o,hasThumb:d>0&&d<1,onThumbChange:m=>n.current=m,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:m=>l.current=m};function u(m,p){return fy(m,l.current,c,p)}return a==="horizontal"?e.jsx(dy,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&n.current){const m=i.viewport.scrollLeft,p=ld(m,c,i.dir);n.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollLeft=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollLeft=u(m,i.dir))}}):a==="vertical"?e.jsx(hy,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&n.current){const m=i.viewport.scrollTop,p=ld(m,c);n.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:m=>{i.viewport&&(i.viewport.scrollTop=m)},onDragScroll:m=>{i.viewport&&(i.viewport.scrollTop=u(m))}}):null}),dy=x.forwardRef((s,t)=>{const{sizes:a,onSizesChange:r,...i}=s,n=Vt(as,s.__scopeScrollArea),[l,c]=x.useState(),o=x.useRef(null),d=De(t,o,n.onScrollbarXChange);return x.useEffect(()=>{o.current&&c(getComputedStyle(o.current))},[o]),e.jsx(ix,{"data-orientation":"horizontal",...i,ref:d,sizes:a,style:{bottom:0,left:n.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:n.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":An(a)+"px",...s.style},onThumbPointerDown:h=>s.onThumbPointerDown(h.x),onDragScroll:h=>s.onDragScroll(h.x),onWheelScroll:(h,u)=>{if(n.viewport){const m=n.viewport.scrollLeft+h.deltaX;s.onWheelScroll(m),dx(m,u)&&h.preventDefault()}},onResize:()=>{o.current&&n.viewport&&l&&r({content:n.viewport.scrollWidth,viewport:n.viewport.offsetWidth,scrollbar:{size:o.current.clientWidth,paddingStart:en(l.paddingLeft),paddingEnd:en(l.paddingRight)}})}})}),hy=x.forwardRef((s,t)=>{const{sizes:a,onSizesChange:r,...i}=s,n=Vt(as,s.__scopeScrollArea),[l,c]=x.useState(),o=x.useRef(null),d=De(t,o,n.onScrollbarYChange);return x.useEffect(()=>{o.current&&c(getComputedStyle(o.current))},[o]),e.jsx(ix,{"data-orientation":"vertical",...i,ref:d,sizes:a,style:{top:0,right:n.dir==="ltr"?0:void 0,left:n.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":An(a)+"px",...s.style},onThumbPointerDown:h=>s.onThumbPointerDown(h.y),onDragScroll:h=>s.onDragScroll(h.y),onWheelScroll:(h,u)=>{if(n.viewport){const m=n.viewport.scrollTop+h.deltaY;s.onWheelScroll(m),dx(m,u)&&h.preventDefault()}},onResize:()=>{o.current&&n.viewport&&l&&r({content:n.viewport.scrollHeight,viewport:n.viewport.offsetHeight,scrollbar:{size:o.current.clientHeight,paddingStart:en(l.paddingTop),paddingEnd:en(l.paddingBottom)}})}})}),[uy,rx]=Zm(as),ix=x.forwardRef((s,t)=>{const{__scopeScrollArea:a,sizes:r,hasThumb:i,onThumbChange:n,onThumbPointerUp:l,onThumbPointerDown:c,onThumbPositionChange:o,onDragScroll:d,onWheelScroll:h,onResize:u,...m}=s,p=Vt(as,a),[j,g]=x.useState(null),f=De(t,_=>g(_)),w=x.useRef(null),y=x.useRef(""),v=p.viewport,A=r.content-r.viewport,C=Ct(h),O=Ct(o),M=Rn(u,10);function I(_){if(w.current){const U=_.clientX-w.current.left,L=_.clientY-w.current.top;d({x:U,y:L})}}return x.useEffect(()=>{const _=U=>{const L=U.target;(j==null?void 0:j.contains(L))&&C(U,A)};return document.addEventListener("wheel",_,{passive:!1}),()=>document.removeEventListener("wheel",_,{passive:!1})},[v,j,A,C]),x.useEffect(O,[r,O]),xr(j,M),xr(p.content,M),e.jsx(uy,{scope:a,scrollbar:j,hasThumb:i,onThumbChange:Ct(n),onThumbPointerUp:Ct(l),onThumbPositionChange:O,onThumbPointerDown:Ct(c),children:e.jsx(he.div,{...m,ref:f,style:{position:"absolute",...m.style},onPointerDown:se(s.onPointerDown,_=>{_.button===0&&(_.target.setPointerCapture(_.pointerId),w.current=j.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),I(_))}),onPointerMove:se(s.onPointerMove,I),onPointerUp:se(s.onPointerUp,_=>{const U=_.target;U.hasPointerCapture(_.pointerId)&&U.releasePointerCapture(_.pointerId),document.body.style.webkitUserSelect=y.current,p.viewport&&(p.viewport.style.scrollBehavior=""),w.current=null})})})}),Zi="ScrollAreaThumb",nx=x.forwardRef((s,t)=>{const{forceMount:a,...r}=s,i=rx(Zi,s.__scopeScrollArea);return e.jsx(Ea,{present:a||i.hasThumb,children:e.jsx(my,{ref:t,...r})})}),my=x.forwardRef((s,t)=>{const{__scopeScrollArea:a,style:r,...i}=s,n=Vt(Zi,a),l=rx(Zi,a),{onThumbPositionChange:c}=l,o=De(t,u=>l.onThumbChange(u)),d=x.useRef(void 0),h=Rn(()=>{d.current&&(d.current(),d.current=void 0)},100);return x.useEffect(()=>{const u=n.viewport;if(u){const m=()=>{if(h(),!d.current){const p=py(u,c);d.current=p,c()}};return c(),u.addEventListener("scroll",m),()=>u.removeEventListener("scroll",m)}},[n.viewport,h,c]),e.jsx(he.div,{"data-state":l.hasThumb?"visible":"hidden",...i,ref:o,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:se(s.onPointerDownCapture,u=>{const p=u.target.getBoundingClientRect(),j=u.clientX-p.left,g=u.clientY-p.top;l.onThumbPointerDown({x:j,y:g})}),onPointerUp:se(s.onPointerUp,l.onThumbPointerUp)})});nx.displayName=Zi;var zo="ScrollAreaCorner",lx=x.forwardRef((s,t)=>{const a=Vt(zo,s.__scopeScrollArea),r=!!(a.scrollbarX&&a.scrollbarY);return a.type!=="scroll"&&r?e.jsx(xy,{...s,ref:t}):null});lx.displayName=zo;var xy=x.forwardRef((s,t)=>{const{__scopeScrollArea:a,...r}=s,i=Vt(zo,a),[n,l]=x.useState(0),[c,o]=x.useState(0),d=!!(n&&c);return xr(i.scrollbarX,()=>{var u;const h=((u=i.scrollbarX)==null?void 0:u.offsetHeight)||0;i.onCornerHeightChange(h),o(h)}),xr(i.scrollbarY,()=>{var u;const h=((u=i.scrollbarY)==null?void 0:u.offsetWidth)||0;i.onCornerWidthChange(h),l(h)}),d?e.jsx(he.div,{...r,ref:t,style:{width:n,height:c,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...s.style}}):null});function en(s){return s?parseInt(s,10):0}function ox(s,t){const a=s/t;return isNaN(a)?0:a}function An(s){const t=ox(s.viewport,s.content),a=s.scrollbar.paddingStart+s.scrollbar.paddingEnd,r=(s.scrollbar.size-a)*t;return Math.max(r,18)}function fy(s,t,a,r="ltr"){const i=An(a),n=i/2,l=t||n,c=i-l,o=a.scrollbar.paddingStart+l,d=a.scrollbar.size-a.scrollbar.paddingEnd-c,h=a.content-a.viewport,u=r==="ltr"?[0,h]:[h*-1,0];return cx([o,d],u)(s)}function ld(s,t,a="ltr"){const r=An(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=t.scrollbar.size-i,l=t.content-t.viewport,c=n-r,o=a==="ltr"?[0,l]:[l*-1,0],d=Ql(s,o);return cx([0,l],[0,c])(d)}function cx(s,t){return a=>{if(s[0]===s[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(s[1]-s[0]);return t[0]+r*(a-s[0])}}function dx(s,t){return s>0&&s<t}var py=(s,t=()=>{})=>{let a={left:s.scrollLeft,top:s.scrollTop},r=0;return function i(){const n={left:s.scrollLeft,top:s.scrollTop},l=a.left!==n.left,c=a.top!==n.top;(l||c)&&t(),a=n,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Rn(s,t){const a=Ct(s),r=x.useRef(0);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),x.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(a,t)},[a,t])}function xr(s,t){const a=Ct(t);Pt(()=>{let r=0;if(s){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(a)});return i.observe(s),()=>{window.cancelAnimationFrame(r),i.unobserve(s)}}},[s,a])}var hx=ex,gy=sx,vy=lx;const ms=x.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(hx,{ref:r,className:W("relative overflow-hidden",s),...a,children:[e.jsx(gy,{className:"h-full w-full rounded-[inherit]",children:t}),e.jsx(ux,{}),e.jsx(vy,{})]}));ms.displayName=hx.displayName;const ux=x.forwardRef(({className:s,orientation:t="vertical",...a},r)=>e.jsx(Bo,{ref:r,orientation:t,className:W("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...a,children:e.jsx(nx,{className:"relative flex-1 rounded-full bg-border"})}));ux.displayName=Bo.displayName;function Jl({onClose:s}){const[t,a]=x.useState(!0),[r,i]=x.useState(!1),[n,l]=x.useState([{id:"1",role:"assistant",content:"Hello! I'm CivicAI, your Canadian democracy assistant. I can help you understand politicians, bills, voting records, legal frameworks, and civic engagement opportunities. What would you like to know?",timestamp:Date.now(),source:"local",relatedTopics:["Getting Started","Civic Engagement"]}]),[c,o]=x.useState(""),[d,h]=x.useState(!1),u=x.useRef(null),{data:m}=Q({queryKey:["/api/ai/status"],refetchInterval:3e4}),p=Ne({mutationFn:async v=>await ye("/api/ai/chat","POST",{message:v,conversationHistory:n.slice(-10)}),onSuccess:v=>{const A={id:Date.now().toString(),role:"assistant",content:v.message,timestamp:Date.now(),source:v.source,relatedTopics:v.relatedTopics};l(C=>[...C,A]),h(!1)},onError:v=>{console.error("Chat error:",v);const A={id:Date.now().toString(),role:"assistant",content:"I apologize, but I'm having trouble processing your request right now. Please try again in a moment.",timestamp:Date.now(),source:"fallback"};l(C=>[...C,A]),h(!1)}}),j=()=>{if(!c.trim())return;const v={id:Date.now().toString(),role:"user",content:c,timestamp:Date.now()};l(A=>[...A,v]),h(!0),p.mutate(c),o("")},g=v=>{v.key==="Enter"&&!v.shiftKey&&(v.preventDefault(),j())},f=()=>{var v;(v=u.current)==null||v.scrollIntoView({behavior:"smooth"})};x.useEffect(()=>{f()},[n]);const w=v=>{switch(v){case"ollama":return"default";case"huggingface":return"secondary";case"local":return"outline";default:return"outline"}},y=v=>{switch(v){case"ollama":return"Ollama AI";case"huggingface":return"HuggingFace";case"local":return"CivicOS";default:return"Assistant"}};return t?e.jsxs(b,{className:W("fixed bottom-6 right-6 z-50 shadow-2xl border-red-200",r?"w-80 h-16":"w-96 h-[600px]"),children:[e.jsxs(P,{className:"flex flex-row items-center justify-between space-y-0 pb-3 bg-red-600 text-white rounded-t-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(al,{className:"h-5 w-5"}),e.jsx(T,{className:"text-sm font-medium",children:"CivicAI Assistant"}),m&&e.jsx(k,{variant:"secondary",className:"text-xs bg-white/20 text-white border-white/30",children:m!=null&&m.ollama?"Ollama":m!=null&&m.huggingface?"HF":"Local"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{variant:"ghost",size:"icon",className:"h-7 w-7 text-white hover:bg-white/20",onClick:()=>i(!r),children:r?e.jsx(Uv,{className:"h-4 w-4"}):e.jsx(qv,{className:"h-4 w-4"})}),e.jsx(E,{variant:"ghost",size:"icon",className:"h-7 w-7 text-white hover:bg-white/20",onClick:()=>{a(!1),s==null||s()},children:e.jsx(Ws,{className:"h-4 w-4"})})]})]}),!r&&e.jsxs(N,{className:"flex flex-col h-full p-0",children:[e.jsx(ms,{className:"flex-1 p-4",children:e.jsxs("div",{className:"space-y-4",children:[n.map(v=>e.jsx("div",{className:W("flex",v.role==="user"?"justify-end":"justify-start"),children:e.jsx("div",{className:W("max-w-[80%] rounded-lg p-3 text-sm",v.role==="user"?"bg-red-600 text-white":"bg-gray-100 text-gray-900"),children:e.jsxs("div",{className:"flex items-start space-x-2",children:[v.role==="assistant"&&e.jsx(al,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),v.role==="user"&&e.jsx(Sn,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"whitespace-pre-wrap",children:v.content}),v.role==="assistant"&&e.jsxs("div",{className:"mt-2 space-y-1",children:[v.source&&e.jsx(k,{variant:w(v.source),className:"text-xs",children:y(v.source)}),v.relatedTopics&&v.relatedTopics.length>0&&e.jsx("div",{className:"flex flex-wrap gap-1",children:v.relatedTopics.map(A=>e.jsx(k,{variant:"outline",className:"text-xs cursor-pointer hover:bg-red-50",onClick:()=>o(`Tell me about ${A}`),children:A},A))})]})]})]})})},v.id)),d&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{className:"bg-gray-100 rounded-lg p-3 text-sm",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(al,{className:"h-4 w-4"}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),e.jsx("div",{ref:u})]})}),e.jsxs("div",{className:"border-t p-4",children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(te,{value:c,onChange:v=>o(v.target.value),onKeyPress:g,placeholder:"Ask about Canadian politics, bills, politicians...",className:"flex-1",disabled:p.isPending}),e.jsx(E,{onClick:j,disabled:!c.trim()||p.isPending,className:"bg-red-600 hover:bg-red-700",size:"icon",children:e.jsx(Kv,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:["Recent Bills","My MP","Voting Guide","Legal Rights"].map(v=>e.jsx(E,{variant:"outline",size:"sm",className:"text-xs",onClick:()=>o(v),children:v},v))})]})]})]}):null}function jy({variant:s="icon",className:t=""}){const[a,r]=x.useState(!1);return s==="full"?e.jsxs(e.Fragment,{children:[e.jsxs(E,{variant:"ghost",className:`w-full justify-start space-x-2 lg:space-x-3 text-xs lg:text-sm h-8 lg:h-9 px-2 lg:px-3 hover:bg-blue-50 hover:text-blue-600 text-slate-700 dark:text-slate-300 ${t}`,onClick:()=>r(!0),title:"Chat with CivicAI",children:[e.jsx(bt,{className:"w-3 h-3 lg:w-4 lg:h-4"}),e.jsx("span",{children:"CivicAI Chat"})]}),a&&e.jsx("div",{className:"fixed inset-0 z-50",children:e.jsx("div",{className:"fixed bottom-6 right-6",children:e.jsx(Jl,{onClose:()=>r(!1)})})})]}):e.jsxs(e.Fragment,{children:[e.jsx(E,{variant:"ghost",size:"icon",className:`text-slate-700 dark:text-slate-300 hover:bg-red-50 hover:text-red-600 ${t}`,onClick:()=>r(!0),title:"Chat with CivicAI",children:e.jsx(bt,{className:"w-5 h-5"})}),a&&e.jsx("div",{className:"fixed inset-0 z-50",children:e.jsx("div",{className:"fixed bottom-6 right-6",children:e.jsx(Jl,{onClose:()=>r(!1)})})})]})}function yy(){const[s,t]=x.useState(!1);return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"hidden lg:block",children:e.jsx(E,{onClick:()=>t(!0),className:"fixed bottom-6 right-6 h-14 w-14 rounded-full bg-blue-600 hover:bg-blue-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 z-40",size:"icon",title:"Chat with CivicAI",children:e.jsx(bt,{className:"h-6 w-6"})})}),s&&e.jsx("div",{className:"fixed inset-0 z-50",children:e.jsx("div",{className:"fixed bottom-6 right-6",children:e.jsx(Jl,{onClose:()=>t(!1)})})})]})}function Rt(){const s=ss(),{toast:t}=dt(),{data:a,isLoading:r,error:i}=Q({queryKey:["/api/auth/user"],retry:!1,enabled:!!Qi()}),n=Ne({mutationFn:async()=>(localStorage.removeItem("civicos-jwt"),ye("/api/auth/logout","POST")),onSuccess:()=>{s.clear(),s.invalidateQueries({queryKey:["/api/auth/user"]}),t({title:"Logged out",description:"You have been successfully logged out."}),window.location.href="/auth"},onError:c=>{t({title:"Logout failed",description:c.message||"Failed to logout",variant:"destructive"})}}),l=Ne({mutationFn:async c=>{const o=await ye("/api/auth/login","POST",c);return o.token&&localStorage.setItem("civicos-jwt",o.token),o},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/auth/user"]}),t({title:"Login successful",description:"Welcome to CivicOS!"}),window.location.href="/"},onError:c=>{t({title:"Login failed",description:c.message||"Invalid credentials",variant:"destructive"})}});return{user:a||null,isLoading:r,isAuthenticated:!!Qi()&&!!a&&!i,logout:n,login:l}}const Ks=Nu,Ho=wu,by=yu,mx=x.forwardRef(({className:s,...t},a)=>e.jsx(fn,{ref:a,className:W("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t}));mx.displayName=fn.displayName;const vs=x.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(by,{children:[e.jsx(mx,{}),e.jsxs(pn,{ref:r,className:W("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...a,children:[t,e.jsxs(bu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(Ws,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vs.displayName=pn.displayName;const js=({className:s,...t})=>e.jsx("div",{className:W("flex flex-col space-y-1.5 text-center sm:text-left",s),...t});js.displayName="DialogHeader";const ys=x.forwardRef(({className:s,...t},a)=>e.jsx(gn,{ref:a,className:W("text-lg font-semibold leading-none tracking-tight",s),...t}));ys.displayName=gn.displayName;const Ny=x.forwardRef(({className:s,...t},a)=>e.jsx(vn,{ref:a,className:W("text-sm text-muted-foreground",s),...t}));Ny.displayName=vn.displayName;var wy="Label",xx=x.forwardRef((s,t)=>e.jsx(he.label,{...s,ref:t,onMouseDown:a=>{var i;a.target.closest("button, input, select, textarea")||((i=s.onMouseDown)==null||i.call(s,a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));xx.displayName=wy;var fx=xx;const Cy=Nr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Re=x.forwardRef(({className:s,...t},a)=>e.jsx(fx,{ref:a,className:W(Cy(),s),...t}));Re.displayName=fx.displayName;var px="basil",Sy=function(t){return t===3?"v3":t},gx="https://js.stripe.com",ky="".concat(gx,"/").concat(px,"/stripe.js"),Py=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,Ty=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/;var Ay=function(t){return Py.test(t)||Ty.test(t)},Ry=function(){for(var t=document.querySelectorAll('script[src^="'.concat(gx,'"]')),a=0;a<t.length;a++){var r=t[a];if(Ay(r.src))return r}return null},od=function(t){var a="",r=document.createElement("script");r.src="".concat(ky).concat(a);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},Ey=function(t,a){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.4.0",startTime:a})},Er=null,Pi=null,Ti=null,_y=function(t){return function(a){t(new Error("Failed to load Stripe.js",{cause:a}))}},Iy=function(t,a){return function(){window.Stripe?t(window.Stripe):a(new Error("Stripe.js not available"))}},My=function(t){return Er!==null?Er:(Er=new Promise(function(a,r){if(typeof window>"u"||typeof document>"u"){a(null);return}if(window.Stripe){a(window.Stripe);return}try{var i=Ry();if(!(i&&t)){if(!i)i=od(t);else if(i&&Ti!==null&&Pi!==null){var n;i.removeEventListener("load",Ti),i.removeEventListener("error",Pi),(n=i.parentNode)===null||n===void 0||n.removeChild(i),i=od(t)}}Ti=Iy(a,r),Pi=_y(r),i.addEventListener("load",Ti),i.addEventListener("error",Pi)}catch(l){r(l);return}}),Er.catch(function(a){return Er=null,Promise.reject(a)}))},Dy=function(t,a,r){if(t===null)return null;var i=a[0],n=i.match(/^pk_test/),l=Sy(t.version),c=px;n&&l!==c&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("7.4.0"," expected Stripe.js@").concat(c,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var o=t.apply(void 0,a);return Ey(o,r),o},_r,vx=!1,jx=function(){return _r||(_r=My(null).catch(function(t){return _r=null,Promise.reject(t)}),_r)};Promise.resolve().then(function(){return jx()}).catch(function(s){vx||console.warn(s)});var Ly=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];vx=!0;var i=Date.now();return jx().then(function(n){return Dy(n,a,i)})};const Oy=Ly("pk_test_placeholder");function Fy({isOpen:s,onClose:t,onSuccess:a}){const[r,i]=x.useState(null),[n,l]=x.useState(""),[c,o]=x.useState(!1),{toast:d}=dt(),h=[5,10,25,50],u=Ne({mutationFn:async g=>ye("/api/create-payment-intent","POST",{amount:g}),onSuccess:async g=>{if(g.isSimulated){d({title:"Demo Payment Complete",description:`Thank you for your $${g.amount} CAD donation!`}),setTimeout(()=>{o(!1),a(),t()},1500);return}if(g.url)d({title:"Redirecting to Stripe",description:"Opening secure payment checkout..."}),window.location.href=g.url;else if(g.sessionId){const f=await Oy;if(f){const{error:w}=await f.redirectToCheckout({sessionId:g.sessionId});w&&(o(!1),d({title:"Payment Error",description:w.message||"Failed to redirect to checkout",variant:"destructive"}))}}else o(!1),d({title:"Configuration Error",description:"Payment system is not properly configured",variant:"destructive"})},onError:g=>{o(!1),d({title:"Payment Error",description:g.message||"Failed to process donation",variant:"destructive"})}}),m=g=>g>=50?"1 day of servers":g>=25?"12 hours uptime":g>=10?"4 hours data":"1 hour support",p=async()=>{const g=j();if(g<=0){d({title:"Invalid Amount",description:"Please select or enter a valid donation amount",variant:"destructive"});return}o(!0),u.mutate(g)},j=()=>r||parseFloat(n)||0;return e.jsx(Ks,{open:s,onOpenChange:t,children:e.jsx(vs,{className:"w-[95vw] max-w-md max-h-[90vh] overflow-hidden p-0 mx-auto",children:e.jsxs("div",{className:"max-h-[90vh] overflow-y-auto",children:[e.jsxs(js,{className:"flex flex-row items-center justify-between p-3 sm:p-4 pb-2 sticky top-0 bg-white z-10 border-b",children:[e.jsxs(ys,{className:"text-base sm:text-lg font-bold text-gray-900 flex items-center",children:[e.jsx(Na,{className:"w-4 h-4 sm:w-5 sm:h-5 text-red-600 mr-2"}),"Support CivicOS"]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:t,className:"text-gray-500 hover:text-gray-700 h-8 w-8 p-0",children:e.jsx(Ws,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"px-3 sm:px-4 pb-4 space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-base sm:text-lg font-bold text-gray-900 mb-2",children:"Keep Democracy Transparent"}),e.jsx("p",{className:"text-gray-700 mb-3 text-xs sm:text-sm",children:"Your support powers independent government accountability in Canada"}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 sm:p-3",children:e.jsx("p",{className:"text-xs text-blue-800 font-medium",children:"Impact: Every dollar directly funds real-time government data access, server infrastructure, and the tools that keep 85,000+ politicians accountable to Canadians."})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 border border-green-200 rounded-lg p-2 sm:p-3",children:[e.jsx("h3",{className:"font-bold text-green-900 mb-2 text-center text-xs sm:text-sm",children:"Monthly Platform Costs"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-1 sm:gap-2 text-xs",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Gv,{className:"w-3 h-3 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-green-800",children:"API Access: $890/mo"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pi,{className:"w-3 h-3 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-green-800",children:"Servers: $340/mo"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Zr,{className:"w-3 h-3 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-green-800",children:"Database: $180/mo"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Na,{className:"w-3 h-3 text-green-600 flex-shrink-0"}),e.jsx("span",{className:"text-green-800",children:"Development: $1,200/mo"})]})]}),e.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[e.jsxs("p",{className:"text-center font-bold text-green-900 text-xs sm:text-sm",children:["Total Monthly: ",e.jsx("span",{className:"text-sm sm:text-base",children:"$2,610"})]}),e.jsx("p",{className:"text-center text-xs text-green-700",children:"100% goes to platform operations - no salaries or profit"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{className:"text-xs sm:text-sm font-bold text-gray-700 mb-2 block",children:"Choose your contribution:"}),e.jsx("div",{className:"grid grid-cols-2 gap-2 mb-3",children:h.map(g=>e.jsxs(E,{variant:r===g?"default":"outline",onClick:()=>{i(g),l("")},className:"relative h-14 sm:h-16 flex flex-col items-center justify-center border-2 hover:border-red-300 transition-all duration-200 text-center",children:[e.jsxs("span",{className:"text-base sm:text-lg font-black text-gray-900",children:["$",g]}),e.jsx("span",{className:"text-xs text-gray-600 mt-0.5 sm:mt-1 leading-tight",children:m(g)})]},g))})]}),e.jsxs("div",{children:[e.jsx(Re,{className:"text-xs sm:text-sm font-bold text-gray-700 mb-2 block",children:"Or enter a custom amount:"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm font-bold",children:"$"}),e.jsx(te,{type:"number",placeholder:"0.00",value:n,onChange:g=>{l(g.target.value),i(null)},className:"pl-8 text-sm font-bold text-center border-2 focus:border-red-400 h-10 sm:h-11",min:"1",step:"0.01"})]})]}),j()>0&&e.jsx(b,{className:"border-2 border-green-500 bg-green-50",children:e.jsx(N,{className:"pt-3",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-green-800 font-medium",children:"Donation Amount:"}),e.jsxs("p",{className:"text-xl font-black text-green-900",children:["$",j().toFixed(2)," CAD"]}),e.jsx("p",{className:"text-xs text-green-700",children:"Secure payment via Stripe"})]})})}),e.jsx(E,{onClick:p,disabled:j()===0||c,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 text-sm",children:c?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-white border-t-transparent rounded-full mr-2"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Na,{className:"w-4 h-4 mr-2"}),"Donate $",j().toFixed(2)," Now"]})}),e.jsxs("div",{className:"bg-gray-50 border border-gray-200 rounded p-2",children:[e.jsx("p",{className:"text-xs text-gray-600 text-center mb-1",children:"Secure Payment: Processed by Stripe with bank-level encryption"}),e.jsx("p",{className:"text-xs text-gray-500 text-center",children:"CivicOS is a registered non-profit platform. Donations support infrastructure costs only."})]})]})]})})})}function Vy({isOpen:s,onClose:t,amount:a}){const r="I just supported CivicOS - Canada's premier government transparency platform. Join me in keeping democracy accountable! ",i=window.location.origin,n=()=>{const o=`https://twitter.com/intent/tweet?text=${encodeURIComponent(r)}&url=${encodeURIComponent(i)}`;window.open(o,"_blank","width=600,height=400")},l=()=>{const o=`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(i)}&summary=${encodeURIComponent(r)}`;window.open(o,"_blank","width=600,height=400")},c=()=>{const o="Check out CivicOS - Canadian Government Transparency Platform",d=`${r}

Visit: ${i}`,h=`mailto:?subject=${encodeURIComponent(o)}&body=${encodeURIComponent(d)}`;window.location.href=h};return e.jsx(Ks,{open:s,onOpenChange:t,children:e.jsxs(vs,{className:"max-w-md",children:[e.jsx(js,{children:e.jsxs(ys,{className:"text-2xl font-black text-green-900 flex items-center justify-center",children:[e.jsx(z,{className:"w-8 h-8 text-green-600 mr-3"}),"Thank You!"]})}),e.jsxs("div",{className:"space-y-6 text-center",children:[e.jsx(b,{className:"border-2 border-green-200 bg-green-50",children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"text-center",children:[e.jsxs("p",{className:"text-lg font-bold text-green-900 mb-2",children:["Your $",a==null?void 0:a.toFixed(2)," donation was successful!"]}),e.jsx("p",{className:"text-green-800 font-medium",children:"Thanks for supporting truth infrastructure."})]})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-gray-700 font-semibold",children:"Your contribution helps maintain:"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("p",{children:" Real-time government data access"}),e.jsx("p",{children:" Secure platform infrastructure"}),e.jsx("p",{children:" Independent journalism support"}),e.jsx("p",{children:" Democratic accountability tools"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-center mb-3",children:[e.jsx(Yi,{className:"w-5 h-5 text-gray-600 mr-2"}),e.jsx("p",{className:"font-bold text-gray-800",children:"Share CivicOS with your network"})]}),e.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Help spread government transparency across Canada"})]}),e.jsxs("div",{className:"flex justify-center space-x-3",children:[e.jsxs(E,{onClick:n,variant:"outline",className:"border-blue-400 text-blue-600 hover:bg-blue-50",children:[e.jsx(Xv,{className:"w-4 h-4 mr-2"}),"Twitter"]}),e.jsxs(E,{onClick:l,variant:"outline",className:"border-blue-700 text-blue-700 hover:bg-blue-50",children:[e.jsx($v,{className:"w-4 h-4 mr-2"}),"LinkedIn"]}),e.jsxs(E,{onClick:c,variant:"outline",className:"border-gray-600 text-gray-600 hover:bg-gray-50",children:[e.jsx(Nt,{className:"w-4 h-4 mr-2"}),"Email"]})]})]}),e.jsx(E,{onClick:t,className:"w-full bg-green-600 hover:bg-green-700 text-white font-bold",children:"Continue to Dashboard"})]})]})})}const fr="/assets/ChatGPT%20Image%20Jun%2020_%202025_%2006_03_54%20PM_1750464244456-C9zABz7P.png",cd=[{title:"Political Intelligence Hub",items:[{title:"Dashboard",href:"/",icon:Tm},{title:"Politicians",href:"/politicians",icon:de,badge:"2,847"},{title:"Bills & Voting",href:"/voting",icon:ce,badge:"Active"},{title:"Elections",href:"/elections",icon:hr},{title:"News Analysis",href:"/news",icon:Ee,badge:"Live"}]},{title:"Civic Engagement Suite",items:[{title:"Civic Ledger",href:"/ledger",icon:Xr,badge:"Personal"},{title:"Discussions",href:"/discussions",icon:ur,badge:"24"},{title:"Petitions",href:"/petitions",icon:ce},{title:"Contact Officials",href:"/contacts",icon:de}]},{title:"Government Integrity Tools",items:[{title:"Campaign Finance",href:"/finance",icon:jt,badge:"New"},{title:"Lobbyist Mapping",href:"/lobbyists",icon:Ce},{title:"Procurement Tracker",href:"/procurement",icon:Tt},{title:"Political Memory",href:"/memory",icon:ds}]},{title:"Legal Oversight Grid",items:[{title:"Legal System",href:"/legal",icon:zs},{title:"Your Rights",href:"/rights",icon:X,badge:"Charter"},{title:"Constitutional Cases",href:"/cases",icon:lt},{title:"Legal Search",href:"/legal-search",icon:ct}]},{title:"Transparency Arsenal",items:[{title:"Document Leaks",href:"/leaks",icon:Ga,badge:"Secure"},{title:"Freedom of Information",href:"/foi",icon:Ce},{title:"Whistleblower Portal",href:"/whistleblower",icon:ae},{title:"Corruption Patterns",href:"/corruption",icon:Yt}]},{title:"Civic Analytics",items:[{title:"Civic Pulse",href:"/pulse",icon:Yt,badge:"Live"},{title:"Trust Metrics",href:"/trust",icon:gs},{title:"Engagement Maps",href:"/maps",icon:Ee}]},{title:"Platform Hub",items:[{title:"Manifesto",href:"/manifesto",icon:Xr,badge:"Core"}]}];function $y(){var w,y;const[s]=mi(),{user:t,logout:a}=Rt(),r=t,[i,n]=x.useState(["Political Intelligence Hub"]),[l,c]=x.useState(!1),[o,d]=x.useState(!1),[h,u]=x.useState(!1),[m,p]=x.useState(0),{toast:j}=dt();Ne({mutationFn:async()=>{await ye("/api/logout","POST",{})},onSuccess:()=>{ka.setQueryData(["/api/auth/user"],null),ka.clear(),j({title:"Logged out successfully",description:"You have been securely logged out of CivicOS"}),window.location.href="/"},onError:()=>{j({title:"Logout failed",description:"There was an error logging out. Please try again.",variant:"destructive"})}});const g=v=>{n(A=>A.includes(v)?A.filter(C=>C!==v):[...A,v])},f=v=>!!(v==="/"&&s==="/"||v!=="/"&&s.startsWith(v));return e.jsxs("div",{className:W("bg-white border-r-2 border-gray-200 h-screen flex flex-col transition-all duration-300 ease-in-out shadow-lg","hidden md:flex",l?"w-16":"w-64 lg:w-72"),children:[e.jsxs("div",{className:"flex-shrink-0 bg-white border-b border-gray-200",children:[e.jsxs("div",{className:"p-4",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx(E,{variant:"ghost",size:"icon",onClick:()=>c(!l),className:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",children:l?e.jsx(Em,{className:"w-5 h-5"}):e.jsx(Ws,{className:"w-5 h-5"})})}),!l&&e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("img",{src:fr,alt:"CivicOS Crest",className:"w-8 h-8 object-contain"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"CivicOS"})]})})]}),r&&!l&&e.jsx("div",{className:"bg-gray-50 border-t border-gray-200 px-3 lg:px-4 py-2 lg:py-3",children:e.jsx(St,{href:`/users/${(r==null?void 0:r.id)||"profile"}`,children:e.jsxs("div",{className:"flex items-center space-x-2 lg:space-x-3 hover:bg-gray-100 rounded p-2 transition-colors cursor-pointer",children:[e.jsx("div",{className:"w-6 h-6 lg:w-8 lg:h-8 rounded-full bg-red-600 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-xs lg:text-sm font-bold text-white",children:((w=r==null?void 0:r.firstName)==null?void 0:w[0])||((y=r==null?void 0:r.email)==null?void 0:y[0])||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs lg:text-sm font-medium text-gray-800 truncate",children:(r==null?void 0:r.firstName)||(r==null?void 0:r.email)||"User"}),e.jsx(k,{className:"text-xs bg-green-100 text-green-700 font-semibold mt-1",children:"Verified Citizen"})]})]})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto overflow-x-hidden px-2 lg:px-3 py-3 lg:py-4 bg-white",children:l?e.jsx("div",{className:"space-y-2",children:cd.flatMap(v=>v.items).map(v=>e.jsx(St,{href:v.href,children:e.jsx(E,{variant:"ghost",size:"icon",className:W("w-8 h-8 lg:w-10 lg:h-10 text-gray-600 hover:bg-red-50 hover:text-red-600 border border-gray-200",f(v.href)&&"bg-red-600 text-white hover:bg-red-700 hover:text-white"),title:v.title,children:e.jsx(v.icon,{className:"w-4 h-4 lg:w-5 lg:h-5"})})},v.href))}):e.jsx("div",{className:"space-y-6",children:cd.map(v=>e.jsxs("div",{children:[e.jsxs(E,{variant:"ghost",className:"w-full justify-between p-3 h-auto font-medium text-sm text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>g(v.title),children:[e.jsx("span",{className:"font-serif text-gray-800 dark:text-gray-200",children:v.title}),i.includes(v.title)?e.jsx(fi,{className:"w-4 h-4 text-gray-500"}):e.jsx(Sm,{className:"w-4 h-4 text-gray-500"})]}),e.jsx("div",{className:W("ml-3 mt-2 space-y-1 transition-all duration-200 ease-in-out",i.includes(v.title)?"block opacity-100":"hidden opacity-0"),children:v.items.map(A=>e.jsx(St,{href:A.href,children:e.jsxs(E,{variant:"ghost",className:W("w-full justify-start space-x-3 h-10 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",f(A.href)&&"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-l-3 border-blue-500"),children:[e.jsx(A.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"flex-1 text-left text-sm",children:A.title}),A.badge&&e.jsx(k,{variant:"outline",className:"text-xs bg-blue-100 text-blue-700 border-blue-200",children:A.badge})]})},A.href))})]},v.title))})}),e.jsxs("div",{className:"flex-shrink-0 p-3 lg:p-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"space-y-2 lg:space-y-3",children:[e.jsxs(E,{onClick:()=>d(!0),className:"w-full justify-start space-x-2 lg:space-x-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white border-0 shadow-lg hover:shadow-xl transition-all duration-200 group text-xs lg:text-sm h-10 lg:h-11 px-3 lg:px-4 mb-2",children:[e.jsx(Na,{className:"w-4 h-4 lg:w-5 lg:h-5 group-hover:scale-105 transition-transform duration-150"}),e.jsx("span",{className:"font-semibold",children:"Support Platform"})]}),e.jsx(St,{href:"/settings",children:e.jsxs(E,{variant:f("/settings")?"secondary":"ghost",className:"w-full justify-start space-x-2 lg:space-x-3 text-xs lg:text-sm h-8 lg:h-9 px-2 lg:px-3",children:[e.jsx(Cn,{className:"w-3 h-3 lg:w-4 lg:h-4"}),e.jsx("span",{children:"Settings"})]})}),e.jsx(St,{href:"/notifications",children:e.jsxs(E,{variant:f("/notifications")?"secondary":"ghost",className:"w-full justify-start space-x-2 lg:space-x-3 text-xs lg:text-sm h-8 lg:h-9 px-2 lg:px-3",children:[e.jsx(dr,{className:"w-3 h-3 lg:w-4 lg:h-4"}),e.jsx("span",{children:"Notifications"}),e.jsx(k,{variant:"destructive",className:"ml-auto text-xs",children:"3"})]})}),e.jsxs(E,{onClick:()=>a.mutate(),disabled:a.isPending,variant:"ghost",className:"w-full justify-start space-x-2 lg:space-x-3 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950 text-xs lg:text-sm h-8 lg:h-9 px-2 lg:px-3",children:[e.jsx(Am,{className:"w-3 h-3 lg:w-4 lg:h-4"}),e.jsx("span",{children:a.isPending?"Logging out...":"Logout"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Built by Jordan Kenneth Boisclair"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:" 2025 CivicOS"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Transparency is no longer optional"})]})})]}),e.jsx(Fy,{isOpen:o,onClose:()=>d(!1),onSuccess:()=>{d(!1),p(25),u(!0)}}),e.jsx(Vy,{isOpen:h,onClose:()=>u(!1),amount:m})]})}const Uy=Nu,By=wu,qy=yu,yx=x.forwardRef(({className:s,...t},a)=>e.jsx(fn,{className:W("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...t,ref:a}));yx.displayName=fn.displayName;const zy=Nr("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),bx=x.forwardRef(({side:s="right",className:t,children:a,...r},i)=>e.jsxs(qy,{children:[e.jsx(yx,{}),e.jsxs(pn,{ref:i,className:W(zy({side:s}),t),...r,children:[a,e.jsxs(bu,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[e.jsx(Ws,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));bx.displayName=pn.displayName;const Hy=x.forwardRef(({className:s,...t},a)=>e.jsx(gn,{ref:a,className:W("text-lg font-semibold text-foreground",s),...t}));Hy.displayName=gn.displayName;const Wy=x.forwardRef(({className:s,...t},a)=>e.jsx(vn,{ref:a,className:W("text-sm text-muted-foreground",s),...t}));Wy.displayName=vn.displayName;function Ky(){var d,h;const[s]=mi(),{user:t,logout:a}=Rt(),r=t,[i,n]=x.useState(["Democratic Systems"]),l=u=>{n(m=>m.includes(u)?m.filter(p=>p!==u):[...m,u])},c=u=>!!(u==="/"&&s==="/"||u!=="/"&&s.startsWith(u)),o=[{title:"Democratic Systems",items:[{title:"Dashboard",href:"/",icon:Tm,badge:"Live"},{title:"Politicians",href:"/politicians",icon:de,badge:"85K+"},{title:"Voting System",href:"/voting",icon:Be,badge:"Active"},{title:"Elections",href:"/elections",icon:Hs,badge:"2025"},{title:"Civic Ledger",href:"/ledger",icon:Xr},{title:"Pulse Monitor",href:"/pulse",icon:Ee,badge:"Real-time"}]},{title:"Legal Framework",items:[{title:"Legal Database",href:"/legal",icon:lt,badge:"Complete"},{title:"Legal Search",href:"/legal-search",icon:ct},{title:"Court Cases",href:"/cases",icon:zs,badge:"Active"},{title:"Rights Portal",href:"/rights",icon:X},{title:"Procurement",href:"/procurement",icon:jt,badge:"Tracked"}]},{title:"Civic Intelligence",items:[{title:"News Analysis",href:"/news",icon:_m,badge:"AI"},{title:"Finance Tracker",href:"/finance",icon:gs,badge:"Live"},{title:"Lobbyist Watch",href:"/lobbyists",icon:Ov,badge:"Monitored"},{title:"Corruption Intel",href:"/corruption",icon:ae,badge:"Active"},{title:"Trust Metrics",href:"/trust",icon:ej},{title:"Memory Bank",href:"/memory",icon:Ga,badge:"Historical"}]},{title:"Engagement Tools",items:[{title:"Discussion Forum",href:"/discussions",icon:ur,badge:"Active"},{title:"Petitions",href:"/petitions",icon:Hv,badge:"Open"},{title:"Whistleblower",href:"/whistleblower",icon:ae,badge:"Secure"},{title:"FOI Requests",href:"/foi",icon:ce,badge:"Tracked"},{title:"Service Tracker",href:"/services",icon:Tt},{title:"Contact Officials",href:"/contacts",icon:Bv}]},{title:"Intelligence Hub",items:[{title:"Maps & Data",href:"/maps",icon:Rm,badge:"Interactive"},{title:"Leaks Portal",href:"/leaks",icon:pi,badge:"Verified"},{title:"Manifesto",href:"/manifesto",icon:Xr,badge:"Core"}]}];return e.jsxs(Uy,{children:[e.jsx(By,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",className:"text-slate-700 dark:text-slate-300",children:e.jsx(Em,{className:"w-5 h-5"})})}),e.jsx(bx,{side:"left",className:"w-80 p-0 bg-white dark:bg-gray-900 h-full",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700 flex-shrink-0",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-br from-red-600 via-red-700 to-red-800 flex items-center justify-center shadow-lg border border-red-500 overflow-hidden",children:e.jsx("img",{src:fr,alt:"CivicOS",className:"w-8 h-8 object-contain rounded-full"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold font-serif text-slate-900 dark:text-slate-100",children:"CivicOS"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 font-medium tracking-wide",children:"DIGITAL DEMOCRACY"})]})]}),r&&e.jsx(St,{href:`/users/${(r==null?void 0:r.id)||"profile"}`,children:e.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors cursor-pointer",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-sm font-medium text-white",children:((d=r==null?void 0:r.firstName)==null?void 0:d[0])||((h=r==null?void 0:r.email)==null?void 0:h[0])||"U"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white truncate",children:(r==null?void 0:r.firstName)||(r==null?void 0:r.email)}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{variant:"secondary",className:"text-xs bg-blue-100 text-blue-700",children:"Civic Level 3"}),e.jsx("span",{className:"text-xs text-gray-500",children:"1,247 pts"})]})]})]})})})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-4 scrollable max-h-[calc(100vh-200px)]",children:e.jsx("div",{className:"space-y-4",children:o.map(u=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{variant:"ghost",className:"w-full justify-between p-3 h-auto text-left font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>l(u.title),children:[e.jsx("span",{className:"text-sm font-serif text-gray-800 dark:text-gray-200",children:u.title}),i.includes(u.title)?e.jsx(fi,{className:"w-4 h-4 text-gray-500"}):e.jsx(Sm,{className:"w-4 h-4 text-gray-500"})]}),i.includes(u.title)&&e.jsx("div",{className:"ml-3 mt-2 space-y-1",children:u.items.map(m=>e.jsx(St,{href:m.href,children:e.jsxs(E,{variant:"ghost",className:W("w-full justify-start space-x-3 h-10 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800",c(m.href)&&"bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 border-l-3 border-blue-500"),children:[e.jsx(m.icon,{className:"w-4 h-4"}),e.jsx("span",{className:"flex-1 text-left text-sm",children:m.title}),m.badge&&e.jsx(k,{variant:"outline",className:"text-xs bg-blue-100 text-blue-700 border-blue-200",children:m.badge})]})},m.href))})]},u.title))})}),e.jsxs("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(St,{href:"/settings",children:e.jsxs(E,{variant:c("/settings")?"secondary":"ghost",className:"w-full justify-start space-x-3 text-sm h-9",children:[e.jsx(Cn,{className:"w-4 h-4"}),e.jsx("span",{children:"Settings"})]})}),e.jsx(St,{href:"/notifications",children:e.jsxs(E,{variant:c("/notifications")?"secondary":"ghost",className:"w-full justify-start space-x-3 text-sm h-9",children:[e.jsx(dr,{className:"w-4 h-4"}),e.jsx("span",{children:"Notifications"}),e.jsx(k,{variant:"destructive",className:"ml-auto text-xs",children:"3"})]})}),e.jsxs(E,{onClick:()=>a.mutate(),disabled:a.isPending,variant:"ghost",className:"w-full justify-start space-x-3 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-950 text-sm h-9",children:[e.jsx(Am,{className:"w-4 h-4"}),e.jsx("span",{children:a.isPending?"Logging out...":"Logout"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Built by Jordan Kenneth Boisclair"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500 mt-1",children:" 2025 CivicOS"}),e.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:"Transparency is no longer optional"})]})})]})]})})]})}var Gy="Separator",dd="horizontal",Qy=["horizontal","vertical"],Nx=x.forwardRef((s,t)=>{const{decorative:a,orientation:r=dd,...i}=s,n=Jy(r)?r:dd,c=a?{role:"none"}:{"aria-orientation":n==="vertical"?n:void 0,role:"separator"};return e.jsx(he.div,{"data-orientation":n,...c,...i,ref:t})});Nx.displayName=Gy;function Jy(s){return Qy.includes(s)}var wx=Nx;const bs=x.forwardRef(({className:s,orientation:t="horizontal",decorative:a=!0,...r},i)=>e.jsx(wx,{ref:i,decorative:a,orientation:t,className:W("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...r}));bs.displayName=wx.displayName;function Yy({size:s="md",className:t=""}){const a={sm:"w-8 h-8",md:"w-12 h-12",lg:"w-16 h-16"};return e.jsx("div",{className:`${a[s]} ${t} bg-white rounded-lg border-2 border-red-200 flex items-center justify-center shadow-sm`,children:e.jsxs("svg",{viewBox:"0 0 100 100",className:"w-full h-full p-1",children:[e.jsx("path",{d:"M50 10 L20 25 L20 70 Q20 85 50 90 Q80 85 80 70 L80 25 Z",fill:"#dc2626",stroke:"#b91c1c",strokeWidth:"1"}),e.jsx("path",{d:"M50 25 L52 35 L60 35 L54 40 L56 50 L50 45 L44 50 L46 40 L40 35 L48 35 Z",fill:"white"}),e.jsx("rect",{x:"45",y:"12",width:"10",height:"8",fill:"#fbbf24",stroke:"#f59e0b",strokeWidth:"0.5"}),e.jsx("circle",{cx:"50",cy:"16",r:"2",fill:"#fbbf24"}),e.jsx("circle",{cx:"35",cy:"45",r:"6",fill:"white",stroke:"#dc2626",strokeWidth:"1"}),e.jsx("circle",{cx:"65",cy:"45",r:"6",fill:"white",stroke:"#dc2626",strokeWidth:"1"}),e.jsx("rect",{x:"32",y:"42",width:"6",height:"6",fill:"#dc2626",rx:"1"}),e.jsx("rect",{x:"62",y:"42",width:"6",height:"6",fill:"#dc2626",rx:"1"})]})})}function Xy(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center py-4 sm:py-6 space-y-4 sm:space-y-0",children:[e.jsx("div",{className:"flex items-center space-x-3 sm:space-x-4",children:e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-3",children:[e.jsx("img",{src:fr,alt:"CivicOS Heraldic Crest",className:"w-10 h-10 sm:w-12 sm:h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900 tracking-tight",children:"CivicOS"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Digital Democracy Platform"})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center space-y-3 sm:space-y-0 sm:space-x-4",children:[e.jsxs("div",{className:"text-center sm:text-right",children:[e.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"Canadian Government Accountability"}),e.jsx("div",{className:"text-xs text-gray-500",children:"Independent  Transparent  Authentic"})]}),e.jsxs(E,{onClick:()=>window.location.href="/login",className:"bg-red-600 text-white hover:bg-red-700 font-semibold px-6 sm:px-8 py-2 sm:py-3 rounded-lg text-base sm:text-lg w-full sm:w-auto",children:["Access Platform",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]})]})]})})}),e.jsxs("section",{className:"relative bg-white py-20 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-5",children:e.jsx("img",{src:fr,alt:"Background emblem",className:"w-96 h-96 object-contain"})}),e.jsx("div",{className:"relative max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-red-50 border border-red-200 text-red-700 rounded-lg text-sm font-semibold",children:[e.jsx(X,{className:"w-5 h-5 mr-3"}),"Independent Government Accountability Platform"]})}),e.jsx("h1",{className:"text-4xl sm:text-5xl lg:text-6xl font-bold text-gray-900 mb-6 tracking-tight",children:"Canadian Digital Democracy"}),e.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-semibold text-red-600 mb-8",children:"Dmocratie Numrique Canadienne"}),e.jsxs("div",{className:"max-w-4xl mx-auto mb-12",children:[e.jsx("p",{className:"text-xl text-gray-700 mb-6 leading-relaxed",children:"Access real-time Canadian government data, track parliamentary proceedings, monitor your elected representatives, and engage with democratic processes across federal, provincial, and municipal levels."}),e.jsx("p",{className:"text-lg text-gray-600 mb-8 leading-relaxed",children:"Accdez aux donnes gouvernementales canadiennes en temps rel, suivez les dlibrations parlementaires, surveillez vos reprsentants lus et participez aux processus dmocratiques aux niveaux fdral, provincial et municipal."})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-6 justify-center mb-16",children:[e.jsxs(E,{size:"lg",onClick:()=>window.location.href="/login",className:"bg-red-600 hover:bg-red-700 text-white px-10 py-4 font-bold text-lg rounded-lg shadow-lg hover:shadow-xl transition-all",children:["Access Platform / Accder  la Plateforme",e.jsx(Xt,{className:"w-5 h-5 ml-3"})]}),e.jsxs(E,{size:"lg",variant:"outline",onClick:()=>window.location.href="/about",className:"border-2 border-red-600 text-red-600 hover:bg-red-50 px-10 py-4 font-semibold text-lg rounded-lg",children:["Learn More / En Savoir Plus",e.jsx(ce,{className:"w-5 h-5 ml-3"})]})]}),e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsx("div",{className:"bg-gradient-to-r from-red-50 to-white border border-red-200 rounded-2xl p-8 shadow-lg",children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-red-600 mb-3",children:"338"}),e.jsx("div",{className:"text-sm text-gray-700 font-bold uppercase tracking-wide",children:"Federal MPs"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Dputs fdraux"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-red-600 mb-3",children:"905"}),e.jsx("div",{className:"text-sm text-gray-700 font-bold uppercase tracking-wide",children:"Provincial MLAs"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Dputs provinciaux"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-red-600 mb-3",children:"3,600+"}),e.jsx("div",{className:"text-sm text-gray-700 font-bold uppercase tracking-wide",children:"Municipal Officials"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"lus municipaux"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-5xl font-bold text-red-600 mb-3",children:"24/7"}),e.jsx("div",{className:"text-sm text-gray-700 font-bold uppercase tracking-wide",children:"Real-time Updates"}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Mises  jour"})]})]})})})]})})]}),e.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-white",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Government Services and Information"}),e.jsx("h3",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Services Gouvernementaux et Information"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-4xl mx-auto",children:"Comprehensive access to Canadian government data, parliamentary proceedings, and democratic engagement tools across federal, provincial, and municipal levels."})]}),e.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(b,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs(P,{children:[e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Tt,{className:"w-6 h-6 text-white"})}),e.jsx(T,{className:"text-lg",children:"Parliament & Legislature"}),e.jsx(G,{className:"text-sm",children:"Parlement et Assembles Lgislatives"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Federal MPs and Senators"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Provincial MLAs"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Voting records & proceedings"]})]})})]}),e.jsxs(b,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs(P,{children:[e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center mb-4",children:e.jsx(ce,{className:"w-6 h-6 text-white"})}),e.jsx(T,{className:"text-lg",children:"Bills & Legislation"}),e.jsx(G,{className:"text-sm",children:"Projets de Loi et Lgislation"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Federal & provincial bills"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Legislative progress tracking"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Public consultation access"]})]})})]}),e.jsxs(b,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs(P,{children:[e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center mb-4",children:e.jsx(lt,{className:"w-6 h-6 text-white"})}),e.jsx(T,{className:"text-lg",children:"Legal Information"}),e.jsx(G,{className:"text-sm",children:"Information Juridique"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Canadian legal database"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Court decisions & rulings"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Constitutional resources"]})]})})]}),e.jsxs(b,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs(P,{children:[e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Be,{className:"w-6 h-6 text-white"})}),e.jsx(T,{className:"text-lg",children:"Elections & Voting"}),e.jsx(G,{className:"text-sm",children:"lections et Vote"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Election schedules & results"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Voter information"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Electoral district data"]})]})})]}),e.jsxs(b,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs(P,{children:[e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center mb-4",children:e.jsx(Ze,{className:"w-6 h-6 text-white"})}),e.jsx(T,{className:"text-lg",children:"Regional Services"}),e.jsx(G,{className:"text-sm",children:"Services Rgionaux"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Provincial government data"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Municipal information"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Local representative contacts"]})]})})]}),e.jsxs(b,{className:"border border-gray-200 hover:shadow-md transition-shadow",children:[e.jsxs(P,{children:[e.jsx("div",{className:"w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center mb-4",children:e.jsx(X,{className:"w-6 h-6 text-white"})}),e.jsx(T,{className:"text-lg",children:"Secure Access"}),e.jsx(G,{className:"text-sm",children:"Accs Scuris"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Government-grade security"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Privacy protection"]}),e.jsxs("li",{className:"flex items-center",children:[e.jsx(z,{className:"w-4 h-4 text-red-600 mr-2"}),"Verified identity system"]})]})})]})]})]})}),e.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-red-600",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"Access Your Government Information"}),e.jsx("h3",{className:"text-2xl font-semibold text-red-100 mb-6",children:"Accdez  Vos Informations Gouvernementales"}),e.jsx("p",{className:"text-lg text-red-100 mb-8",children:"Connect with your democracy through independent government accountability tracking, representative monitoring, and parliamentary oversight. All data sourced from public Canadian government sources for transparency."}),e.jsx("div",{className:"bg-red-800 bg-opacity-50 p-4 rounded-md mb-4",children:e.jsx("p",{className:"text-sm text-red-100 font-medium",children:" DISCLAIMER: CivicOS is an independent platform, NOT affiliated with the Government of Canada"})}),e.jsxs(E,{size:"lg",onClick:()=>window.location.href="/login",className:"bg-white text-red-600 hover:bg-red-50 px-8 py-3 text-lg font-semibold",children:["Access Platform / Accder  la Plateforme",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]})]})}),e.jsx("footer",{className:"bg-gray-100 border-t-4 border-red-600 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx(Yy,{size:"sm"}),e.jsx("span",{className:"font-bold text-lg text-gray-900",children:"CivicOS"})]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:["Independent Canadian Government Accountability Platform",e.jsx("br",{}),"Plateforme Indpendante de Responsabilit Gouvernementale Canadienne"]}),e.jsxs("p",{className:"text-yellow-600 text-xs font-medium mt-2",children:["* Not affiliated with the Government of Canada",e.jsx("br",{}),"* Non affili au gouvernement du Canada"]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-900",children:"Government Levels"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:"Federal Parliament"}),e.jsx("li",{children:"Provincial Legislatures"}),e.jsx("li",{children:"Municipal Councils"}),e.jsx("li",{children:"Electoral Information"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-900",children:"Resources"}),e.jsxs("ul",{className:"space-y-2 text-sm text-gray-600",children:[e.jsx("li",{children:e.jsx("a",{href:"/contact",className:"hover:text-red-600 transition-colors cursor-pointer",children:"Contact Information"})}),e.jsx("li",{children:e.jsx("a",{href:"/privacy",className:"hover:text-red-600 transition-colors cursor-pointer",children:"Privacy Policy"})}),e.jsx("li",{children:e.jsx("a",{href:"/terms",className:"hover:text-red-600 transition-colors cursor-pointer",children:"Terms of Service"})}),e.jsx("li",{children:e.jsx("a",{href:"/accessibility",className:"hover:text-red-600 transition-colors cursor-pointer",children:"Accessibility"})})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-4 text-gray-900",children:"Contact"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-2",children:[e.jsx("p",{children:"CivicOS Platform"}),e.jsx("p",{children:"Digital Government Services"}),e.jsx("p",{children:"Built by Jordan Kenneth Boisclair"}),e.jsx("p",{children:" 2025 All rights reserved"})]})]})]}),e.jsx(bs,{className:"my-8 bg-gray-300"}),e.jsxs("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx(Hl,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{children:"Government of Canada"})]}),e.jsx("span",{children:"|"}),e.jsxs("span",{className:"flex items-center space-x-2",children:[e.jsx(Hl,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{children:"Gouvernement du Canada"})]})]}),e.jsx("div",{className:"text-xs",children:" 2025 CivicOS. Built by Jordan Kenneth Boisclair. All rights reserved."})]})]})})]})}const pr="/assets/ChatGPT%20Image%20Jun%2020_%202025_%2006_03_54%20PM_1750464244456-C9zABz7P.png";function Zy(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:pr,alt:"CivicOS Heraldic Crest",className:"w-12 h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:"CivicOS"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Digital Democracy Platform"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(E,{onClick:()=>window.location.href="/",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Back to Home"}),e.jsxs(E,{onClick:()=>window.location.href="/login",className:"bg-red-600 text-white hover:bg-red-700 font-semibold px-8 py-3 rounded-lg",children:["Access Platform",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]})]})]})})}),e.jsxs("section",{className:"relative bg-white py-20 px-4 sm:px-6 lg:px-8 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-[0.015]",children:e.jsx("img",{src:pr,alt:"Background emblem",className:"w-[600px] h-[600px] object-contain"})}),e.jsxs("div",{className:"relative max-w-4xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center px-8 py-4 bg-red-600 border-2 border-red-700 text-white rounded-xl text-sm font-bold mb-10 shadow-lg",children:[e.jsx(X,{className:"w-6 h-6 mr-3"}),"INDEPENDENT GOVERNMENT ACCOUNTABILITY PLATFORM"]}),e.jsx("h1",{className:"text-5xl sm:text-6xl lg:text-7xl font-black text-gray-900 mb-8 tracking-tight leading-tight",children:"About CivicOS"}),e.jsx("p",{className:"text-2xl font-semibold text-gray-800 mb-12 leading-relaxed max-w-3xl mx-auto",children:"Canada's premier independent platform for government accountability and democratic transparency. Providing citizens with real-time access to political data and enabling informed civic engagement across all levels of Canadian government."}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-16",children:[e.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-4xl font-black text-red-600 mb-3",children:"85,000+"}),e.jsx("div",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Politicians Tracked"})]}),e.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-4xl font-black text-red-600 mb-3",children:"24/7"}),e.jsx("div",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Real-time Updates"})]}),e.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-4xl font-black text-red-600 mb-3",children:"100%"}),e.jsx("div",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Independent"})]}),e.jsxs("div",{className:"text-center bg-white/80 backdrop-blur-sm rounded-xl p-6 shadow-lg border border-gray-200",children:[e.jsx("div",{className:"text-4xl font-black text-red-600 mb-3",children:"3"}),e.jsx("div",{className:"text-sm font-bold text-gray-700 uppercase tracking-wide",children:"Government Levels"})]})]})]})]}),e.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gray-50",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:[e.jsxs(b,{className:"text-center shadow-xl border-2 border-gray-200",children:[e.jsxs(P,{children:[e.jsx(Hs,{className:"w-14 h-14 text-red-600 mx-auto mb-6"}),e.jsx(T,{className:"text-2xl font-black tracking-tight",children:"Our Mission"})]}),e.jsx(N,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed font-semibold",children:"To strengthen Canadian democracy by providing transparent, accessible, and authentic government data to all citizens, enabling informed civic participation and accountability."})})]}),e.jsxs(b,{className:"text-center shadow-xl border-2 border-gray-200",children:[e.jsxs(P,{children:[e.jsx(Ce,{className:"w-14 h-14 text-red-600 mx-auto mb-6"}),e.jsx(T,{className:"text-2xl font-black tracking-tight",children:"Our Vision"})]}),e.jsx(N,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed font-semibold",children:"A Canada where every citizen has immediate access to government information, where transparency is the norm, and where democratic engagement is enhanced through technology."})})]}),e.jsxs(b,{className:"text-center shadow-xl border-2 border-gray-200",children:[e.jsxs(P,{children:[e.jsx(Na,{className:"w-14 h-14 text-red-600 mx-auto mb-6"}),e.jsx(T,{className:"text-2xl font-black tracking-tight",children:"Our Values"})]}),e.jsx(N,{children:e.jsx("p",{className:"text-gray-700 leading-relaxed font-semibold",children:"Independence, transparency, authenticity, and accessibility. We believe in empowering citizens with factual information to make informed democratic choices."})})]})]})})}),e.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-6 tracking-tight",children:"Platform Features"}),e.jsx("p",{className:"text-xl font-semibold text-gray-700 max-w-3xl mx-auto",children:"Comprehensive tools for government accountability and democratic engagement"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(de,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx(T,{children:"Politicians Database"}),e.jsx(G,{children:"Complete profiles of 85,000+ Canadian politicians across federal, provincial, and municipal levels"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Contact information and office details"}),e.jsx("li",{children:" Voting records and legislative history"}),e.jsx("li",{children:" Trust scores and performance metrics"}),e.jsx("li",{children:" Public statements and positions"})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(ce,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx(T,{children:"Bills & Legislation"}),e.jsx(G,{children:"Real-time tracking of parliamentary bills, voting records, and legislative progress"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" AI-powered bill summaries"}),e.jsx("li",{children:" Voting breakdowns by party and MP"}),e.jsx("li",{children:" Legislative impact analysis"}),e.jsx("li",{children:" Bill status and timeline tracking"})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(Ee,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx(T,{children:"News Analysis"}),e.jsx(G,{children:"Comprehensive analysis of Canadian political news with bias detection and fact-checking"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Multi-source news aggregation"}),e.jsx("li",{children:" Bias and credibility ratings"}),e.jsx("li",{children:" Cross-reference verification"}),e.jsx("li",{children:" Trend analysis and insights"})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(Be,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx(T,{children:"Civic Engagement"}),e.jsx(G,{children:"Tools for democratic participation including petitions, voting, and community discussions"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Public petition platform"}),e.jsx("li",{children:" Civic voting and polls"}),e.jsx("li",{children:" Community forums"}),e.jsx("li",{children:" Direct representative contact"})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(Zr,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx(T,{children:"Legal Database"}),e.jsx(G,{children:"Complete Canadian legal framework including Criminal Code, court cases, and legal precedents"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Criminal Code sections"}),e.jsx("li",{children:" Supreme Court decisions"}),e.jsx("li",{children:" Legal precedent tracking"}),e.jsx("li",{children:" Searchable case database"})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(Ge,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx(T,{children:"Elections"}),e.jsx(G,{children:"Comprehensive election data, results, and upcoming electoral information"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:" Historical election results"}),e.jsx("li",{children:" Upcoming election schedules"}),e.jsx("li",{children:" Candidate information"}),e.jsx("li",{children:" Electoral district mapping"})]})})]})]})]})}),e.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-gray-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-6 tracking-tight",children:"Technology & Security"}),e.jsx("p",{className:"text-xl font-semibold text-gray-700 max-w-3xl mx-auto",children:"Built with cutting-edge technology and enterprise-grade security"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(Fv,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx(T,{children:"AI-Powered Analysis"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"text-gray-600 space-y-2",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"OpenAI GPT-4o for content analysis and summarization"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Anthropic Claude for legal document processing"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Truth scoring and propaganda detection algorithms"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Real-time content verification and cross-referencing"})]})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(Ot,{className:"w-8 h-8 text-red-600 mb-2"}),e.jsx(T,{children:"Security & Privacy"})]}),e.jsx(N,{children:e.jsxs("ul",{className:"text-gray-600 space-y-2",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Enterprise-grade encryption and data protection"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Multi-factor authentication and identity verification"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"PostgreSQL database with connection pooling"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:"Regular security audits and compliance monitoring"})]})]})})]})]})]})}),e.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-16",children:[e.jsx("h2",{className:"text-4xl font-black text-gray-900 mb-6 tracking-tight",children:"Authentic Data Sources"}),e.jsx("p",{className:"text-xl font-semibold text-gray-700 max-w-3xl mx-auto",children:"All data sourced directly from official Canadian government sources"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 text-center",children:[e.jsx(Lt,{className:"w-8 h-8 text-red-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Federal Sources"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"Parliament of Canada"}),e.jsx("li",{children:"Elections Canada"}),e.jsx("li",{children:"Statistics Canada"}),e.jsx("li",{children:"Government of Canada Open Data"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 text-center",children:[e.jsx(Lt,{className:"w-8 h-8 text-red-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Provincial Sources"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"All 10 Provincial Legislatures"}),e.jsx("li",{children:"3 Territorial Assemblies"}),e.jsx("li",{children:"Provincial Election Authorities"}),e.jsx("li",{children:"Open Government Portals"})]})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 text-center",children:[e.jsx(Lt,{className:"w-8 h-8 text-red-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Municipal Sources"}),e.jsxs("ul",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("li",{children:"Major City Councils"}),e.jsx("li",{children:"Municipal Election Data"}),e.jsx("li",{children:"Public Meeting Records"}),e.jsx("li",{children:"Municipal Open Data"})]})]})]})]})}),e.jsx("section",{className:"py-16 px-4 sm:px-6 lg:px-8 bg-yellow-50 border-t-4 border-yellow-400",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-yellow-100 border border-yellow-300 text-yellow-800 rounded-lg text-sm font-bold mb-6",children:[e.jsx(X,{className:"w-5 h-5 mr-3"}),"INDEPENDENCE STATEMENT"]}),e.jsx("h2",{className:"text-3xl font-black text-gray-900 mb-8 tracking-tight",children:"Complete Independence from Government"}),e.jsxs("div",{className:"prose prose-xl max-w-none text-gray-800",children:[e.jsxs("p",{className:"mb-6 font-semibold text-lg leading-relaxed",children:["CivicOS is a completely independent platform with ",e.jsx("strong",{className:"text-red-600",children:"no affiliation"})," to any level of Canadian government. We are not funded by, controlled by, or associated with any government entity, political party, or special interest group."]}),e.jsx("p",{className:"mb-6 font-semibold text-lg leading-relaxed",children:"Our independence ensures that we can provide unbiased, factual information about government activities without political influence or agenda. We maintain editorial independence and technical autonomy to serve the public interest."}),e.jsx("p",{className:"text-base font-bold text-yellow-800 bg-yellow-100 p-4 rounded-lg border border-yellow-300",children:"Built by Jordan Kenneth Boisclair  Independent Canadian Developer  Not affiliated with any government"})]})]})}),e.jsx("section",{className:"bg-red-600 text-white py-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("h2",{className:"text-4xl font-black mb-8 tracking-tight",children:"Join the Democratic Revolution"}),e.jsx("p",{className:"text-2xl font-semibold text-red-100 mb-12 leading-relaxed max-w-4xl mx-auto",children:"Become part of Canada's most comprehensive government accountability platform. Access real-time data, engage with democracy, and hold your representatives accountable."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsxs(E,{size:"lg",onClick:()=>window.location.href="/login",className:"bg-white text-red-600 hover:bg-red-50 px-10 py-4 text-lg font-bold rounded-lg shadow-lg",children:["Access Platform Now",e.jsx(Xt,{className:"w-5 h-5 ml-3"})]}),e.jsx(E,{size:"lg",onClick:()=>window.location.href="/",variant:"outline",className:"border-2 border-white text-white hover:bg-white hover:text-red-600 px-10 py-4 text-lg font-semibold rounded-lg",children:"Back to Home"})]})]})})]})}function eb(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:fr,alt:"CivicOS Heraldic Crest",className:"w-12 h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:"CivicOS"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Privacy Policy"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(E,{onClick:()=>window.location.href="/about",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Back to About"}),e.jsxs(E,{onClick:()=>window.location.href="/",className:"bg-red-600 text-white hover:bg-red-700 font-semibold px-6 py-3 rounded-lg",children:["Home",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-lg text-sm font-bold mb-6",children:[e.jsx(Ot,{className:"w-5 h-5 mr-3"}),"PRIVACY POLICY"]}),e.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4 tracking-tight",children:"Your Privacy Matters"}),e.jsx("p",{className:"text-xl font-semibold text-gray-700 max-w-3xl mx-auto",children:"Complete transparency about how we collect, use, and protect your personal information"}),e.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Effective: June 21, 2025"})]}),e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(X,{className:"w-4 h-4"}),e.jsx("span",{children:"Last Updated: June 21, 2025"})]})]})]}),e.jsxs(b,{className:"mb-8 border-2 border-blue-200 bg-blue-50",children:[e.jsx(P,{children:e.jsx(T,{className:"text-xl font-black text-blue-900",children:"Privacy Summary"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-blue-800 font-semibold",children:[e.jsx("li",{children:" We collect minimal personal information required for platform functionality"}),e.jsx("li",{children:" Your data is never sold, shared, or used for advertising purposes"}),e.jsx("li",{children:" All data is encrypted and stored securely in Canada"}),e.jsx("li",{children:" You have complete control over your data and can delete your account anytime"}),e.jsx("li",{children:" We comply with all Canadian privacy laws including PIPEDA"})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"1. Information We Collect"}),e.jsxs(b,{className:"mb-4",children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg font-bold flex items-center",children:[e.jsx(Zr,{className:"w-5 h-5 mr-2 text-red-600"}),"Account Information"]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Required:"})," Email address, chosen username, encrypted password"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Optional:"})," First name, last name, profile picture"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Verification:"})," Government ID (if choosing identity verification), encrypted and stored separately"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Authentication:"})," Multi-factor authentication tokens (encrypted)"]})]})})]}),e.jsxs(b,{className:"mb-4",children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg font-bold flex items-center",children:[e.jsx(Ce,{className:"w-5 h-5 mr-2 text-red-600"}),"Usage Information"]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Platform Activity:"})," Pages visited, features used, voting records, comments posted"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Technical Data:"})," IP address (anonymized after 30 days), browser type, device information"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Security Logs:"})," Login attempts, failed authentication, suspicious activity"]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Performance:"})," Page load times, error reports (no personal data included)"]})]})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"2. How We Use Your Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold text-green-700",children:"Permitted Uses"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsx("li",{children:" Provide platform services and features"}),e.jsx("li",{children:" Authenticate your identity and prevent fraud"}),e.jsx("li",{children:" Send important security and service updates"}),e.jsx("li",{children:" Improve platform performance and functionality"}),e.jsx("li",{children:" Comply with legal obligations"}),e.jsx("li",{children:" Provide customer support"})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold text-red-700",children:"Prohibited Uses"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsx("li",{children:" Selling your data to third parties"}),e.jsx("li",{children:" Advertising or marketing purposes"}),e.jsx("li",{children:" Political profiling or targeting"}),e.jsx("li",{children:" Sharing with government agencies (except legal requirements)"}),e.jsx("li",{children:" Creating user profiles for external use"}),e.jsx("li",{children:" Any commercial exploitation of your data"})]})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"3. Data Sharing and Disclosure"}),e.jsxs(b,{className:"border-2 border-red-200 bg-red-50 mb-4",children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold text-red-800",children:"Zero Third-Party Sharing Policy"})}),e.jsx(N,{children:e.jsx("p",{className:"text-red-800 font-semibold",children:"CivicOS does not share, sell, rent, or otherwise distribute your personal information to any third parties, except in the limited circumstances outlined below."})})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Legal Requirements"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-gray-700 font-medium",children:"We may disclose personal information only when legally required by:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-gray-700 font-medium ml-4",children:[e.jsx("li",{children:" Valid court orders or subpoenas"}),e.jsx("li",{children:" Law enforcement requests with proper legal authority"}),e.jsx("li",{children:" Emergency situations involving imminent threat to life or safety"}),e.jsx("li",{children:" Compliance with Canadian federal or provincial privacy laws"})]}),e.jsx("p",{className:"mt-3 text-sm font-semibold text-gray-600",children:"In all cases, we will challenge overbroad requests and notify users when legally permitted."})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Service Providers"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-gray-700 font-medium",children:"Limited technical service providers with strict data protection agreements:"}),e.jsxs("ul",{className:"mt-2 space-y-1 text-gray-700 font-medium ml-4",children:[e.jsx("li",{children:" Database hosting (Neon - encrypted storage in Canada)"}),e.jsx("li",{children:" Authentication services (encrypted tokens only)"}),e.jsx("li",{children:" Security monitoring (anonymized logs only)"})]}),e.jsx("p",{className:"mt-3 text-sm font-semibold text-gray-600",children:"All service providers are contractually bound to Canadian privacy standards."})]})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"4. Data Security"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Technical Safeguards"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsx("li",{children:" AES-256 encryption for all data at rest"}),e.jsx("li",{children:" TLS 1.3 encryption for all data in transit"}),e.jsx("li",{children:" Encrypted database connections with certificate pinning"}),e.jsx("li",{children:" Multi-factor authentication requirements"}),e.jsx("li",{children:" Regular security audits and penetration testing"}),e.jsx("li",{children:" Automated threat detection and monitoring"})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Operational Safeguards"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsx("li",{children:" Access controls with role-based permissions"}),e.jsx("li",{children:" Employee background checks and NDAs"}),e.jsx("li",{children:" Regular security training and awareness"}),e.jsx("li",{children:" Incident response and breach notification procedures"}),e.jsx("li",{children:" Data backup and disaster recovery plans"}),e.jsx("li",{children:" Physical security at data centers"})]})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"5. Your Rights and Controls"}),e.jsxs(b,{className:"border-2 border-green-200 bg-green-50 mb-4",children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold text-green-800",children:"Complete Data Control"})}),e.jsx(N,{children:e.jsx("p",{className:"text-green-800 font-semibold",children:"You have complete control over your personal information. We provide easy-to-use tools for accessing, modifying, and deleting your data at any time."})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Data Access Rights"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsx("li",{children:" View all personal data we have collected"}),e.jsx("li",{children:" Download your data in portable formats"}),e.jsx("li",{children:" See how your data is being used"}),e.jsx("li",{children:" Review your account activity and history"}),e.jsx("li",{children:" Access data processing logs"})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Data Control Rights"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsx("li",{children:" Update or correct your information"}),e.jsx("li",{children:" Delete specific data or your entire account"}),e.jsx("li",{children:" Control notification preferences"}),e.jsx("li",{children:" Manage privacy settings"}),e.jsx("li",{children:" Revoke consent for optional data collection"})]})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"6. Data Retention"}),e.jsx(b,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Active Accounts"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Personal data retained while account is active and for legitimate business purposes."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Closed Accounts"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"All personal data deleted within 30 days of account closure, except as required by law."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Anonymous Data"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Aggregated, anonymized usage statistics may be retained indefinitely for platform improvement."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Legal Obligations"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Some data may be retained longer when required by Canadian law or valid legal process."})]})]})})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"7. Children's Privacy"}),e.jsx(b,{className:"border-2 border-orange-200 bg-orange-50",children:e.jsxs(N,{className:"pt-6",children:[e.jsx("p",{className:"text-orange-800 font-semibold mb-4",children:"CivicOS is not intended for children under 13 years of age. We do not knowingly collect personal information from children under 13."}),e.jsx("p",{className:"text-orange-800 font-medium",children:"If we become aware that we have collected personal information from a child under 13, we will take immediate steps to delete that information. Parents or guardians who believe their child has provided personal information should contact us immediately."})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"8. International Data Transfers"}),e.jsx(b,{className:"border-2 border-blue-200 bg-blue-50",children:e.jsxs(N,{className:"pt-6",children:[e.jsx("p",{className:"text-blue-800 font-semibold mb-4",children:"Your personal information is stored and processed exclusively in Canada. We do not transfer personal data outside of Canada except in very limited circumstances."}),e.jsxs("div",{className:"space-y-2 text-blue-800 font-medium",children:[e.jsx("p",{children:e.jsx("strong",{children:"Permitted transfers:"})}),e.jsxs("ul",{className:"ml-4 space-y-1",children:[e.jsx("li",{children:" When required by Canadian law enforcement cooperation"}),e.jsx("li",{children:" For essential technical support (with encryption and strict controls)"}),e.jsx("li",{children:" With your explicit consent for specific purposes"})]})]})]})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"9. Privacy Contact Information"}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg font-bold flex items-center",children:[e.jsx(Nt,{className:"w-5 h-5 mr-2 text-red-600"}),"Privacy Officer"]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3 text-gray-700 font-medium",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Jordan Kenneth Boisclair"}),e.jsx("br",{}),"Privacy Officer & Platform Creator"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," privacy@civicos.ca"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Address:"})," CivicOS Privacy Office",e.jsx("br",{}),"Toronto, Ontario, Canada"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Response Time:"})," We respond to privacy inquiries within 5 business days"]})]})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"10. Changes to This Privacy Policy"}),e.jsx(b,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4 text-gray-700 font-medium",children:[e.jsx("p",{children:"We may update this Privacy Policy from time to time to reflect changes in our practices, technology, legal requirements, or other factors."}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Notification Process:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:" Email notification to all users for material changes"}),e.jsx("li",{children:" Platform notification banner for 30 days"}),e.jsx("li",{children:' Updated "Last Modified" date at the top of this policy'})]})]}),e.jsx("p",{children:"Continued use of CivicOS after changes become effective constitutes acceptance of the updated Privacy Policy."})]})})})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-8 border-t border-gray-200",children:[e.jsx(E,{onClick:()=>window.location.href="/terms",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Terms of Service"}),e.jsx(E,{onClick:()=>window.location.href="/contact",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Contact Us"}),e.jsx(E,{onClick:()=>window.location.href="/accessibility",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Accessibility"})]})]})]})}function tb(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:pr,alt:"CivicOS Heraldic Crest",className:"w-12 h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:"CivicOS"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Terms of Service"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(E,{onClick:()=>window.location.href="/about",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Back to About"}),e.jsxs(E,{onClick:()=>window.location.href="/",className:"bg-red-600 text-white hover:bg-red-700 font-semibold px-6 py-3 rounded-lg",children:["Home",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-lg text-sm font-bold mb-6",children:[e.jsx(lt,{className:"w-5 h-5 mr-3"}),"TERMS OF SERVICE"]}),e.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4 tracking-tight",children:"Platform Terms & Conditions"}),e.jsx("p",{className:"text-xl font-semibold text-gray-700 max-w-3xl mx-auto",children:"Legal agreement governing your use of the CivicOS platform and services"}),e.jsxs("div",{className:"mt-6 flex items-center justify-center space-x-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Effective: June 21, 2025"})]}),e.jsx("span",{children:""}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(zs,{className:"w-4 h-4"}),e.jsx("span",{children:"Governed by Canadian Law"})]})]})]}),e.jsxs(b,{className:"mb-8 border-2 border-red-200 bg-red-50",children:[e.jsx(P,{children:e.jsx(T,{className:"text-xl font-black text-red-900",children:"Agreement to Terms"})}),e.jsx(N,{children:e.jsx("p",{className:"text-red-800 font-semibold",children:"By accessing or using CivicOS, you agree to be bound by these Terms of Service and all applicable laws and regulations. If you do not agree with any of these terms, you are prohibited from using or accessing this site and must discontinue use immediately."})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"1. Platform Overview and Purpose"}),e.jsx(b,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4 text-gray-700 font-medium",children:[e.jsx("p",{children:"CivicOS is an independent digital platform designed to enhance democratic engagement and government accountability in Canada. The platform provides:"}),e.jsxs("ul",{className:"space-y-2 ml-6",children:[e.jsx("li",{children:" Access to verified government data and political information"}),e.jsx("li",{children:" Tools for civic engagement including voting, petitions, and discussions"}),e.jsx("li",{children:" Real-time tracking of political activities and legislation"}),e.jsx("li",{children:" Educational resources about Canadian democracy and governance"}),e.jsx("li",{children:" Secure communication channels for democratic participation"})]}),e.jsx("p",{className:"font-semibold text-gray-800",children:"CivicOS is completely independent and not affiliated with any government entity, political party, or special interest group."})]})})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"2. User Eligibility and Registration"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold text-green-700",children:"Eligible Users"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsx("li",{children:" Individuals 13 years of age or older"}),e.jsx("li",{children:" Canadian citizens and permanent residents"}),e.jsx("li",{children:" International users (limited features)"}),e.jsx("li",{children:" Academic researchers and journalists"}),e.jsx("li",{children:" Government transparency advocates"})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold text-red-700",children:"Account Requirements"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsx("li",{children:" Accurate registration information"}),e.jsx("li",{children:" Unique email address"}),e.jsx("li",{children:" Strong password meeting security requirements"}),e.jsx("li",{children:" Agreement to these Terms of Service"}),e.jsx("li",{children:" Compliance with acceptable use policies"})]})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"3. Acceptable Use Policy"}),e.jsxs(b,{className:"mb-4 border-2 border-green-200 bg-green-50",children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold text-green-800",children:"Permitted Activities"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-green-800 font-semibold",children:[e.jsx("li",{children:" Accessing government data and political information"}),e.jsx("li",{children:" Participating in civic discussions and debates"}),e.jsx("li",{children:" Creating and signing petitions for legitimate causes"}),e.jsx("li",{children:" Voting on platform polls and civic questions"}),e.jsx("li",{children:" Sharing factual information and news articles"}),e.jsx("li",{children:" Contacting elected representatives"}),e.jsx("li",{children:" Educational and research activities"})]})})]}),e.jsxs(b,{className:"border-2 border-red-200 bg-red-50",children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold text-red-800",children:"Prohibited Activities"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-red-900 mb-2",children:"Content Violations:"}),e.jsxs("ul",{className:"space-y-1 text-red-800 font-medium ml-4",children:[e.jsx("li",{children:" Posting false, misleading, or deliberately deceptive information"}),e.jsx("li",{children:" Sharing hate speech, harassment, or discriminatory content"}),e.jsx("li",{children:" Publishing defamatory or libelous statements"}),e.jsx("li",{children:" Distributing spam, malware, or malicious links"}),e.jsx("li",{children:" Violating copyright or intellectual property rights"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-red-900 mb-2",children:"Platform Abuse:"}),e.jsxs("ul",{className:"space-y-1 text-red-800 font-medium ml-4",children:[e.jsx("li",{children:" Creating multiple accounts to manipulate voting or discussions"}),e.jsx("li",{children:" Attempting to hack, breach, or compromise platform security"}),e.jsx("li",{children:" Using automated tools or bots without permission"}),e.jsx("li",{children:" Impersonating other users, politicians, or officials"}),e.jsx("li",{children:" Selling or transferring account access"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-red-900 mb-2",children:"Legal Violations:"}),e.jsxs("ul",{className:"space-y-1 text-red-800 font-medium ml-4",children:[e.jsx("li",{children:" Any illegal activity under Canadian federal or provincial law"}),e.jsx("li",{children:" Threats of violence or harm against individuals or groups"}),e.jsx("li",{children:" Privacy violations or unauthorized data collection"}),e.jsx("li",{children:" Election interference or voter manipulation"}),e.jsx("li",{children:" Fraud, scams, or financial crimes"})]})]})]})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"4. Content and Intellectual Property"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"User-Generated Content"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3 text-gray-700 font-medium",children:[e.jsx("p",{children:"You retain ownership of content you create and post on CivicOS, but grant us necessary rights to operate the platform:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:" Right to display your content to other users"}),e.jsx("li",{children:" Right to moderate and remove content violating our policies"}),e.jsx("li",{children:" Right to create anonymized aggregated statistics"}),e.jsx("li",{children:" Right to preserve content for legal compliance"})]}),e.jsx("p",{className:"font-semibold text-gray-800",children:"We do not claim ownership of your content and will not use it for commercial purposes."})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Platform Content"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3 text-gray-700 font-medium",children:[e.jsx("p",{children:"CivicOS platform design, software, databases, and original content are protected by:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:" Copyright laws"}),e.jsx("li",{children:" Trademark protections"}),e.jsx("li",{children:" Trade secret laws"}),e.jsx("li",{children:" Database rights"})]}),e.jsx("p",{children:"Government data accessed through CivicOS remains in the public domain. Our analysis and presentation of this data is proprietary."})]})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"5. Privacy and Data Protection"}),e.jsx(b,{className:"border-2 border-blue-200 bg-blue-50",children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4 text-blue-800 font-medium",children:[e.jsx("p",{className:"font-semibold",children:"Your privacy is fundamental to our mission. We are committed to protecting your personal information and maintaining transparency about our data practices."}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Key Privacy Commitments:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:" No sale or commercial use of personal data"}),e.jsx("li",{children:" Minimal data collection for platform functionality"}),e.jsx("li",{children:" Strong encryption and security measures"}),e.jsx("li",{children:" User control over personal information"}),e.jsx("li",{children:" Compliance with Canadian privacy laws (PIPEDA)"})]})]}),e.jsxs("p",{children:["For complete details, see our ",e.jsx("a",{href:"/privacy",className:"underline font-bold",children:"Privacy Policy"}),", which is incorporated into these Terms by reference."]})]})})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"6. Platform Availability and Modifications"}),e.jsx(b,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4 text-gray-700 font-medium",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Service Availability:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:" We strive for 99.9% uptime but cannot guarantee uninterrupted service"}),e.jsx("li",{children:" Planned maintenance will be announced in advance when possible"}),e.jsx("li",{children:" Emergency maintenance may occur without notice"}),e.jsx("li",{children:" Some features may be temporarily unavailable during updates"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Platform Modifications:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:" We may modify, update, or discontinue features at any time"}),e.jsx("li",{children:" Major changes will be communicated to users in advance"}),e.jsx("li",{children:" New features may be added without notice"}),e.jsx("li",{children:" We reserve the right to change these Terms as needed"})]})]})]})})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"7. Disclaimers and Limitations of Liability"}),e.jsxs(b,{className:"border-2 border-yellow-200 bg-yellow-50",children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg font-bold text-yellow-800 flex items-center",children:[e.jsx(ae,{className:"w-5 h-5 mr-2"}),"Important Legal Disclaimers"]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4 text-yellow-900 font-medium",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Information Accuracy:"}),e.jsx("p",{children:'While we strive for accuracy, CivicOS provides information "as is" without warranties. Government data may contain errors, and political information can change rapidly. Users should verify important information through official sources.'})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Platform Availability:"}),e.jsx("p",{children:'CivicOS is provided "as available" without guarantees of continuous operation. We are not liable for service interruptions, data loss, or technical difficulties.'})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Third-Party Content:"}),e.jsx("p",{children:"Links to external websites and third-party content are provided for convenience. We do not endorse or take responsibility for external content or services."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Limitation of Liability:"}),e.jsx("p",{children:"To the maximum extent permitted by law, CivicOS and its operators shall not be liable for any indirect, incidental, special, or consequential damages resulting from platform use, including but not limited to loss of data, profits, or reputation."})]})]})})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"8. Account Termination"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"User-Initiated Termination"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3 text-gray-700 font-medium",children:[e.jsx("p",{children:"You may terminate your account at any time by:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:" Using the account deletion feature in settings"}),e.jsx("li",{children:" Contacting our support team"}),e.jsx("li",{children:" Sending a written request"})]}),e.jsx("p",{className:"text-sm font-semibold",children:"Account deletion is permanent and cannot be reversed. Some information may be retained as required by law."})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Platform-Initiated Termination"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3 text-gray-700 font-medium",children:[e.jsx("p",{children:"We may suspend or terminate accounts for:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:" Violation of these Terms of Service"}),e.jsx("li",{children:" Illegal activities or content"}),e.jsx("li",{children:" Repeated policy violations"}),e.jsx("li",{children:" Security threats or abuse"}),e.jsx("li",{children:" Non-compliance with legal requests"})]}),e.jsx("p",{className:"text-sm font-semibold",children:"We will provide notice and opportunity to cure violations when possible, except for serious violations requiring immediate action."})]})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"9. Governing Law and Dispute Resolution"}),e.jsx(b,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4 text-gray-700 font-medium",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Jurisdiction:"}),e.jsx("p",{children:"These Terms are governed by the laws of Canada and the Province of Ontario. Any legal disputes shall be resolved in the courts of Ontario, Canada."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Dispute Resolution Process:"}),e.jsxs("ol",{className:"space-y-1 ml-4",children:[e.jsx("li",{children:"1. Direct communication with CivicOS support team"}),e.jsx("li",{children:"2. Good faith negotiation between parties"}),e.jsx("li",{children:"3. Mediation through Canadian dispute resolution services"}),e.jsx("li",{children:"4. Binding arbitration if mutually agreed"}),e.jsx("li",{children:"5. Court proceedings as a last resort"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Class Action Waiver:"}),e.jsx("p",{children:"Disputes must be resolved individually. Class action lawsuits are waived to the extent permitted by Canadian law."})]})]})})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-4",children:"10. Contact Information"}),e.jsx(b,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4 text-gray-700 font-medium",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Legal Inquiries:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Jordan Kenneth Boisclair"}),e.jsx("br",{}),"Legal & Compliance Officer",e.jsx("br",{}),e.jsx("strong",{children:"Email:"})," legal@civicos.ca",e.jsx("br",{}),e.jsx("strong",{children:"Address:"})," CivicOS Legal Department",e.jsx("br",{}),"Toronto, Ontario, Canada"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-gray-900 mb-2",children:"Terms Updates:"}),e.jsx("p",{children:"Material changes to these Terms will be communicated via email and platform notifications at least 30 days before taking effect."})]})]})})})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-8 border-t border-gray-200",children:[e.jsx(E,{onClick:()=>window.location.href="/privacy",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Privacy Policy"}),e.jsx(E,{onClick:()=>window.location.href="/contact",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Contact Us"}),e.jsx(E,{onClick:()=>window.location.href="/accessibility",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Accessibility"})]})]})]})}const Gs=x.forwardRef(({className:s,...t},a)=>e.jsx("textarea",{className:W("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:a,...t}));Gs.displayName="Textarea";function sb(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:pr,alt:"CivicOS Heraldic Crest",className:"w-12 h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:"CivicOS"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Contact Information"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(E,{onClick:()=>window.location.href="/about",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Back to About"}),e.jsxs(E,{onClick:()=>window.location.href="/",className:"bg-red-600 text-white hover:bg-red-700 font-semibold px-6 py-3 rounded-lg",children:["Home",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})]})]})})}),e.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-red-600 text-white rounded-lg text-sm font-bold mb-6",children:[e.jsx(ur,{className:"w-5 h-5 mr-3"}),"CONTACT INFORMATION"]}),e.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4 tracking-tight",children:"Get in Touch"}),e.jsx("p",{className:"text-lg font-semibold text-slate-800 dark:text-slate-100 mb-2",children:"We're here to help with questions, support, and feedback about the CivicOS platform"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsxs("div",{className:"space-y-8",children:[e.jsxs(b,{className:"border-2 border-red-200 bg-red-50",children:[e.jsx(P,{children:e.jsx(T,{className:"text-2xl font-black text-red-900",children:"Contact Details"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Nt,{className:"w-6 h-6 text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"General Inquiries"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"contact@civicos.ca"}),e.jsx("p",{className:"text-sm text-gray-600",children:"For general questions and platform support"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Nt,{className:"w-6 h-6 text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Privacy & Legal"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"privacy@civicos.ca"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Privacy concerns and legal inquiries"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Nt,{className:"w-6 h-6 text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Media & Press"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"media@civicos.ca"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Press inquiries and media relations"})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Ze,{className:"w-6 h-6 text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Mailing Address"}),e.jsxs("p",{className:"text-gray-700 font-medium",children:["CivicOS Platform",e.jsx("br",{}),"Toronto, Ontario",e.jsx("br",{}),"Canada"]})]})]}),e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(tt,{className:"w-6 h-6 text-red-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-1",children:"Response Time"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Within 24-48 hours"}),e.jsx("p",{className:"text-sm text-gray-600",children:"We respond to all inquiries promptly"})]})]})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-xl font-black text-gray-900",children:"Platform Creator"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-bold text-gray-900",children:"Jordan Kenneth Boisclair"}),e.jsx("p",{className:"text-gray-700 font-medium",children:"Founder & Lead Developer of CivicOS"}),e.jsx("p",{className:"text-gray-600 text-sm",children:"Independent Canadian developer committed to government transparency and democratic accountability. Not affiliated with any political party or government entity."})]})})]})]}),e.jsx("div",{children:e.jsxs(b,{className:"border-2 border-gray-200 shadow-xl",children:[e.jsx(P,{children:e.jsx(T,{className:"text-2xl font-black text-gray-900",children:"Send Us a Message"})}),e.jsx(N,{children:e.jsxs("form",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"firstName",className:"text-sm font-bold text-gray-700",children:"First Name *"}),e.jsx(te,{id:"firstName",required:!0,className:"mt-1 border-gray-300 focus:border-red-500 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"lastName",className:"text-sm font-bold text-gray-700",children:"Last Name *"}),e.jsx(te,{id:"lastName",required:!0,className:"mt-1 border-gray-300 focus:border-red-500 focus:ring-red-500"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"email",className:"text-sm font-bold text-gray-700",children:"Email Address *"}),e.jsx(te,{id:"email",type:"email",required:!0,className:"mt-1 border-gray-300 focus:border-red-500 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"subject",className:"text-sm font-bold text-gray-700",children:"Subject *"}),e.jsx(te,{id:"subject",required:!0,className:"mt-1 border-gray-300 focus:border-red-500 focus:ring-red-500"})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"category",className:"text-sm font-bold text-gray-700",children:"Category"}),e.jsxs("select",{id:"category",className:"mt-1 w-full px-3 py-2 border border-gray-300 rounded-md focus:border-red-500 focus:ring-red-500",children:[e.jsx("option",{value:"",children:"Select a category"}),e.jsx("option",{value:"general",children:"General Inquiry"}),e.jsx("option",{value:"technical",children:"Technical Support"}),e.jsx("option",{value:"privacy",children:"Privacy & Security"}),e.jsx("option",{value:"legal",children:"Legal Question"}),e.jsx("option",{value:"media",children:"Media Inquiry"}),e.jsx("option",{value:"feedback",children:"Platform Feedback"}),e.jsx("option",{value:"bug",children:"Bug Report"})]})]}),e.jsxs("div",{children:[e.jsx(Re,{htmlFor:"message",className:"text-sm font-bold text-gray-700",children:"Message *"}),e.jsx(Gs,{id:"message",required:!0,rows:6,className:"mt-1 border-gray-300 focus:border-red-500 focus:ring-red-500",placeholder:"Please provide as much detail as possible..."})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[e.jsx("strong",{children:"Note:"})," This contact form is for general inquiries only. For urgent security issues or privacy concerns, please email us directly at the appropriate address listed above."]})}),e.jsxs(E,{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 text-lg",children:["Send Message",e.jsx(Xt,{className:"w-5 h-5 ml-2"})]})]})})]})})]}),e.jsx("div",{className:"mt-16",children:e.jsxs(b,{className:"border-2 border-yellow-200 bg-yellow-50",children:[e.jsx(P,{children:e.jsx(T,{className:"text-xl font-black text-yellow-900",children:"Important Information"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4 text-yellow-800 font-medium",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Privacy & Confidentiality:"}),e.jsx("p",{children:"All communications are treated as confidential and are protected under Canadian privacy laws. We do not share contact information with third parties."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Platform Independence:"}),e.jsx("p",{children:"CivicOS is completely independent from all levels of Canadian government. We are not a government service and cannot provide official government information or services."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Emergency Situations:"}),e.jsx("p",{children:"For emergencies, contact your local emergency services (911). CivicOS is not an emergency service and cannot provide immediate assistance."})]})]})})]})}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-8 border-t border-gray-200 mt-12",children:[e.jsx(E,{onClick:()=>window.location.href="/privacy",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Privacy Policy"}),e.jsx(E,{onClick:()=>window.location.href="/terms",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Terms of Service"}),e.jsx(E,{onClick:()=>window.location.href="/accessibility",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Accessibility"})]})]})]})}function ab(){return e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center py-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("img",{src:pr,alt:"CivicOS Heraldic Crest",className:"w-12 h-12 object-contain"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 tracking-tight",children:"CivicOS"}),e.jsx("p",{className:"text-sm text-gray-600 font-medium",children:"Accessibility Statement"})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(E,{onClick:()=>window.location.href="/about",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Back to About"}),e.jsxs(E,{onClick:()=>window.location.href="/",className:"bg-red-600 text-white hover:bg-red-700 font-semibold px-6 py-3 rounded-lg",children:["Home",e.jsx(Xt,{className:"w-4 h-4 ml-2"})]})]})]})})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsxs("div",{className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-lg text-sm font-bold mb-6",children:[e.jsx(Ce,{className:"w-5 h-5 mr-3"}),"ACCESSIBILITY STATEMENT"]}),e.jsx("h1",{className:"text-4xl font-black text-gray-900 mb-4 tracking-tight",children:"Accessible Democracy for All"}),e.jsx("p",{className:"text-xl font-semibold text-gray-700 max-w-3xl mx-auto",children:"CivicOS is committed to ensuring digital accessibility for all Canadians, regardless of ability or technology used"})]}),e.jsxs(b,{className:"mb-8 border-2 border-green-200 bg-green-50",children:[e.jsx(P,{children:e.jsx(T,{className:"text-xl font-black text-green-900",children:"Our Accessibility Commitment"})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-green-800 font-semibold mb-4",children:"CivicOS believes that democratic participation should be accessible to all Canadians. We are committed to providing a platform that meets or exceeds accessibility standards and works with assistive technologies."}),e.jsxs("ul",{className:"space-y-2 text-green-800 font-medium",children:[e.jsx("li",{children:" Compliant with WCAG 2.1 AA standards"}),e.jsx("li",{children:" Compatible with screen readers and assistive technologies"}),e.jsx("li",{children:" Keyboard navigation support throughout the platform"}),e.jsx("li",{children:" High contrast and customizable display options"}),e.jsx("li",{children:" Alternative formats for multimedia content"})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-6",children:"Accessibility Features"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg font-bold flex items-center",children:[e.jsx(Ce,{className:"w-6 h-6 mr-3 text-blue-600"}),"Visual Accessibility"]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"High contrast color schemes"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Scalable fonts and adjustable text sizes"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Screen reader compatible markup"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Alternative text for all images"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Focus indicators for all interactive elements"})]})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg font-bold flex items-center",children:[e.jsx(rd,{className:"w-6 h-6 mr-3 text-blue-600"}),"Navigation & Input"]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Full keyboard navigation support"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Skip links for main content areas"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Logical tab order throughout pages"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Voice control compatibility"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Touch-friendly interface for mobile devices"})]})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg font-bold flex items-center",children:[e.jsx(tj,{className:"w-6 h-6 mr-3 text-blue-600"}),"Audio & Multimedia"]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Captions for all video content"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Audio descriptions when applicable"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Transcripts for audio content"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"No auto-playing audio"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Volume controls for all audio elements"})]})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg font-bold flex items-center",children:[e.jsx(Cn,{className:"w-6 h-6 mr-3 text-blue-600"}),"Customization Options"]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-gray-700 font-medium",children:[e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Dark mode and light mode options"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Adjustable animation preferences"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Customizable notification settings"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Simplified layout options"})]}),e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx(z,{className:"w-4 h-4 text-green-600 mt-1 flex-shrink-0"}),e.jsx("span",{children:"Language preferences"})]})]})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-6",children:"Assistive Technology Support"}),e.jsx(b,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(zv,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Screen Readers"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"NVDA"}),e.jsx("li",{children:"JAWS"}),e.jsx("li",{children:"VoiceOver (macOS/iOS)"}),e.jsx("li",{children:"TalkBack (Android)"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(rd,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Input Methods"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"Switch controls"}),e.jsx("li",{children:"Eye tracking"}),e.jsx("li",{children:"Voice recognition"}),e.jsx("li",{children:"Alternative keyboards"})]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx(Mm,{className:"w-8 h-8 text-blue-600 mx-auto mb-3"}),e.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:"Mobile Accessibility"}),e.jsxs("ul",{className:"text-sm text-gray-700 space-y-1",children:[e.jsx("li",{children:"Voice Control (iOS)"}),e.jsx("li",{children:"Android Accessibility Suite"}),e.jsx("li",{children:"Large touch targets"}),e.jsx("li",{children:"Gesture alternatives"})]})]})]})})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-6",children:"Standards & Compliance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"International Standards"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-3 text-gray-700 font-medium",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"WCAG 2.1 Level AA:"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm",children:"Web Content Accessibility Guidelines compliance"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Section 508:"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm",children:"US federal accessibility requirements"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"EN 301 549:"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm",children:"European accessibility standard"})]})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg font-bold",children:"Canadian Requirements"})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-3 text-gray-700 font-medium",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Accessible Canada Act:"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm",children:"Federal accessibility legislation compliance"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Provincial Standards:"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm",children:"Meeting accessibility requirements across provinces"})]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Charter Rights:"}),e.jsx("br",{}),e.jsx("span",{className:"text-sm",children:"Supporting equality and inclusion principles"})]})]})})]})]})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-6",children:"Accessibility Feedback & Support"}),e.jsx(b,{className:"border-2 border-blue-200 bg-blue-50",children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4 text-blue-800 font-medium",children:[e.jsx("p",{className:"font-semibold",children:"We welcome feedback about the accessibility of CivicOS. If you encounter accessibility barriers or have suggestions for improvement, please contact us."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Accessibility Support:"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," accessibility@civicos.ca"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Response Time:"})," Within 24 hours"]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold mb-2",children:"Alternative Formats:"}),e.jsx("p",{children:"We can provide information in alternative formats including:"}),e.jsxs("ul",{className:"text-sm ml-4 mt-1 space-y-1",children:[e.jsx("li",{children:" Large print"}),e.jsx("li",{children:" Audio format"}),e.jsx("li",{children:" Braille (upon request)"}),e.jsx("li",{children:" Plain language summaries"})]})]})]})]})})})]}),e.jsxs("section",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-black text-gray-900 mb-6",children:"Continuous Improvement"}),e.jsx(b,{children:e.jsx(N,{className:"pt-6",children:e.jsxs("div",{className:"space-y-4 text-gray-700 font-medium",children:[e.jsx("p",{children:"Accessibility is an ongoing commitment. We continuously work to improve the accessibility of CivicOS through:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:" Regular accessibility audits and testing"}),e.jsx("li",{children:" User feedback integration"}),e.jsx("li",{children:" Staff training on accessibility best practices"}),e.jsx("li",{children:" Technology updates and improvements"})]}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:" Community engagement and consultation"}),e.jsx("li",{children:" Collaboration with disability organizations"}),e.jsx("li",{children:" Monitoring of new accessibility standards"}),e.jsx("li",{children:" Regular review and updates of policies"})]})]})]})})})]}),e.jsxs("div",{className:"flex justify-center space-x-4 pt-8 border-t border-gray-200",children:[e.jsx(E,{onClick:()=>window.location.href="/privacy",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Privacy Policy"}),e.jsx(E,{onClick:()=>window.location.href="/terms",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Terms of Service"}),e.jsx(E,{onClick:()=>window.location.href="/contact",variant:"outline",className:"border-red-600 text-red-600 hover:bg-red-50",children:"Contact Us"})]})]})]})}const Ie=zg,Se=x.forwardRef(({className:s,...t},a)=>e.jsx(Cu,{ref:a,className:W("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...t}));Se.displayName=Cu.displayName;const V=x.forwardRef(({className:s,...t},a)=>e.jsx(Su,{ref:a,className:W("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...t}));V.displayName=Su.displayName;const $=x.forwardRef(({className:s,...t},a)=>e.jsx(ku,{ref:a,className:W("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...t}));$.displayName=ku.displayName;function Cx(){const{data:s,isLoading:t}=Q({queryKey:["/api/identity/status"],retry:!1});return{isVerified:(s==null?void 0:s.isVerified)||!1,verificationLevel:(s==null?void 0:s.verificationLevel)||"none",verifiedAt:s==null?void 0:s.verifiedAt,permissions:(s==null?void 0:s.permissions)||{canVote:!1,canComment:!1,canCreatePetitions:!1,canAccessFOI:!1},isLoading:t}}const rb=Nr("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ze=x.forwardRef(({className:s,variant:t,...a},r)=>e.jsx("div",{ref:r,role:"alert",className:W(rb({variant:t}),s),...a}));ze.displayName="Alert";const ib=x.forwardRef(({className:s,...t},a)=>e.jsx("h5",{ref:a,className:W("mb-1 font-medium leading-none tracking-tight",s),...t}));ib.displayName="AlertTitle";const He=x.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:W("text-sm [&_p]:leading-relaxed",s),...t}));He.displayName="AlertDescription";function nb(){const{isVerified:s,isLoading:t}=Cx(),[,a]=mi();return t||s?null:e.jsxs(ze,{className:"mb-4 md:mb-6 border-yellow-500 bg-yellow-50",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsxs(He,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"text-sm",children:[e.jsx("strong",{children:"Identity Verification Required:"})," Complete government-grade verification to unlock voting, petitions, and civic features."]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>a("/identity-verification"),className:"sm:ml-4 text-xs sm:text-sm px-2 sm:px-3 py-1 sm:py-2",children:[e.jsx(X,{className:"w-3 h-3 sm:w-4 sm:h-4 mr-1 sm:mr-2"}),"Verify Now"]})]})]})}function lb(){return Eu.useSyncExternalStore(ob,()=>!0,()=>!1)}function ob(){return()=>{}}var Wo="Avatar",[cb,DP]=Ys(Wo),[db,Sx]=cb(Wo),kx=x.forwardRef((s,t)=>{const{__scopeAvatar:a,...r}=s,[i,n]=x.useState("idle");return e.jsx(db,{scope:a,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:e.jsx(he.span,{...r,ref:t})})});kx.displayName=Wo;var Px="AvatarImage",Tx=x.forwardRef((s,t)=>{const{__scopeAvatar:a,src:r,onLoadingStatusChange:i=()=>{},...n}=s,l=Sx(Px,a),c=hb(r,n),o=Ct(d=>{i(d),l.onImageLoadingStatusChange(d)});return Pt(()=>{c!=="idle"&&o(c)},[c,o]),c==="loaded"?e.jsx(he.img,{...n,ref:t,src:r}):null});Tx.displayName=Px;var Ax="AvatarFallback",Rx=x.forwardRef((s,t)=>{const{__scopeAvatar:a,delayMs:r,...i}=s,n=Sx(Ax,a),[l,c]=x.useState(r===void 0);return x.useEffect(()=>{if(r!==void 0){const o=window.setTimeout(()=>c(!0),r);return()=>window.clearTimeout(o)}},[r]),l&&n.imageLoadingStatus!=="loaded"?e.jsx(he.span,{...i,ref:t}):null});Rx.displayName=Ax;function hd(s,t){return s?t?(s.src!==t&&(s.src=t),s.complete&&s.naturalWidth>0?"loaded":"loading"):"error":"idle"}function hb(s,{referrerPolicy:t,crossOrigin:a}){const r=lb(),i=x.useRef(null),n=r?(i.current||(i.current=new window.Image),i.current):null,[l,c]=x.useState(()=>hd(n,s));return Pt(()=>{c(hd(n,s))},[n,s]),Pt(()=>{const o=u=>()=>{c(u)};if(!n)return;const d=o("loaded"),h=o("error");return n.addEventListener("load",d),n.addEventListener("error",h),t&&(n.referrerPolicy=t),typeof a=="string"&&(n.crossOrigin=a),()=>{n.removeEventListener("load",d),n.removeEventListener("error",h)}},[n,a,t]),l}var Ex=kx,_x=Tx,Ix=Rx;const Ye=x.forwardRef(({className:s,...t},a)=>e.jsx(Ex,{ref:a,className:W("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...t}));Ye.displayName=Ex.displayName;const Dt=x.forwardRef(({className:s,...t},a)=>e.jsx(_x,{ref:a,className:W("aspect-square h-full w-full",s),...t}));Dt.displayName=_x.displayName;const Xe=x.forwardRef(({className:s,...t},a)=>e.jsx(Ix,{ref:a,className:W("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...t}));Xe.displayName=Ix.displayName;function ub(){const{data:s=[],isLoading:t}=Q({queryKey:["/api/politicians"],refetchInterval:12e4,select:n=>n.slice(0,8)}),{data:a}=Q({queryKey:["/api/politicians/featured"],refetchInterval:3e5}),r=n=>{if(!n)return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";switch(n.toLowerCase()){case"liberal":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"conservative":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"ndp":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";case"bloc qubcois":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200";case"green":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},i=n=>{if(!n)return"";switch(n.toLowerCase()){case"federal":return"";case"provincial":return"";case"municipal":return"";default:return""}};return t?e.jsxs(b,{className:"h-96",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-5 w-5"}),e.jsx("span",{children:"Politicians"})]})}),e.jsx(N,{children:e.jsx("div",{className:"animate-pulse space-y-3",children:[...Array(4)].map((n,l)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"h-10 w-10 bg-gray-200 dark:bg-gray-700 rounded-full"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 dark:bg-gray-700 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-700 rounded w-1/2"})]})]},l))})})]}):e.jsxs(b,{className:"h-96 flex flex-col",children:[e.jsx(P,{className:"pb-3 flex-shrink-0",children:e.jsxs(T,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Politicians"})]}),e.jsxs(k,{variant:"outline",className:"text-xs px-1 sm:px-2",children:[s.length," Active"]})]})}),e.jsxs(N,{className:"flex-1 overflow-y-auto pr-2",children:[e.jsxs("div",{className:"space-y-3",children:[a&&e.jsx("div",{className:"border-2 border-purple-200 rounded-lg p-3 bg-purple-50 dark:bg-purple-900/20 dark:border-purple-800",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsxs(Ye,{className:"h-12 w-12",children:[e.jsx(Dt,{src:a.profileImage}),e.jsx(Xe,{children:a.name.split(" ").map(n=>n[0]).join("")})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(Xi,{className:"h-4 w-4 text-yellow-500"}),e.jsx("span",{className:"text-xs font-medium text-purple-700 dark:text-purple-300",children:"Featured"})]}),e.jsx("h4",{className:"font-medium text-sm",children:a.name||"Unknown"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300",children:a.position||"Position Unknown"}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx(k,{className:`text-xs ${r(a.party)}`,children:a.party||"Independent"}),e.jsx("span",{className:"text-xs",children:i(a.level)})]})]})]})}),s.map(n=>{var l,c;return e.jsx("div",{className:"border rounded-lg p-4 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs(Ye,{className:"h-12 w-12 flex-shrink-0",children:[e.jsx(Dt,{src:n.profileImage}),e.jsx(Xe,{children:n.name.split(" ").map(o=>o[0]).join("")})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-2",children:[e.jsx("h4",{className:"font-semibold text-base mb-1 sm:mb-0",children:n.name}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs",children:i(n.level)}),e.jsx(Xi,{className:"h-3 w-3 text-yellow-400"}),e.jsx("span",{className:"text-xs font-medium",children:n.trustScore})]})]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1 truncate",children:n.position}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(k,{className:`text-xs ${r(n.party)}`,children:n.party}),e.jsxs("div",{className:"flex items-center space-x-1",children:[((l=n.contact)==null?void 0:l.phone)&&e.jsx(E,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",children:e.jsx(Bs,{className:"h-3 w-3"})}),((c=n.contact)==null?void 0:c.email)&&e.jsx(E,{variant:"ghost",size:"sm",className:"h-5 w-5 p-0",children:e.jsx(Nt,{className:"h-3 w-3"})})]})]}),n.constituency&&e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx(Ze,{className:"h-3 w-3 text-gray-400"}),e.jsx("span",{className:"text-xs text-gray-500 truncate",children:n.constituency})]}),n.recentActivity&&e.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400 mt-1 truncate",children:n.recentActivity})]})]})},n.id)})]}),e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsx(St,{href:"/politicians",children:e.jsxs(E,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(de,{className:"h-4 w-4 mr-2"}),"View All Politicians"]})})})]})]})}var Ko="Progress",Go=100,[mb,LP]=Ys(Ko),[xb,fb]=mb(Ko),Mx=x.forwardRef((s,t)=>{const{__scopeProgress:a,value:r=null,max:i,getValueLabel:n=pb,...l}=s;(i||i===0)&&!ud(i)&&console.error(gb(`${i}`,"Progress"));const c=ud(i)?i:Go;r!==null&&!md(r,c)&&console.error(vb(`${r}`,"Progress"));const o=md(r,c)?r:null,d=tn(o)?n(o,c):void 0;return e.jsx(xb,{scope:a,value:o,max:c,children:e.jsx(he.div,{"aria-valuemax":c,"aria-valuemin":0,"aria-valuenow":tn(o)?o:void 0,"aria-valuetext":d,role:"progressbar","data-state":Ox(o,c),"data-value":o??void 0,"data-max":c,...l,ref:t})})});Mx.displayName=Ko;var Dx="ProgressIndicator",Lx=x.forwardRef((s,t)=>{const{__scopeProgress:a,...r}=s,i=fb(Dx,a);return e.jsx(he.div,{"data-state":Ox(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});Lx.displayName=Dx;function pb(s,t){return`${Math.round(s/t*100)}%`}function Ox(s,t){return s==null?"indeterminate":s===t?"complete":"loading"}function tn(s){return typeof s=="number"}function ud(s){return tn(s)&&!isNaN(s)&&s>0}function md(s,t){return tn(s)&&!isNaN(s)&&s<=t&&s>=0}function gb(s,t){return`Invalid prop \`max\` of value \`${s}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Go}\`.`}function vb(s,t){return`Invalid prop \`value\` of value \`${s}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Go} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Fx=Mx,jb=Lx;const ft=x.forwardRef(({className:s,value:t,...a},r)=>e.jsx(Fx,{ref:r,className:W("relative h-4 w-full overflow-hidden rounded-full bg-secondary",s),...a,children:e.jsx(jb,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));ft.displayName=Fx.displayName;function xd(){const{data:s=[],isLoading:t}=Q({queryKey:["/api/bills"],refetchInterval:12e4,select:d=>d.slice(0,6)}),{data:a=[],isLoading:r}=Q({queryKey:["/api/votes/user"],refetchInterval:18e4}),{data:i}=Q({queryKey:["/api/voting/stats"],refetchInterval:3e5}),n=d=>{switch(d.toLowerCase()){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"passed":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},l=d=>a.find(h=>h.billId===d),c=(d,h)=>h>0?Math.round(d/h*100):0,o=d=>d?new Date(d)>new Date:!0;return t&&r?e.jsxs(b,{className:"h-96",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"h-5 w-5"}),e.jsx("span",{children:"Bills & Voting"})]})}),e.jsx(N,{children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(4)].map((d,h)=>e.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"},h))})})]}):e.jsxs(b,{className:"h-96 flex flex-col",children:[e.jsx(P,{className:"pb-3 flex-shrink-0",children:e.jsxs(T,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Bills & Voting"})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsxs(k,{variant:"outline",className:"text-xs px-1 sm:px-2",children:[s.filter(d=>d.status==="active").length," Active"]}),i&&e.jsxs(k,{variant:"secondary",className:"text-xs px-1 sm:px-2",children:[i.totalParticipants??0," Voters"]})]})]})}),e.jsxs(N,{className:"flex-1 overflow-y-auto pr-2",children:[e.jsx("div",{className:"space-y-3",children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(Be,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Parliamentary System Loading"}),e.jsx("p",{className:"text-xs text-gray-500 max-w-sm mx-auto",children:"Connecting to authentic Canadian parliamentary voting systems and bill tracking databases. Only verified bills with real voting records and official status will be displayed."})]}):e.jsx(e.Fragment,{children:s.map(d=>{const h=l(d.id),u=c(d.yesVotes,d.totalVotes),m=o(d.votingDeadline);return e.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(k,{variant:"secondary",className:"text-xs",children:d.billNumber}),e.jsx(k,{className:`text-xs ${n(d.status)}`,children:d.status}),h&&e.jsx(z,{className:"h-3 w-3 text-green-500"})]}),e.jsx("h4",{className:"font-medium text-sm mb-1 line-clamp-2",children:d.title}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 line-clamp-2",children:d.summary})]})}),e.jsxs("div",{className:"space-y-1 mb-2",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{children:"Support"}),e.jsxs("span",{children:[u,"%"]})]}),e.jsx(ft,{value:u,className:"h-1.5"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(de,{className:"h-3 w-3"}),e.jsxs("span",{children:[d.totalVotes," votes"]}),d.sponsor&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx("span",{children:d.sponsor})]})]}),h?e.jsxs(k,{variant:"secondary",className:"text-xs",children:["Voted ",h.voteValue]}):m?e.jsx(E,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",children:"Vote"}):e.jsx("span",{className:"text-xs text-gray-400",children:"Closed"})]}),e.jsxs("div",{className:"flex items-center justify-between mt-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ee,{className:"h-3 w-3"}),e.jsxs("span",{children:[d.estimatedImpact,"% impact"]})]}),d.votingDeadline&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ge,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(d.votingDeadline).toLocaleDateString()})]})]})]},d.id)})})}),e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsx(St,{href:"/voting",children:e.jsxs(E,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(Be,{className:"h-4 w-4 mr-2"}),"View All Bills"]})})})]})]})}function fd(){const{data:s=[],isLoading:t}=Q({queryKey:["/api/petitions"],refetchInterval:18e4,select:h=>h.slice(0,6)}),{data:a=[],isLoading:r}=Q({queryKey:["/api/petitions/user-signatures"],refetchInterval:3e5}),{data:i}=Q({queryKey:["/api/petitions/stats"],refetchInterval:3e5}),n=h=>{switch(h){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"successful":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"failed":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";case"closed":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";default:return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"}},l=h=>{switch(h){case"federal":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"provincial":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"local":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}},c=(h,u)=>Math.min(h/u*100,100),o=h=>a.find(u=>u.petitionId===h),d=h=>h.status==="active"&&(!h.deadlineDate||new Date(h.deadlineDate)>new Date);return t&&r?e.jsxs(b,{className:"h-96",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"h-5 w-5"}),e.jsx("span",{children:"Active Petitions"})]})}),e.jsx(N,{children:e.jsx("div",{className:"animate-pulse space-y-4",children:[...Array(4)].map((h,u)=>e.jsx("div",{className:"h-24 bg-gray-200 dark:bg-gray-700 rounded"},u))})})]}):e.jsxs(b,{className:"h-96 flex flex-col",children:[e.jsx(P,{className:"pb-3 flex-shrink-0",children:e.jsxs(T,{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"h-4 w-4 sm:h-5 sm:w-5"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Active Petitions"})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsxs(k,{variant:"outline",className:"text-xs px-1 sm:px-2",children:[s.filter(h=>h.status==="active").length," Active"]}),i&&e.jsxs(k,{variant:"secondary",className:"text-xs px-1 sm:px-2",children:[i.totalSignatures||0," Signatures"]})]})]})}),e.jsxs(N,{className:"flex-1 overflow-y-auto pr-2",children:[e.jsx("div",{className:"space-y-3",children:s.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ce,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Petition System Loading"}),e.jsx("p",{className:"text-xs text-gray-500 max-w-sm mx-auto",children:"Connecting to authentic Canadian petition platforms and government petition systems. Only verified petitions with real signatures and official status will be displayed."})]}):e.jsx(e.Fragment,{children:s.map(h=>{var p,j,g,f;const u=o(h.id),m=c(h.currentSignatures,h.targetSignatures);return e.jsxs("div",{className:"border rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("div",{className:"flex items-start justify-between mb-2",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx(k,{variant:"secondary",className:"text-xs",children:h.category}),e.jsx(k,{className:`text-xs ${n(h.status)}`,children:h.status}),e.jsx(k,{className:`text-xs ${l(h.impact)}`,children:h.impact}),((p=h.recentActivity)==null?void 0:p.trending)&&e.jsx(Ee,{className:"h-3 w-3 text-orange-500"})]}),e.jsx("h4",{className:"font-medium text-sm mb-1 line-clamp-2",children:h.title}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-300 line-clamp-2",children:h.description})]})}),e.jsxs("div",{className:"flex items-center space-x-4 mb-2 text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(de,{className:"h-3 w-3"}),e.jsx("span",{children:((j=h.creator)==null?void 0:j.name)||"Unknown"}),((g=h.creator)==null?void 0:g.verified)&&e.jsx("span",{className:"text-green-500",children:""})]}),h.targetOfficial&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Hs,{className:"h-3 w-3"}),e.jsx("span",{children:h.targetOfficial})]})]}),e.jsxs("div",{className:"space-y-1 mb-2",children:[e.jsx(ft,{value:m,className:"h-1.5"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:[h.currentSignatures.toLocaleString()," signatures"]}),e.jsxs("span",{children:[Math.round(m),"% of goal"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:[e.jsx(Ee,{className:"h-3 w-3"}),e.jsxs("span",{children:["+",((f=h.recentActivity)==null?void 0:f.signaturesLast24h)||0," today"]}),h.deadlineDate&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:""}),e.jsx(tt,{className:"h-3 w-3"}),e.jsx("span",{children:new Date(h.deadlineDate).toLocaleDateString()})]})]}),u?e.jsx(k,{variant:"secondary",className:"text-xs",children:"Signed"}):d(h)?e.jsx(E,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",children:"Sign"}):e.jsx("span",{className:"text-xs text-gray-400",children:"Closed"})]})]},h.id)})})}),e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsx(St,{href:"/petitions",children:e.jsxs(E,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(ce,{className:"h-4 w-4 mr-2"}),"View All Petitions"]})})})]})]})}function pd(){const[s,t]=x.useState(null),[a,r]=x.useState(null),[i,n]=x.useState(!1),{data:l=[],isLoading:c}=Q({queryKey:["/api/news/articles"]}),{data:o=[]}=Q({queryKey:["/api/news/trending"]}),d=async m=>{t(m),n(!0);try{const p=await fetch(`/api/news/analysis/${m.id}`);if(p.ok){const j=await p.json();r(j)}}catch(p){console.error("Analysis failed:",p)}finally{n(!1)}},h=m=>{if(!m)return"text-gray-600";switch(m.toLowerCase()){case"left":return"text-blue-600";case"right":return"text-red-600";case"center":return"text-green-600";default:return"text-gray-600"}},u=m=>m>=80?"text-green-600":m>=60?"text-yellow-600":"text-red-600";return c?e.jsxs(b,{className:"h-96 flex flex-col",children:[e.jsx(P,{className:"flex-shrink-0",children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-5 w-5 text-civic-blue"}),"AI News Analysis"]})}),e.jsx(N,{className:"flex-1 overflow-y-auto pr-2",children:e.jsx("div",{className:"space-y-3",children:[1,2,3].map(m=>e.jsx("div",{className:"h-16 bg-gray-200 rounded animate-pulse"},m))})})]}):s&&a?e.jsxs(b,{className:"h-96 flex flex-col",children:[e.jsx(P,{className:"flex-shrink-0",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-5 w-5 text-civic-blue"}),"AI Cross-Source Analysis"]}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>{t(null),r(null)},children:" Back to Articles"})]})}),e.jsx(N,{className:"flex-1 overflow-y-auto pr-2",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 border rounded-lg bg-gradient-to-r from-civic-blue/5 to-civic-green/5",children:[e.jsx("h3",{className:"font-semibold text-lg mb-2",children:s.title}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[e.jsx("span",{children:s.source}),e.jsx(k,{variant:"outline",className:h(s.bias),children:s.bias}),e.jsxs("span",{className:u(s.credibilityScore),children:[s.credibilityScore,"% credible"]})]})]}),e.jsxs(Ie,{defaultValue:"overview",className:"space-y-4",children:[e.jsxs(Se,{className:"grid grid-cols-4 w-full",children:[e.jsx(V,{value:"overview",children:"Overview"}),e.jsx(V,{value:"sources",children:"Sources"}),e.jsx(V,{value:"facts",children:"Fact Check"}),e.jsx(V,{value:"bias",children:"Bias Analysis"})]}),e.jsxs($,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-civic-blue",children:[a.credibilityAssessment.overallScore,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Overall Score"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-civic-green",children:[a.publicInterestScore,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Public Interest"})]}),e.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:a.relatedArticles.length}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Related Sources"})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(z,{className:"h-4 w-4 text-green-600"}),"Unbiased Summary"]}),e.jsx("p",{className:"text-sm bg-green-50 p-3 rounded border-l-4 border-green-500",children:a.crossSourceAnalysis.unbiasedSummary})]}),a.crossSourceAnalysis.consensusFacts.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[e.jsx(X,{className:"h-4 w-4 text-blue-600"}),"Verified Facts"]}),e.jsx("ul",{className:"space-y-2",children:a.crossSourceAnalysis.consensusFacts.slice(0,3).map((m,p)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(z,{className:"h-4 w-4 text-green-600 mt-0.5 shrink-0"}),m]},p))})]}),a.crossSourceAnalysis.recommendations.length>0&&e.jsxs(ze,{children:[e.jsx(Ji,{className:"h-4 w-4"}),e.jsxs(He,{children:[e.jsx("strong",{children:"AI Recommendation:"})," ",a.crossSourceAnalysis.recommendations[0]]})]})]}),e.jsx($,{value:"sources",className:"space-y-4",children:e.jsx("div",{className:"grid gap-4",children:a.crossSourceAnalysis.sourceComparison.map((m,p)=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"font-semibold",children:m.source}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{variant:"outline",className:h(m.bias),children:m.bias}),e.jsxs("span",{className:`text-sm ${u(m.credibility)}`,children:[m.credibility,"% credible"]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:m.angle}),m.keyPoints.length>0&&e.jsxs("div",{children:[e.jsx("h5",{className:"text-sm font-medium mb-2",children:"Key Points:"}),e.jsx("ul",{className:"text-sm space-y-1",children:m.keyPoints.slice(0,3).map((j,g)=>e.jsxs("li",{className:"flex items-start gap-1",children:[e.jsx("span",{className:"text-civic-blue",children:""})," ",j]},g))})]})]},p))})}),e.jsx($,{value:"facts",className:"space-y-4",children:e.jsxs("div",{className:"grid gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-green-600",children:[e.jsx(z,{className:"h-4 w-4"}),"Verified Facts (",a.factCheckResults.verifiedFacts.length,")"]}),e.jsx("ul",{className:"space-y-2",children:a.factCheckResults.verifiedFacts.slice(0,5).map((m,p)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(z,{className:"h-3 w-3 text-green-600 mt-1 shrink-0"}),m]},p))})]}),a.factCheckResults.disputedClaims.length>0&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-yellow-600",children:[e.jsx(ae,{className:"h-4 w-4"}),"Disputed Claims (",a.factCheckResults.disputedClaims.length,")"]}),e.jsx("ul",{className:"space-y-2",children:a.factCheckResults.disputedClaims.slice(0,3).map((m,p)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(ae,{className:"h-3 w-3 text-yellow-600 mt-1 shrink-0"}),m]},p))})]}),a.factCheckResults.unsupportedStatements.length>0&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-red-600",children:[e.jsx(hs,{className:"h-4 w-4"}),"Unsupported Statements (",a.factCheckResults.unsupportedStatements.length,")"]}),e.jsx("ul",{className:"space-y-2",children:a.factCheckResults.unsupportedStatements.slice(0,3).map((m,p)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(hs,{className:"h-3 w-3 text-red-600 mt-1 shrink-0"}),m]},p))})]})]})}),e.jsx($,{value:"bias",className:"space-y-4",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Source Diversity"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ft,{value:a.credibilityAssessment.sourceDiversity/5*100,className:"flex-1"}),e.jsxs("span",{className:"text-sm font-medium",children:[a.credibilityAssessment.sourceDiversity,"/5"]})]})]}),e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Bias Level"}),e.jsx(k,{variant:"outline",className:a.credibilityAssessment.biasLevel==="high diversity"?"text-green-600":a.credibilityAssessment.biasLevel==="moderate diversity"?"text-yellow-600":"text-red-600",children:a.credibilityAssessment.biasLevel})]})]}),a.crossSourceAnalysis.mediaManipulation.detectedTechniques.length>0&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-red-600",children:[e.jsx(Hs,{className:"h-4 w-4"}),"Detected Manipulation Techniques"]}),e.jsx("ul",{className:"space-y-2",children:a.crossSourceAnalysis.mediaManipulation.detectedTechniques.map((m,p)=>e.jsxs("li",{className:"flex items-start gap-2 text-sm",children:[e.jsx(Hs,{className:"h-3 w-3 text-red-600 mt-1 shrink-0"}),m]},p))})]}),a.crossSourceAnalysis.contradictions.length>0&&e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("h4",{className:"font-semibold flex items-center gap-2 text-orange-600",children:[e.jsx(ae,{className:"h-4 w-4"}),"Source Contradictions"]}),a.crossSourceAnalysis.contradictions.slice(0,2).map((m,p)=>e.jsxs("div",{className:"bg-orange-50 p-3 rounded border-l-4 border-orange-500",children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:m.fact}),e.jsx("div",{className:"space-y-1",children:m.sources.slice(0,2).map((j,g)=>e.jsxs("div",{className:"text-xs text-muted-foreground",children:[e.jsxs("strong",{children:[j.source,":"]})," ",j.claim]},g))})]},p))]})]})})]})]})})]}):e.jsxs(b,{className:"glass-card",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(ds,{className:"h-5 w-5 text-civic-blue"}),"AI News Analysis",e.jsxs(k,{variant:"secondary",className:"ml-auto",children:[e.jsx(pi,{className:"h-3 w-3 mr-1"}),"AI-Powered"]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[o.length>0&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-sm",children:[e.jsx(Ee,{className:"h-4 w-4 text-civic-green"}),"Trending Stories"]}),o.slice(0,2).map(m=>e.jsxs("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d(m),children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:m.title}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:m.source}),e.jsx(k,{variant:"outline",className:h(m.bias),children:m.bias}),e.jsxs("span",{className:u(m.credibilityScore),children:[m.credibilityScore,"% credible"]})]})]},m.id))]}),e.jsx(bs,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("h3",{className:"font-semibold flex items-center gap-2 text-sm",children:[e.jsx(Ce,{className:"h-4 w-4 text-civic-blue"}),"Recent Articles"]}),l.slice(0,3).map(m=>e.jsxs("div",{className:"p-3 border rounded-lg hover:bg-gray-50 cursor-pointer transition-colors",onClick:()=>d(m),children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:m.title}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[e.jsx("span",{children:m.source}),e.jsx(k,{variant:"outline",className:h(m.bias),children:m.bias}),e.jsxs("span",{className:u(m.credibilityScore),children:[m.credibilityScore,"% credible"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(tt,{className:"h-3 w-3"}),new Date(m.publishedAt).toLocaleDateString()]})]})]},m.id))]}),l.length===0&&o.length===0&&e.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[e.jsx(ds,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),e.jsx("p",{children:"No articles available for analysis"}),e.jsx("p",{className:"text-xs mt-1",children:"News sources are being monitored for authentic Canadian content"})]}),i&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(ds,{className:"h-5 w-5 text-civic-blue animate-pulse"}),e.jsx("span",{className:"font-medium",children:"Analyzing article with AI..."})]}),e.jsx(ft,{value:75,className:"w-full"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cross-referencing sources and detecting bias..."})]})})]})})]})}function yb(){var f,w,y,v,A;const[s,t]=x.useState(""),[a,r]=x.useState("criminal"),[i,n]=x.useState(!1),{data:l,isLoading:c}=Q({queryKey:["/api/legal/criminal-code"],staleTime:5*60*1e3}),{data:o,isLoading:d}=Q({queryKey:["/api/legal/hierarchy"],staleTime:10*60*1e3}),{data:h,isLoading:u}=Q({queryKey:["/api/legal/search",s],enabled:s.length>2,staleTime:30*1e3}),m=async()=>{n(!0);try{const C=await fetch("/api/legal/initialize",{method:"POST"}),O=await C.json();C.ok&&window.location.reload()}catch(C){console.error("Failed to initialize legal system:",C)}finally{n(!1)}},p=(C,O)=>!C&&!O?"Not specified":C&&O?`${C} to ${O}`:C||O||"Not specified",j=C=>C.includes("life")||C.includes("Life")||C.includes("14 years")||C.includes("10 years")?"destructive":C.includes("years")?"secondary":"outline",g=Array.isArray(l)?l.filter(C=>s.length<3||C.title.toLowerCase().includes(s.toLowerCase())||C.content.toLowerCase().includes(s.toLowerCase())||C.offense&&C.offense.toLowerCase().includes(s.toLowerCase())):[];return e.jsxs(b,{className:"w-full",children:[e.jsxs(P,{className:"pb-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"h-5 w-5 text-blue-600"}),e.jsx(T,{className:"text-lg",children:"Canadian Legal System"})]}),e.jsx(E,{onClick:m,disabled:i,size:"sm",variant:"outline",children:i?"Initializing...":"Initialize System"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(ct,{className:"h-4 w-4 text-muted-foreground"}),e.jsx(te,{placeholder:"Search laws, cases, or acts...",value:s,onChange:C=>t(C.target.value),className:"flex-1"})]})]}),e.jsx(N,{children:e.jsxs(Ie,{value:a,onValueChange:r,className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4",children:[e.jsxs(V,{value:"criminal",className:"flex items-center gap-1",children:[e.jsx(ae,{className:"h-3 w-3"}),"Criminal Code"]}),e.jsxs(V,{value:"acts",className:"flex items-center gap-1",children:[e.jsx(Fr,{className:"h-3 w-3"}),"Federal Acts"]}),e.jsxs(V,{value:"cases",className:"flex items-center gap-1",children:[e.jsx(zs,{className:"h-3 w-3"}),"Landmark Cases"]}),e.jsxs(V,{value:"hierarchy",className:"flex items-center gap-1",children:[e.jsx(ce,{className:"h-3 w-3"}),"System Overview"]})]}),e.jsx($,{value:"criminal",className:"mt-4",children:e.jsx(ms,{className:"h-[500px] w-full",children:c?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading Criminal Code..."})}):e.jsxs("div",{className:"space-y-3",children:[g.slice(0,20).map(C=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsxs(k,{variant:"outline",children:["Section ",C.sectionNumber]}),e.jsx(k,{variant:"secondary",children:C.category})]}),e.jsx("h4",{className:"font-semibold text-sm",children:C.title}),C.offense&&e.jsx("p",{className:"text-sm text-red-600 font-medium mt-1",children:C.offense})]}),C.maxPenalty&&e.jsx(k,{variant:j(C.maxPenalty),children:p(C.minPenalty,C.maxPenalty)})]}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:C.content}),e.jsxs("div",{className:"flex items-center gap-2",children:[C.isSummary&&e.jsx(k,{variant:"outline",className:"text-xs",children:"Summary Offence"}),C.isIndictable&&e.jsx(k,{variant:"outline",className:"text-xs",children:"Indictable Offence"})]})]},C.id)),g.length===0&&!c&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(ae,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 mb-2",children:"Criminal Code System Loading"}),e.jsx("p",{className:"text-xs text-gray-500 max-w-sm mx-auto",children:"Accessing authentic Canadian Criminal Code from official government sources. Only verified sections with accurate legal text and penalties will be displayed."})]})]})})}),e.jsx($,{value:"acts",className:"mt-4",children:e.jsx(ms,{className:"h-[500px] w-full",children:d?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading Federal Acts..."})}):e.jsx("div",{className:"space-y-3",children:((f=o==null?void 0:o.federal)==null?void 0:f.constitutional)&&Array.isArray(o.federal.constitutional)&&o.federal.constitutional.slice(0,10).map(C=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-2",children:[e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(k,{variant:"outline",children:C.actNumber}),e.jsx(k,{variant:"secondary",children:C.category}),e.jsx(k,{variant:C.status==="In Force"?"default":"secondary",children:C.status})]}),e.jsx("h4",{className:"font-semibold text-sm",children:C.title}),C.shortTitle&&C.shortTitle!==C.title&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["(",C.shortTitle,")"]})]})}),C.summary&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-2",children:C.summary}),C.keyProvisions&&C.keyProvisions.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[C.keyProvisions.slice(0,3).map((O,M)=>e.jsx(k,{variant:"outline",className:"text-xs",children:O},M)),C.keyProvisions.length>3&&e.jsxs(k,{variant:"outline",className:"text-xs",children:["+",C.keyProvisions.length-3," more"]})]})]},C.id))})})}),e.jsx($,{value:"cases",className:"mt-4",children:e.jsx(ms,{className:"h-[500px] w-full",children:e.jsx("div",{className:"space-y-3",children:e.jsx("div",{className:"text-center py-8",children:e.jsx("p",{className:"text-sm text-muted-foreground",children:"Landmark cases will be displayed here"})})})})}),e.jsx($,{value:"hierarchy",className:"mt-4",children:e.jsx(ms,{className:"h-[500px] w-full",children:d?e.jsx("div",{className:"flex items-center justify-center h-32",children:e.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading legal hierarchy..."})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Criminal Law"}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[(w=o==null?void 0:o.federal)!=null&&w.criminal&&Array.isArray(o.federal.criminal)?o.federal.criminal.length:0," sections"]}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("div",{children:" General Principles"}),e.jsx("div",{children:" Firearms and Weapons"}),e.jsx("div",{children:" Sexual Offences"}),e.jsx("div",{children:" Property Offences"})]})]}),e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Constitutional Law"}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[(y=o==null?void 0:o.federal)!=null&&y.constitutional&&Array.isArray(o.federal.constitutional)?o.federal.constitutional.length:0," acts"]}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("div",{children:" Constitution Act, 1867"}),e.jsx("div",{children:" Charter of Rights"}),e.jsx("div",{children:" Federal Powers"}),e.jsx("div",{children:" Provincial Powers"})]})]}),e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Administrative Law"}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[(v=o==null?void 0:o.federal)!=null&&v.administrative&&Array.isArray(o.federal.administrative)?o.federal.administrative.length:0," acts"]}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("div",{children:" Health Canada Acts"}),e.jsx("div",{children:" Immigration Law"}),e.jsx("div",{children:" Employment Standards"}),e.jsx("div",{children:" Social Security"})]})]}),e.jsxs("div",{className:"border rounded-lg p-3",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Regulatory Law"}),e.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:[(A=o==null?void 0:o.federal)!=null&&A.regulatory&&Array.isArray(o.federal.regulatory)?o.federal.regulatory.length:0," acts"]}),e.jsxs("div",{className:"text-xs space-y-1",children:[e.jsx("div",{children:" Competition Act"}),e.jsx("div",{children:" Environmental Protection"}),e.jsx("div",{children:" Income Tax Act"}),e.jsx("div",{children:" Privacy Legislation"})]})]})]}),e.jsx(bs,{}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950/20 rounded-lg p-3",children:[e.jsx("h4",{className:"font-semibold text-sm mb-2 text-blue-800 dark:text-blue-300",children:"Comprehensive Legal Database"}),e.jsxs("div",{className:"text-xs text-blue-700 dark:text-blue-400 space-y-1",children:[e.jsx("div",{children:" Duplicate entries removed"}),e.jsx("div",{children:" Exhaustive Criminal Code coverage"}),e.jsx("div",{children:" Complete federal legislation"}),e.jsx("div",{children:" Landmark case precedents"}),e.jsx("div",{children:" Real-time legal updates"})]})]})]})})})]})})]})}function Pa({targetType:s,targetId:t,className:a="",size:r="md",showCounts:i=!0}){const{user:n}=Rt(),{toast:l}=dt(),c=ss(),{data:o,isLoading:d}=Q({queryKey:[`/api/vote/${s}/${t}`],enabled:!!t}),h=Ne({mutationFn:async y=>await(await ye("/api/vote","POST",{targetType:s,targetId:t,voteType:y})).json(),onSuccess:y=>{c.setQueryData([`/api/vote/${s}/${t}`],y),c.invalidateQueries({queryKey:[`/api/${s}s`]}),c.invalidateQueries({queryKey:["/api/forum/posts"]}),c.invalidateQueries({queryKey:["/api/politicians"]}),c.invalidateQueries({queryKey:["/api/bills"]})},onError:y=>{console.error("Voting error:",y);let v="Failed to register vote";if(y.message){if(y.message.includes("already voted")){l({title:"Already Voted",description:"You have already voted on this item. Each user can only vote once.",variant:"default"});return}const A=y.message.match(/400: (.+)/);if(A)try{v=JSON.parse(A[1]).message||v}catch{v=A[1]}else v=y.message}l({title:"Vote Failed",description:v,variant:"destructive"})}}),u=y=>{if(!n){l({title:"Login Required",description:"Please log in to vote",variant:"destructive"});return}h.mutate(y)},m=(o==null?void 0:o.upvotes)||0,p=(o==null?void 0:o.downvotes)||0,j=(o==null?void 0:o.totalScore)||0,g=o==null?void 0:o.userVote,f={sm:"h-7 w-7",md:"h-8 w-8",lg:"h-10 w-10"},w={sm:"w-3 h-3",md:"w-4 h-4",lg:"w-5 h-5"};return e.jsxs("div",{className:W("flex items-center space-x-2",a),children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{variant:g==="upvote"?"default":"outline",size:"sm",className:W(f[r],"p-0",g==="upvote"&&"bg-green-600 hover:bg-green-700 text-white"),onClick:()=>u("upvote"),disabled:h.isPending||d,children:e.jsx(Jv,{className:w[r]})}),i&&e.jsx("span",{className:"text-sm font-medium text-green-600 min-w-[20px] text-center",children:m})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{variant:g==="downvote"?"default":"outline",size:"sm",className:W(f[r],"p-0",g==="downvote"&&"bg-red-600 hover:bg-red-700 text-white"),onClick:()=>u("downvote"),disabled:h.isPending||d,children:e.jsx(Qv,{className:w[r]})}),i&&e.jsx("span",{className:"text-sm font-medium text-red-600 min-w-[20px] text-center",children:p})]}),i&&e.jsxs("div",{className:"flex items-center space-x-1 ml-2 pl-2 border-l",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:"Score:"}),e.jsx("span",{className:W("text-sm font-bold",j>0&&"text-green-600",j<0&&"text-red-600",j===0&&"text-gray-500"),children:j>0?`+${j}`:j})]})]})}function gd({className:s,...t}){return e.jsx("div",{className:W("animate-pulse rounded-md bg-muted",s),...t})}function bb(){const{data:s=[],isLoading:t}=Q({queryKey:["/api/news/comprehensive"]}),{data:a=[],isLoading:r}=Q({queryKey:["/api/news/comparisons"]}),{data:i=[],isLoading:n}=Q({queryKey:["/api/news/bias-analysis"]}),l=d=>{switch(d){case"left":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300";case"right":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300";case"center":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"}},c=d=>d>=80?"text-green-600 dark:text-green-400":d>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400",o=d=>d>=80?"text-green-600 dark:text-green-400":d>=60?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400";return t||r||n?e.jsxs(b,{className:"w-full",children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),"Comprehensive News Analysis"]}),e.jsx(G,{children:"Cross-source analysis with bias detection and propaganda identification"})]}),e.jsx(N,{className:"space-y-4",children:Array.from({length:3}).map((d,h)=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(gd,{className:"h-4 w-3/4"}),e.jsx(gd,{className:"h-3 w-1/2"})]},h))})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"h-5 w-5"}),"Cross-Source Analysis"]}),e.jsx(G,{children:"Comparing coverage across major Canadian news sources"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:a.slice(0,3).map(d=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:d.topic}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.sources.length," sources  ",d.articleCount," articles"]})]}),e.jsxs(k,{variant:"outline",className:o(d.consensusLevel),children:[d.consensusLevel,"% consensus"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Factual Accuracy"}),e.jsxs("span",{className:c(d.factualAccuracy),children:[d.factualAccuracy,"%"]})]}),e.jsx(ft,{value:d.factualAccuracy,className:"h-2"})]}),d.propagandaPatterns.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsxs("span",{children:[d.propagandaPatterns.length," propaganda patterns detected"]})]}),d.majorDiscrepancies.length>0&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Major Discrepancies:"}),d.majorDiscrepancies.slice(0,2).map((h,u)=>e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:[" ",h]},u))]}),e.jsx("div",{className:"flex gap-2 pt-2",children:Object.entries(d.politicalBias).map(([h,u])=>e.jsxs(k,{variant:"outline",className:l(h),children:[h,": ",u,"%"]},h))}),e.jsx(Pa,{targetType:"news",targetId:d.id,size:"sm",showCounts:!1})]},d.id))})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Source Credibility Rankings"]}),e.jsx(G,{children:"Weekly performance analysis of Canadian news sources"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:i.slice(0,5).map((d,h)=>e.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(k,{variant:"outline",className:"w-8 h-8 rounded-full flex items-center justify-center",children:h+1}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:d.source}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.articleCount," articles analyzed"]})]})]}),e.jsxs("div",{className:"text-right space-y-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Factuality:"}),e.jsxs("span",{className:c(d.avgFactuality),children:[typeof d.avgFactuality=="number"?d.avgFactuality.toFixed(1):"0.0","%"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Credibility:"}),e.jsxs("span",{className:c(d.avgCredibility),children:[typeof d.avgCredibility=="number"?d.avgCredibility.toFixed(1):"0.0","%"]})]})]})]},d.source))})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"h-5 w-5"}),"High-Quality Recent Coverage"]}),e.jsx(G,{children:"Canadian political news with highest factuality scores"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:s.slice(0,5).map(d=>e.jsxs("div",{className:"border rounded-lg p-4 space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium line-clamp-2 mb-1",children:d.title}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx("span",{children:d.source}),e.jsx("span",{children:""}),e.jsx("span",{children:new Date(d.publishedAt).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(k,{variant:"outline",className:l(d.bias),children:d.bias}),e.jsxs("span",{className:`text-sm font-medium ${c(d.factualityScore)}`,children:[d.factualityScore,"% factual"]})]})]}),d.propagandaTechniques.length>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600 dark:text-amber-400",children:[e.jsx(ae,{className:"h-4 w-4"}),e.jsxs("span",{children:["Propaganda techniques: ",d.propagandaTechniques.slice(0,2).join(", "),d.propagandaTechniques.length>2&&` +${d.propagandaTechniques.length-2} more`]})]}),d.politiciansInvolved.length>0&&e.jsxs("div",{className:"flex flex-wrap gap-1",children:[d.politiciansInvolved.slice(0,3).map(h=>e.jsx(k,{variant:"secondary",className:"text-xs",children:h},h)),d.politiciansInvolved.length>3&&e.jsxs(k,{variant:"secondary",className:"text-xs",children:["+",d.politiciansInvolved.length-3," more"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("div",{className:"flex gap-2",children:d.keyTopics.slice(0,2).map(h=>e.jsx(k,{variant:"outline",className:"text-xs",children:h},h))}),e.jsx(E,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx("a",{href:d.url,target:"_blank",rel:"noopener noreferrer",children:e.jsx(Ke,{className:"h-4 w-4"})})})]})]},d.id))})})]})]})}function Nb(){const s={name:"Mark Carney",position:"Prime Minister of Canada",party:"Liberal Party of Canada",constituency:"Central Nova",trustScore:68,sovereigntyScore:75,globalistScore:25,economicPhilosophy:"Economic Nationalism with Global Financial Expertise",keyConnections:["Bank of England (Former Governor)","Bank of Canada (Former Governor)","Brookfield Asset Management","UN Special Envoy for Climate Action","Financial Stability Board","G7 Financial Leaders Network"],controversies:["WEF Board Member - Potential globalist influence","Goldman Sachs Background - Wall Street connections","Climate Finance Policies - Corporate favoritism allegations"],policyFocus:"Financial Sovereignty & Climate Economics",currentInitiatives:["Canadian Digital Currency Framework","Banking Sovereignty Act","Climate Finance Leadership Initiative","Economic Independence Strategy","Financial Institution Modernization"],financialDisclosures:{assets:["Brookfield Asset Management Holdings","Government of Canada Pension","Real Estate Holdings in Ottawa & London","Investment Portfolio (Managed by Blind Trust)"],investments:["Clean Energy Infrastructure Funds","Canadian Technology Sector","Government Bonds Portfolio","International Development Finance"],potential_conflicts:["Brookfield - Infrastructure policy decisions","Climate Finance - Green bond regulations","Banking Reform - Former institution relationships"]},politicalNetwork:{allies:["Chrystia Freeland (Deputy PM)","Sean Fraser (Immigration Minister)","Jonathan Wilkinson (Natural Resources)","Christine Lagarde (ECB President)"],opposition:["Pierre Poilievre (Conservative Leader)","Jagmeet Singh (NDP Leader)","Yves-Franois Blanchet (Bloc Leader)"],international_contacts:["Janet Yellen (US Treasury Secretary)","Christine Lagarde (European Central Bank)","Antnio Guterres (UN Secretary-General)","Kristalina Georgieva (IMF Managing Director)"]}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(b,{className:"border-2 border-blue-200 dark:border-blue-800",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-2xl font-bold text-blue-900 dark:text-blue-100",children:s.name}),e.jsx("p",{className:"text-lg text-blue-700 dark:text-blue-300",children:s.position}),e.jsxs(k,{className:"mt-2 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-100",children:[s.party,"  ",s.constituency]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-3xl font-bold text-blue-900 dark:text-blue-100",children:s.trustScore}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Trust Score"})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Sovereignty Lean"}),e.jsxs("span",{className:"text-sm font-bold",children:[s.sovereigntyScore,"%"]})]}),e.jsx(ft,{value:s.sovereigntyScore,className:"h-2"}),e.jsx("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:"Economic Nationalist Tendency"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium",children:"Globalist Influence"}),e.jsxs("span",{className:"text-sm font-bold",children:[s.globalistScore,"%"]})]}),e.jsx(ft,{value:s.globalistScore,className:"h-2"}),e.jsx("div",{className:"mt-1 text-xs text-gray-600 dark:text-gray-400",children:"International Integration Level"})]})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-4 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Economic Philosophy"}),e.jsx("p",{className:"text-blue-800 dark:text-blue-200",children:s.economicPhilosophy}),e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300 mt-2",children:["Policy Focus: ",s.policyFocus]})]})]})]}),e.jsxs(Ie,{defaultValue:"connections",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-5",children:[e.jsx(V,{value:"connections",children:"Connections"}),e.jsx(V,{value:"controversies",children:"Controversies"}),e.jsx(V,{value:"initiatives",children:"Current Agenda"}),e.jsx(V,{value:"finances",children:"Financial Profile"}),e.jsx(V,{value:"network",children:"Political Network"})]}),e.jsx($,{value:"connections",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2"}),"Key Connections & Influence Network"]})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:s.keyConnections.map((t,a)=>e.jsxs("div",{className:"flex items-center p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsx(Lt,{className:"w-4 h-4 mr-3 text-blue-500"}),e.jsx("span",{className:"font-medium",children:t})]},a))})})]})}),e.jsx($,{value:"controversies",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center text-orange-700 dark:text-orange-300",children:[e.jsx(ae,{className:"w-5 h-5 mr-2"}),"Controversies & Concerns"]})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:s.controversies.map((t,a)=>e.jsxs("div",{className:"flex items-start p-3 bg-orange-50 dark:bg-orange-950 rounded-lg border-l-4 border-orange-400",children:[e.jsx(ae,{className:"w-4 h-4 mr-3 text-orange-500 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-orange-800 dark:text-orange-200",children:t})]},a))})})]})}),e.jsx($,{value:"initiatives",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center",children:[e.jsx(Ee,{className:"w-5 h-5 mr-2"}),"Current Policy Initiatives"]})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-3",children:s.currentInitiatives.map((t,a)=>e.jsxs("div",{className:"flex items-center p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsx(Ee,{className:"w-4 h-4 mr-3 text-green-500"}),e.jsx("span",{className:"font-medium text-green-800 dark:text-green-200",children:t})]},a))})})]})}),e.jsx($,{value:"finances",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-sm flex items-center",children:[e.jsx(jt,{className:"w-4 h-4 mr-2"}),"Assets"]})}),e.jsx(N,{className:"space-y-2",children:s.financialDisclosures.assets.map((t,a)=>e.jsx("div",{className:"text-sm p-2 bg-blue-50 dark:bg-blue-950 rounded",children:t},a))})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-sm flex items-center",children:[e.jsx(Ee,{className:"w-4 h-4 mr-2"}),"Investments"]})}),e.jsx(N,{className:"space-y-2",children:s.financialDisclosures.investments.map((t,a)=>e.jsx("div",{className:"text-sm p-2 bg-green-50 dark:bg-green-950 rounded",children:t},a))})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-sm flex items-center text-red-700 dark:text-red-300",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Potential Conflicts"]})}),e.jsx(N,{className:"space-y-2",children:s.financialDisclosures.potential_conflicts.map((t,a)=>e.jsx("div",{className:"text-sm p-2 bg-red-50 dark:bg-red-950 rounded text-red-800 dark:text-red-200",children:t},a))})]})]})}),e.jsx($,{value:"network",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-sm text-green-700 dark:text-green-300",children:"Political Allies"})}),e.jsx(N,{className:"space-y-2",children:s.politicalNetwork.allies.map((t,a)=>e.jsx("div",{className:"text-sm p-2 bg-green-50 dark:bg-green-950 rounded",children:t},a))})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-sm text-red-700 dark:text-red-300",children:"Opposition Leaders"})}),e.jsx(N,{className:"space-y-2",children:s.politicalNetwork.opposition.map((t,a)=>e.jsx("div",{className:"text-sm p-2 bg-red-50 dark:bg-red-950 rounded",children:t},a))})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-sm text-blue-700 dark:text-blue-300",children:"International Contacts"})}),e.jsx(N,{className:"space-y-2",children:s.politicalNetwork.international_contacts.map((t,a)=>e.jsx("div",{className:"text-sm p-2 bg-blue-50 dark:bg-blue-950 rounded",children:t},a))})]})]})})]})]})}function vd(){const{isAuthenticated:s}=Rt(),[t,a]=x.useState("overview");return s?e.jsxs("div",{className:"space-y-6",children:[e.jsx(nb,{}),e.jsxs(Ie,{value:t,onValueChange:a,className:"space-y-6",children:[e.jsxs(Se,{className:"grid w-full grid-cols-2 lg:grid-cols-4 gap-1",children:[e.jsxs(V,{value:"overview",className:"flex items-center justify-center space-x-1 lg:space-x-2 text-xs lg:text-sm p-2 lg:p-3",children:[e.jsx(Yt,{className:"w-3 h-3 lg:w-4 lg:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Overview"}),e.jsx("span",{className:"sm:hidden",children:"Home"})]}),e.jsxs(V,{value:"engagement",className:"flex items-center space-x-1 md:space-x-2 text-xs md:text-sm p-2 md:p-3",children:[e.jsx(Be,{className:"w-3 h-3 md:w-4 md:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Engagement"}),e.jsx("span",{className:"sm:hidden",children:"Vote"})]}),e.jsxs(V,{value:"intelligence",className:"flex items-center space-x-1 md:space-x-2 text-xs md:text-sm p-2 md:p-3",children:[e.jsx(Ce,{className:"w-3 h-3 md:w-4 md:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Intelligence"}),e.jsx("span",{className:"sm:hidden",children:"Intel"})]}),e.jsxs(V,{value:"legal",className:"flex items-center space-x-1 md:space-x-2 text-xs md:text-sm p-2 md:p-3",children:[e.jsx(X,{className:"w-3 h-3 md:w-4 md:h-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Legal"}),e.jsx("span",{className:"sm:hidden",children:"Law"})]})]}),e.jsx($,{value:"overview",className:"space-y-4 md:space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(ub,{}),e.jsx(xd,{}),e.jsx(fd,{}),e.jsx(pd,{})]})}),e.jsx($,{value:"engagement",className:"space-y-4 md:space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(xd,{}),e.jsx(fd,{})]})}),e.jsx($,{value:"intelligence",className:"space-y-4 md:space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(Nb,{}),e.jsx(bb,{})]})}),e.jsx($,{value:"legal",className:"space-y-4 md:space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(yb,{}),e.jsx(pd,{})]})})]})]}):e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsxs("div",{className:"text-center",children:[e.jsx(X,{className:"w-16 h-16 mx-auto mb-4 text-blue-600"}),e.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Authentication Required"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"Please log in to access your civic dashboard"})]})})}function Qo(s){const t=x.useRef({value:s,previous:s});return x.useMemo(()=>(t.current.value!==s&&(t.current.previous=t.current.value,t.current.value=s),t.current.previous),[s])}var wb=[" ","Enter","ArrowUp","ArrowDown"],Cb=[" ","Enter"],Ta="Select",[En,_n,Sb]=uu(Ta),[Cr,OP]=Ys(Ta,[Sb,mn]),In=mn(),[kb,Xs]=Cr(Ta),[Pb,Tb]=Cr(Ta),Vx=s=>{const{__scopeSelect:t,children:a,open:r,defaultOpen:i,onOpenChange:n,value:l,defaultValue:c,onValueChange:o,dir:d,name:h,autoComplete:u,disabled:m,required:p,form:j}=s,g=In(t),[f,w]=x.useState(null),[y,v]=x.useState(null),[A,C]=x.useState(!1),O=ju(d),[M,I]=or({prop:r,defaultProp:i??!1,onChange:n,caller:Ta}),[_,U]=or({prop:l,defaultProp:c,onChange:o,caller:Ta}),L=x.useRef(null),q=f?j||!!f.closest("form"):!0,[H,R]=x.useState(new Set),pe=Array.from(H).map(oe=>oe.props.value).join(";");return e.jsx(pu,{...g,children:e.jsxs(kb,{required:p,scope:t,trigger:f,onTriggerChange:w,valueNode:y,onValueNodeChange:v,valueNodeHasChildren:A,onValueNodeHasChildrenChange:C,contentId:xn(),value:_,onValueChange:U,open:M,onOpenChange:I,dir:O,triggerPointerDownPosRef:L,disabled:m,children:[e.jsx(En.Provider,{scope:t,children:e.jsx(Pb,{scope:s.__scopeSelect,onNativeOptionAdd:x.useCallback(oe=>{R(Z=>new Set(Z).add(oe))},[]),onNativeOptionRemove:x.useCallback(oe=>{R(Z=>{const ue=new Set(Z);return ue.delete(oe),ue})},[]),children:a})}),q?e.jsxs(df,{"aria-hidden":!0,required:p,tabIndex:-1,name:h,autoComplete:u,value:_,onChange:oe=>U(oe.target.value),disabled:m,form:j,children:[_===void 0?e.jsx("option",{value:""}):null,Array.from(H)]},pe):null]})})};Vx.displayName=Ta;var $x="SelectTrigger",Ux=x.forwardRef((s,t)=>{const{__scopeSelect:a,disabled:r=!1,...i}=s,n=In(a),l=Xs($x,a),c=l.disabled||r,o=De(t,l.onTriggerChange),d=_n(a),h=x.useRef("touch"),[u,m,p]=uf(g=>{const f=d().filter(v=>!v.disabled),w=f.find(v=>v.value===l.value),y=mf(f,g,w);y!==void 0&&l.onValueChange(y.value)}),j=g=>{c||(l.onOpenChange(!0),p()),g&&(l.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return e.jsx(gu,{asChild:!0,...n,children:e.jsx(he.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":hf(l.value)?"":void 0,...i,ref:o,onClick:se(i.onClick,g=>{g.currentTarget.focus(),h.current!=="mouse"&&j(g)}),onPointerDown:se(i.onPointerDown,g=>{h.current=g.pointerType;const f=g.target;f.hasPointerCapture(g.pointerId)&&f.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(j(g),g.preventDefault())}),onKeyDown:se(i.onKeyDown,g=>{const f=u.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&m(g.key),!(f&&g.key===" ")&&wb.includes(g.key)&&(j(),g.preventDefault())})})})});Ux.displayName=$x;var Bx="SelectValue",qx=x.forwardRef((s,t)=>{const{__scopeSelect:a,className:r,style:i,children:n,placeholder:l="",...c}=s,o=Xs(Bx,a),{onValueNodeHasChildrenChange:d}=o,h=n!==void 0,u=De(t,o.onValueNodeChange);return Pt(()=>{d(h)},[d,h]),e.jsx(he.span,{...c,ref:u,style:{pointerEvents:"none"},children:hf(o.value)?e.jsx(e.Fragment,{children:l}):n})});qx.displayName=Bx;var Ab="SelectIcon",zx=x.forwardRef((s,t)=>{const{__scopeSelect:a,children:r,...i}=s;return e.jsx(he.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});zx.displayName=Ab;var Rb="SelectPortal",Hx=s=>e.jsx(mu,{asChild:!0,...s});Hx.displayName=Rb;var Aa="SelectContent",Wx=x.forwardRef((s,t)=>{const a=Xs(Aa,s.__scopeSelect),[r,i]=x.useState();if(Pt(()=>{i(new DocumentFragment)},[]),!a.open){const n=r;return n?jn.createPortal(e.jsx(Kx,{scope:s.__scopeSelect,children:e.jsx(En.Slot,{scope:s.__scopeSelect,children:e.jsx("div",{children:s.children})})}),n):null}return e.jsx(Gx,{...s,ref:t})});Wx.displayName=Aa;var Bt=10,[Kx,Zs]=Cr(Aa),Eb="SelectContentImpl",_b=Gg("SelectContent.RemoveScroll"),Gx=x.forwardRef((s,t)=>{const{__scopeSelect:a,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:n,onPointerDownOutside:l,side:c,sideOffset:o,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:j,hideWhenDetached:g,avoidCollisions:f,...w}=s,y=Xs(Aa,a),[v,A]=x.useState(null),[C,O]=x.useState(null),M=De(t,ie=>A(ie)),[I,_]=x.useState(null),[U,L]=x.useState(null),q=_n(a),[H,R]=x.useState(!1),pe=x.useRef(!1);x.useEffect(()=>{if(v)return Hg(v)},[v]),Wg();const oe=x.useCallback(ie=>{const[Fe,...wt]=q().map(Te=>Te.ref.current),[Le]=wt.slice(-1),Pe=document.activeElement;for(const Te of ie)if(Te===Pe||(Te==null||Te.scrollIntoView({block:"nearest"}),Te===Fe&&C&&(C.scrollTop=0),Te===Le&&C&&(C.scrollTop=C.scrollHeight),Te==null||Te.focus(),document.activeElement!==Pe))return},[q,C]),Z=x.useCallback(()=>oe([I,v]),[oe,I,v]);x.useEffect(()=>{H&&Z()},[H,Z]);const{onOpenChange:ue,triggerPointerDownPosRef:F}=y;x.useEffect(()=>{if(v){let ie={x:0,y:0};const Fe=Le=>{var Pe,Te;ie={x:Math.abs(Math.round(Le.pageX)-(((Pe=F.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(Le.pageY)-(((Te=F.current)==null?void 0:Te.y)??0))}},wt=Le=>{ie.x<=10&&ie.y<=10?Le.preventDefault():v.contains(Le.target)||ue(!1),document.removeEventListener("pointermove",Fe),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Fe),document.addEventListener("pointerup",wt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Fe),document.removeEventListener("pointerup",wt,{capture:!0})}}},[v,ue,F]),x.useEffect(()=>{const ie=()=>ue(!1);return window.addEventListener("blur",ie),window.addEventListener("resize",ie),()=>{window.removeEventListener("blur",ie),window.removeEventListener("resize",ie)}},[ue]);const[Me,ke]=uf(ie=>{const Fe=q().filter(Pe=>!Pe.disabled),wt=Fe.find(Pe=>Pe.ref.current===document.activeElement),Le=mf(Fe,ie,wt);Le&&setTimeout(()=>Le.ref.current.focus())}),st=x.useCallback((ie,Fe,wt)=>{const Le=!pe.current&&!wt;(y.value!==void 0&&y.value===Fe||Le)&&(_(ie),Le&&(pe.current=!0))},[y.value]),Qe=x.useCallback(()=>v==null?void 0:v.focus(),[v]),ht=x.useCallback((ie,Fe,wt)=>{const Le=!pe.current&&!wt;(y.value!==void 0&&y.value===Fe||Le)&&L(ie)},[y.value]),Kt=r==="popper"?Yl:Qx,$t=Kt===Yl?{side:c,sideOffset:o,align:d,alignOffset:h,arrowPadding:u,collisionBoundary:m,collisionPadding:p,sticky:j,hideWhenDetached:g,avoidCollisions:f}:{};return e.jsx(Kx,{scope:a,content:v,viewport:C,onViewportChange:O,itemRefCallback:st,selectedItem:I,onItemLeave:Qe,itemTextRefCallback:ht,focusSelectedItem:Z,selectedItemText:U,position:r,isPositioned:H,searchRef:Me,children:e.jsx(Kg,{as:_b,allowPinchZoom:!0,children:e.jsx(Qg,{asChild:!0,trapped:y.open,onMountAutoFocus:ie=>{ie.preventDefault()},onUnmountAutoFocus:se(i,ie=>{var Fe;(Fe=y.trigger)==null||Fe.focus({preventScroll:!0}),ie.preventDefault()}),children:e.jsx(xu,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:n,onPointerDownOutside:l,onFocusOutside:ie=>ie.preventDefault(),onDismiss:()=>y.onOpenChange(!1),children:e.jsx(Kt,{role:"listbox",id:y.contentId,"data-state":y.open?"open":"closed",dir:y.dir,onContextMenu:ie=>ie.preventDefault(),...w,...$t,onPlaced:()=>R(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...w.style},onKeyDown:se(w.onKeyDown,ie=>{const Fe=ie.ctrlKey||ie.altKey||ie.metaKey;if(ie.key==="Tab"&&ie.preventDefault(),!Fe&&ie.key.length===1&&ke(ie.key),["ArrowUp","ArrowDown","Home","End"].includes(ie.key)){let Le=q().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(ie.key)&&(Le=Le.slice().reverse()),["ArrowUp","ArrowDown"].includes(ie.key)){const Pe=ie.target,Te=Le.indexOf(Pe);Le=Le.slice(Te+1)}setTimeout(()=>oe(Le)),ie.preventDefault()}})})})})})})});Gx.displayName=Eb;var Ib="SelectItemAlignedPosition",Qx=x.forwardRef((s,t)=>{const{__scopeSelect:a,onPlaced:r,...i}=s,n=Xs(Aa,a),l=Zs(Aa,a),[c,o]=x.useState(null),[d,h]=x.useState(null),u=De(t,M=>h(M)),m=_n(a),p=x.useRef(!1),j=x.useRef(!0),{viewport:g,selectedItem:f,selectedItemText:w,focusSelectedItem:y}=l,v=x.useCallback(()=>{if(n.trigger&&n.valueNode&&c&&d&&g&&f&&w){const M=n.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),_=n.valueNode.getBoundingClientRect(),U=w.getBoundingClientRect();if(n.dir!=="rtl"){const Pe=U.left-I.left,Te=_.left-Pe,sa=M.left-Te,aa=M.width+sa,Gn=Math.max(aa,I.width),Qn=window.innerWidth-Bt,Jn=Ql(Te,[Bt,Math.max(Bt,Qn-Gn)]);c.style.minWidth=aa+"px",c.style.left=Jn+"px"}else{const Pe=I.right-U.right,Te=window.innerWidth-_.right-Pe,sa=window.innerWidth-M.right-Te,aa=M.width+sa,Gn=Math.max(aa,I.width),Qn=window.innerWidth-Bt,Jn=Ql(Te,[Bt,Math.max(Bt,Qn-Gn)]);c.style.minWidth=aa+"px",c.style.right=Jn+"px"}const L=m(),q=window.innerHeight-Bt*2,H=g.scrollHeight,R=window.getComputedStyle(d),pe=parseInt(R.borderTopWidth,10),oe=parseInt(R.paddingTop,10),Z=parseInt(R.borderBottomWidth,10),ue=parseInt(R.paddingBottom,10),F=pe+oe+H+ue+Z,Me=Math.min(f.offsetHeight*5,F),ke=window.getComputedStyle(g),st=parseInt(ke.paddingTop,10),Qe=parseInt(ke.paddingBottom,10),ht=M.top+M.height/2-Bt,Kt=q-ht,$t=f.offsetHeight/2,ie=f.offsetTop+$t,Fe=pe+oe+ie,wt=F-Fe;if(Fe<=ht){const Pe=L.length>0&&f===L[L.length-1].ref.current;c.style.bottom="0px";const Te=d.clientHeight-g.offsetTop-g.offsetHeight,sa=Math.max(Kt,$t+(Pe?Qe:0)+Te+Z),aa=Fe+sa;c.style.height=aa+"px"}else{const Pe=L.length>0&&f===L[0].ref.current;c.style.top="0px";const sa=Math.max(ht,pe+g.offsetTop+(Pe?st:0)+$t)+wt;c.style.height=sa+"px",g.scrollTop=Fe-ht+g.offsetTop}c.style.margin=`${Bt}px 0`,c.style.minHeight=Me+"px",c.style.maxHeight=q+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[m,n.trigger,n.valueNode,c,d,g,f,w,n.dir,r]);Pt(()=>v(),[v]);const[A,C]=x.useState();Pt(()=>{d&&C(window.getComputedStyle(d).zIndex)},[d]);const O=x.useCallback(M=>{M&&j.current===!0&&(v(),y==null||y(),j.current=!1)},[v,y]);return e.jsx(Db,{scope:a,contentWrapper:c,shouldExpandOnScrollRef:p,onScrollButtonChange:O,children:e.jsx("div",{ref:o,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:e.jsx(he.div,{...i,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});Qx.displayName=Ib;var Mb="SelectPopperPosition",Yl=x.forwardRef((s,t)=>{const{__scopeSelect:a,align:r="start",collisionPadding:i=Bt,...n}=s,l=In(a);return e.jsx(fu,{...l,...n,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...n.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Yl.displayName=Mb;var[Db,Jo]=Cr(Aa,{}),Xl="SelectViewport",Jx=x.forwardRef((s,t)=>{const{__scopeSelect:a,nonce:r,...i}=s,n=Zs(Xl,a),l=Jo(Xl,a),c=De(t,n.onViewportChange),o=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),e.jsx(En.Slot,{scope:a,children:e.jsx(he.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:se(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:m}=l;if(m!=null&&m.current&&u){const p=Math.abs(o.current-h.scrollTop);if(p>0){const j=window.innerHeight-Bt*2,g=parseFloat(u.style.minHeight),f=parseFloat(u.style.height),w=Math.max(g,f);if(w<j){const y=w+p,v=Math.min(j,y),A=y-v;u.style.height=v+"px",u.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,u.style.justifyContent="flex-end")}}}o.current=h.scrollTop})})})]})});Jx.displayName=Xl;var Yx="SelectGroup",[Lb,Ob]=Cr(Yx),Fb=x.forwardRef((s,t)=>{const{__scopeSelect:a,...r}=s,i=xn();return e.jsx(Lb,{scope:a,id:i,children:e.jsx(he.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Fb.displayName=Yx;var Xx="SelectLabel",Zx=x.forwardRef((s,t)=>{const{__scopeSelect:a,...r}=s,i=Ob(Xx,a);return e.jsx(he.div,{id:i.id,...r,ref:t})});Zx.displayName=Xx;var sn="SelectItem",[Vb,ef]=Cr(sn),tf=x.forwardRef((s,t)=>{const{__scopeSelect:a,value:r,disabled:i=!1,textValue:n,...l}=s,c=Xs(sn,a),o=Zs(sn,a),d=c.value===r,[h,u]=x.useState(n??""),[m,p]=x.useState(!1),j=De(t,y=>{var v;return(v=o.itemRefCallback)==null?void 0:v.call(o,y,r,i)}),g=xn(),f=x.useRef("touch"),w=()=>{i||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(Vb,{scope:a,value:r,disabled:i,textId:g,isSelected:d,onItemTextChange:x.useCallback(y=>{u(v=>v||((y==null?void 0:y.textContent)??"").trim())},[]),children:e.jsx(En.ItemSlot,{scope:a,value:r,disabled:i,textValue:h,children:e.jsx(he.div,{role:"option","aria-labelledby":g,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:j,onFocus:se(l.onFocus,()=>p(!0)),onBlur:se(l.onBlur,()=>p(!1)),onClick:se(l.onClick,()=>{f.current!=="mouse"&&w()}),onPointerUp:se(l.onPointerUp,()=>{f.current==="mouse"&&w()}),onPointerDown:se(l.onPointerDown,y=>{f.current=y.pointerType}),onPointerMove:se(l.onPointerMove,y=>{var v;f.current=y.pointerType,i?(v=o.onItemLeave)==null||v.call(o):f.current==="mouse"&&y.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(l.onPointerLeave,y=>{var v;y.currentTarget===document.activeElement&&((v=o.onItemLeave)==null||v.call(o))}),onKeyDown:se(l.onKeyDown,y=>{var A;((A=o.searchRef)==null?void 0:A.current)!==""&&y.key===" "||(Cb.includes(y.key)&&w(),y.key===" "&&y.preventDefault())})})})})});tf.displayName=sn;var Vr="SelectItemText",sf=x.forwardRef((s,t)=>{const{__scopeSelect:a,className:r,style:i,...n}=s,l=Xs(Vr,a),c=Zs(Vr,a),o=ef(Vr,a),d=Tb(Vr,a),[h,u]=x.useState(null),m=De(t,w=>u(w),o.onItemTextChange,w=>{var y;return(y=c.itemTextRefCallback)==null?void 0:y.call(c,w,o.value,o.disabled)}),p=h==null?void 0:h.textContent,j=x.useMemo(()=>e.jsx("option",{value:o.value,disabled:o.disabled,children:p},o.value),[o.disabled,o.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:f}=d;return Pt(()=>(g(j),()=>f(j)),[g,f,j]),e.jsxs(e.Fragment,{children:[e.jsx(he.span,{id:o.textId,...n,ref:m}),o.isSelected&&l.valueNode&&!l.valueNodeHasChildren?jn.createPortal(n.children,l.valueNode):null]})});sf.displayName=Vr;var af="SelectItemIndicator",rf=x.forwardRef((s,t)=>{const{__scopeSelect:a,...r}=s;return ef(af,a).isSelected?e.jsx(he.span,{"aria-hidden":!0,...r,ref:t}):null});rf.displayName=af;var Zl="SelectScrollUpButton",nf=x.forwardRef((s,t)=>{const a=Zs(Zl,s.__scopeSelect),r=Jo(Zl,s.__scopeSelect),[i,n]=x.useState(!1),l=De(t,r.onScrollButtonChange);return Pt(()=>{if(a.viewport&&a.isPositioned){let c=function(){const d=o.scrollTop>0;n(d)};const o=a.viewport;return c(),o.addEventListener("scroll",c),()=>o.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),i?e.jsx(of,{...s,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:o}=a;c&&o&&(c.scrollTop=c.scrollTop-o.offsetHeight)}}):null});nf.displayName=Zl;var eo="SelectScrollDownButton",lf=x.forwardRef((s,t)=>{const a=Zs(eo,s.__scopeSelect),r=Jo(eo,s.__scopeSelect),[i,n]=x.useState(!1),l=De(t,r.onScrollButtonChange);return Pt(()=>{if(a.viewport&&a.isPositioned){let c=function(){const d=o.scrollHeight-o.clientHeight,h=Math.ceil(o.scrollTop)<d;n(h)};const o=a.viewport;return c(),o.addEventListener("scroll",c),()=>o.removeEventListener("scroll",c)}},[a.viewport,a.isPositioned]),i?e.jsx(of,{...s,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:o}=a;c&&o&&(c.scrollTop=c.scrollTop+o.offsetHeight)}}):null});lf.displayName=eo;var of=x.forwardRef((s,t)=>{const{__scopeSelect:a,onAutoScroll:r,...i}=s,n=Zs("SelectScrollButton",a),l=x.useRef(null),c=_n(a),o=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>o(),[o]),Pt(()=>{var h;const d=c().find(u=>u.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[c]),e.jsx(he.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:se(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:se(i.onPointerMove,()=>{var d;(d=n.onItemLeave)==null||d.call(n),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:se(i.onPointerLeave,()=>{o()})})}),$b="SelectSeparator",cf=x.forwardRef((s,t)=>{const{__scopeSelect:a,...r}=s;return e.jsx(he.div,{"aria-hidden":!0,...r,ref:t})});cf.displayName=$b;var to="SelectArrow",Ub=x.forwardRef((s,t)=>{const{__scopeSelect:a,...r}=s,i=In(a),n=Xs(to,a),l=Zs(to,a);return n.open&&l.position==="popper"?e.jsx(vu,{...i,...r,ref:t}):null});Ub.displayName=to;var Bb="SelectBubbleInput",df=x.forwardRef(({__scopeSelect:s,value:t,...a},r)=>{const i=x.useRef(null),n=De(r,i),l=Qo(t);return x.useEffect(()=>{const c=i.current;if(!c)return;const o=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(o,"value").set;if(l!==t&&h){const u=new Event("change",{bubbles:!0});h.call(c,t),c.dispatchEvent(u)}},[l,t]),e.jsx(he.select,{...a,style:{...sm,...a.style},ref:n,defaultValue:t})});df.displayName=Bb;function hf(s){return s===""||s===void 0}function uf(s){const t=Ct(s),a=x.useRef(""),r=x.useRef(0),i=x.useCallback(l=>{const c=a.current+l;t(c),function o(d){a.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>o(""),1e3))}(c)},[t]),n=x.useCallback(()=>{a.current="",window.clearTimeout(r.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(r.current),[]),[a,i,n]}function mf(s,t,a){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,n=a?s.indexOf(a):-1;let l=qb(s,Math.max(n,0));i.length===1&&(l=l.filter(d=>d!==a));const o=l.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return o!==a?o:void 0}function qb(s,t){return s.map((a,r)=>s[(t+r)%s.length])}var zb=Vx,xf=Ux,Hb=qx,Wb=zx,Kb=Hx,ff=Wx,Gb=Jx,pf=Zx,gf=tf,Qb=sf,Jb=rf,vf=nf,jf=lf,yf=cf;const ge=zb,ve=Hb,xe=x.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(xf,{ref:r,className:W("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...a,children:[t,e.jsx(Wb,{asChild:!0,children:e.jsx(fi,{className:"h-4 w-4 opacity-50"})})]}));xe.displayName=xf.displayName;const bf=x.forwardRef(({className:s,...t},a)=>e.jsx(vf,{ref:a,className:W("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(km,{className:"h-4 w-4"})}));bf.displayName=vf.displayName;const Nf=x.forwardRef(({className:s,...t},a)=>e.jsx(jf,{ref:a,className:W("flex cursor-default items-center justify-center py-1",s),...t,children:e.jsx(fi,{className:"h-4 w-4"})}));Nf.displayName=jf.displayName;const fe=x.forwardRef(({className:s,children:t,position:a="popper",...r},i)=>e.jsx(Kb,{children:e.jsxs(ff,{ref:i,className:W("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:a,...r,children:[e.jsx(bf,{}),e.jsx(Gb,{className:W("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),e.jsx(Nf,{})]})}));fe.displayName=ff.displayName;const Yb=x.forwardRef(({className:s,...t},a)=>e.jsx(pf,{ref:a,className:W("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...t}));Yb.displayName=pf.displayName;const D=x.forwardRef(({className:s,children:t,...a},r)=>e.jsxs(gf,{ref:r,className:W("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Jb,{children:e.jsx(wn,{className:"h-4 w-4"})})}),e.jsx(Qb,{children:t})]}));D.displayName=gf.displayName;const Xb=x.forwardRef(({className:s,...t},a)=>e.jsx(yf,{ref:a,className:W("-mx-1 my-1 h-px bg-muted",s),...t}));Xb.displayName=yf.displayName;function et(s){const t=Object.prototype.toString.call(s);return s instanceof Date||typeof s=="object"&&t==="[object Date]"?new s.constructor(+s):typeof s=="number"||t==="[object Number]"||typeof s=="string"||t==="[object String]"?new Date(s):new Date(NaN)}function Zb(s,t){return s instanceof Date?new s.constructor(t):new Date(t)}const Ai=43200,jd=1440;let eN={};function tN(){return eN}function yd(s){const t=et(s),a=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return a.setUTCFullYear(t.getFullYear()),+s-+a}function qi(s,t){const a=et(s),r=et(t),i=a.getTime()-r.getTime();return i<0?-1:i>0?1:i}function sN(s){return Zb(s,Date.now())}function aN(s,t){const a=et(s),r=et(t),i=a.getFullYear()-r.getFullYear(),n=a.getMonth()-r.getMonth();return i*12+n}function rN(s){return t=>{const r=(s?Math[s]:Math.trunc)(t);return r===0?0:r}}function iN(s,t){return+et(s)-+et(t)}function nN(s){const t=et(s);return t.setHours(23,59,59,999),t}function lN(s){const t=et(s),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function oN(s){const t=et(s);return+nN(t)==+lN(t)}function cN(s,t){const a=et(s),r=et(t),i=qi(a,r),n=Math.abs(aN(a,r));let l;if(n<1)l=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-i*n);let c=qi(a,r)===-i;oN(et(s))&&n===1&&qi(s,r)===1&&(c=!1),l=i*(n-Number(c))}return l===0?0:l}function dN(s,t,a){const r=iN(s,t)/1e3;return rN(a==null?void 0:a.roundingMethod)(r)}const hN={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},uN=(s,t,a)=>{let r;const i=hN[s];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),a!=null&&a.addSuffix?a.comparison&&a.comparison>0?"in "+r:r+" ago":r};function ll(s){return(t={})=>{const a=t.width?String(t.width):s.defaultWidth;return s.formats[a]||s.formats[s.defaultWidth]}}const mN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},fN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},pN={date:ll({formats:mN,defaultWidth:"full"}),time:ll({formats:xN,defaultWidth:"full"}),dateTime:ll({formats:fN,defaultWidth:"full"})},gN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},vN=(s,t,a,r)=>gN[s];function Ir(s){return(t,a)=>{const r=a!=null&&a.context?String(a.context):"standalone";let i;if(r==="formatting"&&s.formattingValues){const l=s.defaultFormattingWidth||s.defaultWidth,c=a!=null&&a.width?String(a.width):l;i=s.formattingValues[c]||s.formattingValues[l]}else{const l=s.defaultWidth,c=a!=null&&a.width?String(a.width):s.defaultWidth;i=s.values[c]||s.values[l]}const n=s.argumentCallback?s.argumentCallback(t):t;return i[n]}}const jN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},yN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},bN={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},NN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},wN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},CN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},SN=(s,t)=>{const a=Number(s),r=a%100;if(r>20||r<10)switch(r%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},kN={ordinalNumber:SN,era:Ir({values:jN,defaultWidth:"wide"}),quarter:Ir({values:yN,defaultWidth:"wide",argumentCallback:s=>s-1}),month:Ir({values:bN,defaultWidth:"wide"}),day:Ir({values:NN,defaultWidth:"wide"}),dayPeriod:Ir({values:wN,defaultWidth:"wide",formattingValues:CN,defaultFormattingWidth:"wide"})};function Mr(s){return(t,a={})=>{const r=a.width,i=r&&s.matchPatterns[r]||s.matchPatterns[s.defaultMatchWidth],n=t.match(i);if(!n)return null;const l=n[0],c=r&&s.parsePatterns[r]||s.parsePatterns[s.defaultParseWidth],o=Array.isArray(c)?TN(c,u=>u.test(l)):PN(c,u=>u.test(l));let d;d=s.valueCallback?s.valueCallback(o):o,d=a.valueCallback?a.valueCallback(d):d;const h=t.slice(l.length);return{value:d,rest:h}}}function PN(s,t){for(const a in s)if(Object.prototype.hasOwnProperty.call(s,a)&&t(s[a]))return a}function TN(s,t){for(let a=0;a<s.length;a++)if(t(s[a]))return a}function AN(s){return(t,a={})=>{const r=t.match(s.matchPattern);if(!r)return null;const i=r[0],n=t.match(s.parsePattern);if(!n)return null;let l=s.valueCallback?s.valueCallback(n[0]):n[0];l=a.valueCallback?a.valueCallback(l):l;const c=t.slice(i.length);return{value:l,rest:c}}}const RN=/^(\d+)(th|st|nd|rd)?/i,EN=/\d+/i,_N={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},IN={any:[/^b/i,/^(a|c)/i]},MN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},DN={any:[/1/i,/2/i,/3/i,/4/i]},LN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ON={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},FN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},$N={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},UN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},BN={ordinalNumber:AN({matchPattern:RN,parsePattern:EN,valueCallback:s=>parseInt(s,10)}),era:Mr({matchPatterns:_N,defaultMatchWidth:"wide",parsePatterns:IN,defaultParseWidth:"any"}),quarter:Mr({matchPatterns:MN,defaultMatchWidth:"wide",parsePatterns:DN,defaultParseWidth:"any",valueCallback:s=>s+1}),month:Mr({matchPatterns:LN,defaultMatchWidth:"wide",parsePatterns:ON,defaultParseWidth:"any"}),day:Mr({matchPatterns:FN,defaultMatchWidth:"wide",parsePatterns:VN,defaultParseWidth:"any"}),dayPeriod:Mr({matchPatterns:$N,defaultMatchWidth:"any",parsePatterns:UN,defaultParseWidth:"any"})},qN={code:"en-US",formatDistance:uN,formatLong:pN,formatRelative:vN,localize:kN,match:BN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function zN(s,t,a){const r=tN(),i=(a==null?void 0:a.locale)??r.locale??qN,n=2520,l=qi(s,t);if(isNaN(l))throw new RangeError("Invalid time value");const c=Object.assign({},a,{addSuffix:a==null?void 0:a.addSuffix,comparison:l});let o,d;l>0?(o=et(t),d=et(s)):(o=et(s),d=et(t));const h=dN(d,o),u=(yd(d)-yd(o))/1e3,m=Math.round((h-u)/60);let p;if(m<2)return a!=null&&a.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,c):h<10?i.formatDistance("lessThanXSeconds",10,c):h<20?i.formatDistance("lessThanXSeconds",20,c):h<40?i.formatDistance("halfAMinute",0,c):h<60?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",1,c):m===0?i.formatDistance("lessThanXMinutes",1,c):i.formatDistance("xMinutes",m,c);if(m<45)return i.formatDistance("xMinutes",m,c);if(m<90)return i.formatDistance("aboutXHours",1,c);if(m<jd){const j=Math.round(m/60);return i.formatDistance("aboutXHours",j,c)}else{if(m<n)return i.formatDistance("xDays",1,c);if(m<Ai){const j=Math.round(m/jd);return i.formatDistance("xDays",j,c)}else if(m<Ai*2)return p=Math.round(m/Ai),i.formatDistance("aboutXMonths",p,c)}if(p=cN(d,o),p<12){const j=Math.round(m/Ai);return i.formatDistance("xMonths",j,c)}else{const j=p%12,g=Math.trunc(p/12);return j<3?i.formatDistance("aboutXYears",g,c):j<9?i.formatDistance("overXYears",g,c):i.formatDistance("almostXYears",g+1,c)}}function bd(s,t){return zN(s,sN(s),t)}function Nd(s){return s&&typeof s=="object"&&typeof s.id=="number"&&typeof s.content=="string"}function HN({targetType:s,targetId:t}){const{user:a}=Rt(),{toast:r}=dt(),i=ss(),[n,l]=x.useState(""),[c,o]=x.useState(null),[d,h]=x.useState(""),[u,m]=x.useState(null),[p,j]=x.useState([]),{data:g=[],isLoading:f,error:w,refetch:y}=Q({queryKey:["comments",s,t],queryFn:async()=>{const H=await ye(`/api/comments/${s}/${t}`);return Array.isArray(H)?H:[]},retry:1,refetchOnWindowFocus:!1});w&&console.error("Comments query error:",w);const v=Ne({mutationFn:async H=>await ye(`/api/comments/${s}/${t}`,"POST",{content:H}),onSuccess:()=>{l(""),y(),i.invalidateQueries({queryKey:["comments",s,t]}),r({title:"Success",description:"Comment posted successfully"})},onError:H=>{console.error("Comment error:",H),r({title:"Error",description:H.message||"Failed to post comment",variant:"destructive"})}}),A=Ne({mutationFn:async H=>await ye(`/api/comments/${H}`,"DELETE"),onSuccess:()=>{y(),i.invalidateQueries({queryKey:["comments",s,t]}),r({title:"Success",description:"Comment deleted successfully"})},onError:H=>{r({title:"Error",description:H.message||"Failed to delete comment",variant:"destructive"})}}),C=Ne({mutationFn:async({commentId:H,vote:R})=>await ye("/api/vote","POST",{targetType:"comment",targetId:H,vote:R}),onSuccess:()=>{y(),i.invalidateQueries({queryKey:["comments",s,t]})},onError:H=>{r({title:"Error",description:H.message||"Failed to vote on comment",variant:"destructive"})}}),O=Ne({mutationFn:({commentId:H,content:R})=>ye(`/api/comments/${H}`,"PUT",{content:R}),onSuccess:()=>{o(null),h(""),i.invalidateQueries({queryKey:["comments",s,t]}),r({title:"Success",description:"Comment updated successfully"})},onError:H=>{r({title:"Error",description:H.message||"Failed to update comment",variant:"destructive"})}}),M=()=>{if(!a){r({title:"Login Required",description:"Please log in to post comments",variant:"destructive"});return}if(!n.trim()){r({title:"Empty Comment",description:"Please enter a comment before posting",variant:"destructive"});return}v.mutate(n.trim())},I=H=>{o(H.id),h(H.content)},_=()=>{o(null),h("")},U=H=>{if(!d.trim()){r({title:"Error",description:"Comment cannot be empty",variant:"destructive"});return}O.mutate({commentId:H,content:d.trim()})},L=async H=>{try{const R=await ye(`/api/comments/history/${H}`);j(R),m(H)}catch{r({title:"Error",description:"Failed to load edit history",variant:"destructive"})}},q=H=>{var oe,Z;const R=H;if(!R||!R.id)return null;const pe=c===R.id;return a&&(String(R.author_id)===String(a.id)||a.id),e.jsxs("div",{className:"border-b border-gray-100 dark:border-gray-800 last:border-b-0 pb-4 last:pb-0",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-sm font-medium",children:((oe=R.first_name)==null?void 0:oe.charAt(0))||((Z=R.email)==null?void 0:Z.charAt(0))||"?"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsxs("span",{className:"font-medium text-gray-900 dark:text-white",children:[R.first_name||"User"," ",R.last_name||""]}),e.jsx("span",{className:"text-xs text-gray-500",children:bd(new Date(R.created_at),{addSuffix:!0})}),R.is_edited&&e.jsxs("span",{className:"text-xs text-gray-400 italic",children:["(edited ",R.edit_count&&R.edit_count>1?`${R.edit_count} times`:"",")"]})]}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>I(R),className:"text-xs px-2 py-1 h-auto text-blue-600 hover:text-blue-700",children:"Edit"}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>{confirm("Are you sure you want to delete this comment?")&&A.mutate(R.id)},className:"text-xs px-2 py-1 h-auto text-red-600 hover:text-red-700",disabled:A.isPending,children:A.isPending?"Deleting...":"Delete"}),R.is_edited&&R.edit_count&&R.edit_count>0&&e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>L(R.id),className:"text-xs px-2 py-1 h-auto text-purple-600 hover:text-purple-700",children:"History"})]})]}),pe?e.jsxs("div",{className:"mb-2",children:[e.jsx(Gs,{value:d,onChange:ue=>h(ue.target.value),placeholder:"Edit your comment...",className:"mb-2",rows:3}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(E,{size:"sm",onClick:()=>U(R.id),disabled:!d.trim()||O.isPending,children:"Save"}),e.jsx(E,{size:"sm",variant:"outline",onClick:_,children:"Cancel"})]})]}):e.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm mb-2",children:R.content}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[e.jsxs("button",{onClick:()=>C.mutate({commentId:R.id,vote:"up"}),className:"flex items-center space-x-1 hover:text-blue-600 transition-colors",disabled:C.isPending,children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["Like (",R.like_count||0,")"]})]}),e.jsxs("button",{onClick:()=>C.mutate({commentId:R.id,vote:"down"}),className:"flex items-center space-x-1 hover:text-red-600 transition-colors",disabled:C.isPending,children:[e.jsx("span",{children:""}),e.jsx("span",{children:"Dislike"})]}),e.jsx("button",{className:"hover:text-blue-600 transition-colors",children:"Reply"})]})]})]}),R.replies&&R.replies.length>0&&e.jsx("div",{className:"ml-11 mt-4 space-y-4",children:R.replies.filter(Nd).map(q)})]},R.id)};return!s||!t?null:e.jsxs("div",{className:"mt-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"w-5 h-5"}),e.jsxs("span",{children:["Comments (",Array.isArray(g)?g.length:0,")"]})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(Gs,{placeholder:a?"Share your thoughts...":"Please log in to comment",value:n,onChange:H=>l(H.target.value),disabled:!a,className:"min-h-[100px]"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-gray-500",children:a?"All comments are moderated for quality":"Login required to participate"}),e.jsx(E,{onClick:M,disabled:!a||!n.trim()||v.isPending,children:v.isPending?"Posting...":"Post Comment"})]})]}),f?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Loading comments..."})]}):w?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(bt,{className:"w-12 h-12 text-red-400 mx-auto mb-3"}),e.jsx("h3",{className:"font-medium text-red-900 mb-1",children:"Error loading comments"}),e.jsx("p",{className:"text-red-500",children:"Please try refreshing the page"})]}):!Array.isArray(g)||g.length===0?e.jsxs("div",{className:"text-center py-8",children:[e.jsx(bt,{className:"w-12 h-12 text-gray-400 mx-auto mb-3"}),e.jsx("h3",{className:"font-medium text-gray-900 mb-1",children:"No comments yet"}),e.jsx("p",{className:"text-gray-500",children:"Be the first to share your thoughts!"})]}):e.jsx("div",{className:"space-y-4",children:g.filter(Nd).map(H=>q(H))})]})]}),e.jsx(Ks,{open:u!==null,onOpenChange:()=>m(null),children:e.jsxs(vs,{className:"max-w-2xl max-h-96 overflow-y-auto",children:[e.jsx(js,{children:e.jsx(ys,{children:"Comment Edit History"})}),e.jsx("div",{className:"space-y-4",children:p.map((H,R)=>e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-sm font-medium",children:["Edit #",H.edit_number,R===0&&e.jsx("span",{className:"text-green-600 ml-2",children:"(Current)"})]}),e.jsx("span",{className:"text-xs text-gray-500",children:bd(new Date(H.edited_at),{addSuffix:!0})})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-800 p-2 rounded",children:R===0?H.current_content:H.original_content})]},H.id))})]})})]})}function Ra({targetType:s,targetId:t,title:a,description:r,showVoting:i=!0,showComments:n=!0,showSharing:l=!0}){Rt();const{toast:c}=dt();ss();const o=async()=>{try{await navigator.share({title:a,text:r,url:window.location.href})}catch{navigator.clipboard.writeText(window.location.href),c({title:"Link copied",description:"The link has been copied to your clipboard."})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[i&&e.jsx(Pa,{targetType:s,targetId:Number(t),size:"md"}),l&&e.jsxs(E,{variant:"outline",size:"sm",onClick:o,className:"flex items-center space-x-2",children:[e.jsx(Yi,{className:"w-4 h-4"}),e.jsx("span",{children:"Share"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(bt,{className:"w-4 h-4"}),e.jsx("span",{children:"Discussion"})]})]}),n&&e.jsx(HN,{targetType:s,targetId:Number(t)})]})}function WN(){var g;const[s,t]=x.useState(""),[a,r]=x.useState("all"),[i,n]=x.useState("all"),[l,c]=x.useState(null),{data:o=[],isLoading:d}=Q({queryKey:["/api/bills"]}),{data:h}=Q({queryKey:["/api/voting/stats"]}),u=o.filter(f=>{var A,C;const w=((A=f.title)==null?void 0:A.toLowerCase().includes(s.toLowerCase()))||((C=f.billNumber)==null?void 0:C.toLowerCase().includes(s.toLowerCase())),y=a==="all"||f.status===a,v=i==="all"||f.jurisdiction===i;return w&&y&&v}),m=f=>{switch(f.toLowerCase()){case"royal assent":case"passed":return"bg-green-600";case"in committee":case"second reading":return"bg-blue-600";case"first reading":return"bg-yellow-600";case"defeated":case"withdrawn":return"bg-red-600";default:return"bg-gray-600"}},p=f=>{switch(f.toLowerCase()){case"royal assent":case"passed":return e.jsx(z,{className:"w-4 h-4"});case"in committee":case"second reading":return e.jsx(tt,{className:"w-4 h-4"});case"first reading":return e.jsx(ce,{className:"w-4 h-4"});case"defeated":case"withdrawn":return e.jsx(hs,{className:"w-4 h-4"});default:return e.jsx(Be,{className:"w-4 h-4"})}},j=f=>{switch(f.toLowerCase()){case"federal":return e.jsx(hr,{className:"w-4 h-4"});case"provincial":return e.jsx(us,{className:"w-4 h-4"});default:return e.jsx(ce,{className:"w-4 h-4"})}};return d?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400",children:"Loading legislative voting data..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-serif text-slate-900 dark:text-slate-100",children:"Legislative Voting System"}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Track and participate in democratic decision-making on ",o.length," active bills"]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:[e.jsx(Be,{className:"w-3 h-3 mr-1"}),o.length," Bills"]}),e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Live Tracking"]})]})]}),h&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:((g=h==null?void 0:h.totalVotes)==null?void 0:g.toLocaleString())||"0"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Votes Cast"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:h!=null&&h.activeUsers?h.activeUsers.toLocaleString():"0"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Active Participants"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:[(h==null?void 0:h.engagementRate)||0,"%"]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Engagement Rate"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-5 h-5 text-emerald-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:[(h==null?void 0:h.consensusRate)||0,"%"]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Consensus Rate"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),e.jsx(te,{placeholder:"Search bills by title or number...",value:s,onChange:f=>t(f.target.value),className:"pl-10 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(ve,{placeholder:"Filter by status"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Statuses"}),e.jsx(D,{value:"First Reading",children:"First Reading"}),e.jsx(D,{value:"Second Reading",children:"Second Reading"}),e.jsx(D,{value:"In Committee",children:"In Committee"}),e.jsx(D,{value:"Third Reading",children:"Third Reading"}),e.jsx(D,{value:"Royal Assent",children:"Royal Assent"})]})]}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(ve,{placeholder:"Filter by jurisdiction"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Jurisdictions"}),e.jsx(D,{value:"Federal",children:"Federal"}),e.jsx(D,{value:"Provincial",children:"Provincial"}),e.jsx(D,{value:"Municipal",children:"Municipal"})]})]}),e.jsxs(E,{variant:"outline",className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[e.jsx(Pm,{className:"w-4 h-4 mr-2"}),"Advanced Filters"]})]})]}),l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(E,{variant:"outline",onClick:()=>c(null),className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:" Back to Bills"}),e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:[l.billNumber," - ",l.title||"Unknown Bill"]})]}),e.jsxs(Ie,{defaultValue:"overview",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[e.jsx(V,{value:"overview",children:"Overview"}),e.jsx(V,{value:"voting",children:"Voting"}),e.jsx(V,{value:"timeline",children:"Timeline"}),e.jsx(V,{value:"analysis",children:"Analysis"})]}),e.jsx($,{value:"overview",className:"space-y-6 mt-6",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{children:"Bill Summary"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:l.description||"No description available."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Bill Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Number:"}),e.jsx("span",{className:"font-medium",children:l.billNumber||"Unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Status:"}),e.jsx(k,{className:`text-white ${m(l.status||"unknown")}`,children:l.status||"Unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Jurisdiction:"}),e.jsx("span",{className:"font-medium",children:l.jurisdiction||"Unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Category:"}),e.jsx("span",{className:"font-medium",children:l.category||"General"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Timeline"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Introduced:"}),e.jsx("span",{className:"font-medium",children:l.dateIntroduced?new Date(l.dateIntroduced).toLocaleDateString():"Unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Last Updated:"}),e.jsx("span",{className:"font-medium",children:l.updatedAt?new Date(l.updatedAt).toLocaleDateString():"Unknown"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Sponsor:"}),e.jsx("span",{className:"font-medium",children:l.sponsor||"Unknown"})]})]})]})]})]})})]})}),e.jsx($,{value:"voting",className:"space-y-6 mt-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Public Voting"}),e.jsx(G,{children:"Cast your vote and see how the community responds to this legislation"})]}),e.jsx(N,{children:e.jsx(Pa,{targetType:"bill",targetId:l.id,size:"lg"})})]})}),e.jsx($,{value:"timeline",className:"space-y-6 mt-6",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{children:"Legislative Timeline"})}),e.jsx(N,{children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 text-center",children:[e.jsx(tt,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Timeline Loading"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:"Legislative timeline and procedural history is being compiled from official parliamentary records."})]})})]})}),e.jsx($,{value:"analysis",className:"space-y-6 mt-6",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{children:"Impact Analysis"})}),e.jsx(N,{children:e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-6 text-center",children:[e.jsx(gs,{className:"w-12 h-12 text-purple-500 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-purple-900 dark:text-purple-100 mb-2",children:"Analysis in Progress"}),e.jsx("p",{className:"text-purple-700 dark:text-purple-300 text-sm",children:"Comprehensive impact analysis including economic, social, and legal implications is being generated."})]})})]})})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Ra,{targetType:"bill",targetId:l.id,title:`${l.billNumber||"Unknown"} - ${l.title||"Unknown Bill"}`,description:l.description||void 0,showVoting:!0,showComments:!0,showSharing:!0})})]}):e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[u.map(f=>e.jsxs(b,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600",onClick:()=>c(f),children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[j(f.jurisdiction||"unknown"),e.jsxs("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:[f.billNumber," - ",f.title||"Unknown Bill"]})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:f.description||"No description available."})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs(k,{className:`text-white text-sm ${m(f.status||"unknown")}`,children:[p(f.status||"unknown"),e.jsx("span",{className:"ml-1",children:f.status||"Unknown"})]}),e.jsx(k,{variant:"outline",className:"text-xs",children:f.jurisdiction||"Unknown Jurisdiction"})]})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Introduced:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:f.dateIntroduced?new Date(f.dateIntroduced).toLocaleDateString():"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Sponsor:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:f.sponsor||"Unknown"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Category:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:f.category||"General"})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsx(Pa,{targetType:"bill",targetId:f.id}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>c(f),children:"View Details "})]})]})]},f.id)),u.length===0&&e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsxs(N,{className:"p-8 text-center",children:[e.jsx(ae,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"No Bills Found"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No bills match your current filter criteria. Try adjusting your search terms or filters."})]})})]})]})})}const KN=s=>new Date(s).toLocaleDateString("en-CA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});function GN(){const{isAuthenticated:s,isLoading:t}=Rt();x.useEffect(()=>{!t&&!s&&(window.location.href="/auth")},[s,t]);const{data:a,isLoading:r}=Q({queryKey:["/api/civic-ledger"],enabled:s}),i=x.useMemo(()=>{if(a){const{votes:c=[],petitions:o=[],activities:d=[]}=a,h=c.map(p=>({id:`vote-${p.id}`,action:`Voted ${p.voteValue===1?"Yes":p.voteValue===-1?"No":"Abstain"}`,target:`${p.itemType||"Item"} ${p.itemId}`,date:p.timestamp,points:10,type:"vote",details:p.reasoning||"No reasoning provided"})),u=o.map(p=>{var j,g,f;return{id:`petition-${p.id}`,action:"Signed Petition",target:((j=p.petition)==null?void 0:j.title)||"Unknown Petition",date:p.signedAt,points:5,type:"petition",details:`${((g=p.petition)==null?void 0:g.currentSignatures)||0}/${((f=p.petition)==null?void 0:f.targetSignatures)||0} signatures`}}),m=d.map(p=>({id:`activity-${p.id}`,action:p.activityType,target:`${p.entityType||"Item"} ${p.entityId}`,date:p.createdAt,points:p.pointsEarned||0,type:p.activityType,details:p.details?JSON.stringify(p.details):"No details available"}));return[...h,...u,...m].sort((p,j)=>new Date(j.date).getTime()-new Date(p.date).getTime())}return[]},[a]),n=c=>{switch(c){case"vote":return e.jsx(Be,{className:"h-4 w-4"});case"petition":return e.jsx(ce,{className:"h-4 w-4"});default:return e.jsx(X,{className:"h-4 w-4"})}},l=c=>{switch(c){case"vote":return"bg-green-100 text-green-800";case"petition":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}};return t||r?e.jsxs("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-8",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Civic Ledger"}),e.jsx("p",{className:"text-gray-600",children:"Loading your civic ledger..."})]}),e.jsx("div",{className:"flex items-center justify-center h-96",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading your civic ledger..."})]})})]}):s?e.jsx("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-8",children:e.jsxs("main",{className:"container mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Civic Ledger"}),e.jsx("p",{className:"text-gray-600",children:"Complete history of your democratic participation and civic engagement"})]}),(a==null?void 0:a.summary)&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[e.jsx(b,{children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(Ee,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.summary.totalActivities}),e.jsx("p",{className:"text-sm text-gray-600",children:"Total Actions"})]})}),e.jsx(b,{children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(Be,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.summary.totalVotes}),e.jsx("p",{className:"text-sm text-gray-600",children:"Votes Cast"})]})}),e.jsx(b,{children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(ce,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.summary.totalPetitions}),e.jsx("p",{className:"text-sm text-gray-600",children:"Petitions Signed"})]})}),e.jsx(b,{children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsx(X,{className:"h-8 w-8 text-indigo-600 mx-auto mb-2"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:a.summary.totalPoints}),e.jsx("p",{className:"text-sm text-gray-600",children:"Civic Points"})]})})]}),e.jsx(b,{className:"mb-8 bg-civic-green text-white",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(X,{className:"text-2xl mr-4 mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Cryptographic Security"}),e.jsx("p",{className:"text-sm opacity-90",children:"Every vote is secured with a unique verification ID and block hash. This ensures your votes cannot be tampered with or deleted."})]})]})})}),i.length===0?e.jsx(b,{children:e.jsxs(N,{className:"p-12 text-center",children:[e.jsx(ts,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No Civic Activity"}),e.jsx("p",{className:"text-center text-muted-foreground mt-8",children:"You haven't participated in any civic activities yet. Visit the Active Legislation page to start voting."}),e.jsx(E,{className:"bg-civic-blue hover:bg-blue-700",children:"View Active Bills"})]})}):e.jsx("div",{className:"space-y-4",children:i.map(c=>e.jsx(b,{className:"hover:shadow-md transition-shadow",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center mb-2",children:[e.jsxs(k,{className:`mr-2 flex items-center ${l(c.type)}`,children:[n(c.type),e.jsx("span",{className:"ml-1",children:c.type})]}),e.jsx("h3",{className:"font-semibold text-gray-900",children:c.action})]}),e.jsxs("p",{className:"text-gray-600 text-sm mb-3",children:["Target: ",c.target]}),c.details&&e.jsx("div",{className:"bg-gray-50 p-3 rounded-lg mb-3",children:e.jsxs("p",{className:"text-sm text-gray-700",children:[e.jsx("strong",{children:"Details:"})," ",c.details]})}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500 space-x-4",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(Ge,{className:"h-4 w-4 mr-1"}),KN(c.date)]}),e.jsxs("span",{className:"flex items-center text-green-600",children:[e.jsx(X,{className:"h-4 w-4 mr-1"}),"+",c.points," points"]})]})]}),e.jsx("div",{className:"flex items-center space-x-2 mt-4 lg:mt-0",children:e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Fo,{className:"h-4 w-4 mr-1"}),"Receipt"]})})]})})},c.id))})]})}):null}function QN(){var A;const{user:s,isAuthenticated:t,isLoading:a}=Rt(),{toast:r}=dt(),[i,n]=x.useState(""),[l,c]=x.useState("all"),[o,d]=x.useState("all"),[h,u]=x.useState("all"),[m,p]=x.useState(null);x.useEffect(()=>{!a&&!t&&(r({title:"Authentication Required",description:"You need to be logged in to view politician data.",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},1e3))},[t,a,r]);const{data:j=[],isLoading:g,error:f,refetch:w}=Q({queryKey:["/api/politicians",{search:i,level:l,party:o,province:h}],enabled:t,retry:1,refetchOnWindowFocus:!1});if(a)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Verifying authentication..."})]})});if(!t)return e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs(b,{className:"max-w-md mx-auto",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center",children:[e.jsx(Ot,{className:"w-5 h-5 mr-2"}),"Authentication Required"]})}),e.jsxs(N,{children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You need to be logged in to access politician data and platform features."}),e.jsx(E,{onClick:()=>window.location.href="/api/login",className:"w-full",children:"Login to Continue"})]})]})});if(g)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading verified politician data..."}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Fetching from official government sources"})]})})});if(f||!j)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsxs(ze,{className:"max-w-2xl mx-auto mt-12",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsx(He,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium",children:"Data Connection Failed"}),e.jsx("p",{children:"Unable to connect to government data sources. This could be due to:"}),e.jsxs("ul",{className:"list-disc list-inside text-sm space-y-1 ml-4",children:[e.jsx("li",{children:"Temporary API outages"}),e.jsx("li",{children:"Network connectivity issues"}),e.jsx("li",{children:"Government database maintenance"})]}),e.jsx(E,{onClick:()=>w(),variant:"outline",size:"sm",className:"mt-3",children:"Retry Connection"})]})})]})})});const y=j.filter(C=>{var U,L,q;const O=((U=C.name)==null?void 0:U.toLowerCase().includes(i.toLowerCase()))||((L=C.riding)==null?void 0:L.toLowerCase().includes(i.toLowerCase()))||((q=C.constituency)==null?void 0:q.toLowerCase().includes(i.toLowerCase())),M=o==="all"||C.party===o,I=l==="all"||C.level===l,_=h==="all"||C.province===h;return O&&M&&I&&_}),v=j.length>0;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Canadian Politicians & Party Leaders"}),e.jsxs("p",{className:"text-xl text-gray-600 dark:text-gray-300 mb-6",children:["Verified data on ",(j==null?void 0:j.length)||0," politicians across all levels of Canadian government"]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg mb-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(de,{className:"w-6 h-6 mr-2"}),"Federal Party Leaders"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[e.jsx(b,{className:"bg-red-50 border-red-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>p({id:999001,name:"Mark Carney",position:"Prime Minister of Canada",riding:"Central Nova",party:"Liberal",level:"federal",province:"Nova Scotia",email:"mark.carney@parl.gc.ca",phone:"613-995-0253",website:"https://pm.gc.ca",office_address:"Office of the Prime Minister, Langevin Block, 80 Wellington Street, Ottawa, ON K1A 0A2",trust_score:void 0,total_spending:28e5,voting_participation:91,verified:!0,data_sources:[{name:"Prime Minister's Office",url:"https://pm.gc.ca",type:"official",verified:!0},{name:"Parliament of Canada",url:"https://www.ourcommons.ca/members/en/mark-carney",type:"parliamentary",verified:!0},{name:"Elections Canada",url:"https://www.elections.ca",type:"financial",verified:!0}],last_updated:new Date().toISOString()}),children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs(Ye,{className:"w-16 h-16 mx-auto",children:[e.jsx(Dt,{src:"https://ui-avatars.com/api/?name=Mark+Carney&background=dc2626&color=fff",alt:"Mark Carney"}),e.jsx(Xe,{className:"bg-red-600 text-white text-lg",children:"MC"})]}),e.jsx(k,{className:"mt-2 bg-red-600 text-white",children:"Prime Minister"})]}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Mark Carney"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Liberal Party of Canada"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Central Nova"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[e.jsx(X,{className:"w-4 h-4 text-blue-600 mr-1"}),e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Verified Profile"})]})]})}),e.jsx(b,{className:"bg-blue-50 border-blue-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>p({id:999002,name:"Pierre Poilievre",position:"Leader of the Conservative Party",riding:"Carleton",party:"Conservative",level:"federal",province:"Ontario",email:"pierre.poilievre@parl.gc.ca",phone:"613-992-3128",website:"https://www.conservative.ca",office_address:"House of Commons, Centre Block, Room 409-S, Ottawa, ON K1A 0A6",trust_score:void 0,total_spending:195e4,voting_participation:94,verified:!0,data_sources:[{name:"Parliament of Canada",url:"https://www.ourcommons.ca/members/en/candice-bergen",type:"parliamentary",verified:!0},{name:"Conservative Party",url:"https://www.conservative.ca",type:"official",verified:!0},{name:"Elections Canada",url:"https://www.elections.ca",type:"financial",verified:!0}],last_updated:new Date().toISOString()}),children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs(Ye,{className:"w-16 h-16 mx-auto",children:[e.jsx(Dt,{src:"https://ui-avatars.com/api/?name=Pierre+Poilievre&background=1e40af&color=fff",alt:"Pierre Poilievre"}),e.jsx(Xe,{className:"bg-blue-700 text-white text-lg",children:"PP"})]}),e.jsx(k,{className:"mt-2 bg-blue-700 text-white",children:"Opposition Leader"})]}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Pierre Poilievre"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Conservative Party"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Carleton"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[e.jsx(X,{className:"w-4 h-4 text-blue-600 mr-1"}),e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Verified Profile"})]})]})}),e.jsx(b,{className:"bg-orange-50 border-orange-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>p({id:999003,name:"Jagmeet Singh",position:"Leader of the New Democratic Party",riding:"Burnaby South",party:"NDP",level:"federal",province:"British Columbia",email:"jagmeet.singh@parl.gc.ca",phone:"613-992-4214",website:"https://www.ndp.ca",office_address:"House of Commons, Centre Block, Room 224-N, Ottawa, ON K1A 0A6",trust_score:void 0,total_spending:12e5,voting_participation:92,verified:!0,data_sources:[{name:"Parliament of Canada",url:"https://www.ourcommons.ca/members/en/jagmeet-singh(88849)",type:"parliamentary",verified:!0},{name:"NDP Official Site",url:"https://www.ndp.ca",type:"official",verified:!0},{name:"Elections Canada",url:"https://www.elections.ca",type:"financial",verified:!0}],last_updated:new Date().toISOString()}),children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs(Ye,{className:"w-16 h-16 mx-auto",children:[e.jsx(Dt,{src:"https://ui-avatars.com/api/?name=Jagmeet+Singh&background=ea580c&color=fff",alt:"Jagmeet Singh"}),e.jsx(Xe,{className:"bg-orange-600 text-white text-lg",children:"JS"})]}),e.jsx(k,{className:"mt-2 bg-orange-600 text-white",children:"NDP Leader"})]}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Jagmeet Singh"}),e.jsx("p",{className:"text-sm text-gray-600",children:"New Democratic Party"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Burnaby South"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[e.jsx(X,{className:"w-4 h-4 text-blue-600 mr-1"}),e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Verified Profile"})]})]})}),e.jsx(b,{className:"bg-cyan-50 border-cyan-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>p({id:999004,name:"Yves-Franois Blanchet",position:"Leader of the Bloc Qubcois",riding:"BeloeilChambly",party:"Bloc Qubcois",level:"federal",province:"Quebec",email:"yves-francois.blanchet@parl.gc.ca",phone:"613-992-6779",website:"https://www.blocquebecois.org",office_address:"House of Commons, Centre Block, Room 459-S, Ottawa, ON K1A 0A6",trust_score:void 0,total_spending:9e5,voting_participation:89,verified:!0,data_sources:[{name:"Parliament of Canada",url:"https://www.ourcommons.ca/members/en/yves-francois-blanchet(104649)",type:"parliamentary",verified:!0},{name:"Bloc Qubcois",url:"https://www.blocquebecois.org",type:"official",verified:!0},{name:"Elections Canada",url:"https://www.elections.ca",type:"financial",verified:!0}],last_updated:new Date().toISOString()}),children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs(Ye,{className:"w-16 h-16 mx-auto",children:[e.jsx(Dt,{src:"https://ui-avatars.com/api/?name=Yves+Blanchet&background=0891b2&color=fff",alt:"Yves-Franois Blanchet"}),e.jsx(Xe,{className:"bg-cyan-600 text-white text-lg",children:"YB"})]}),e.jsx(k,{className:"mt-2 bg-cyan-600 text-white",children:"Bloc Leader"})]}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Yves-Franois Blanchet"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Bloc Qubcois"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"BeloeilChambly"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[e.jsx(X,{className:"w-4 h-4 text-blue-600 mr-1"}),e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Verified Profile"})]})]})}),e.jsx(b,{className:"bg-green-50 border-green-200 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>p({id:999005,name:"Elizabeth May",position:"Parliamentary Leader of the Green Party",riding:"SaanichGulf Islands",party:"Green",level:"federal",province:"British Columbia",email:"elizabeth.may@parl.gc.ca",phone:"613-996-1119",website:"https://www.greenparty.ca",office_address:"House of Commons, Centre Block, Room 318-S, Ottawa, ON K1A 0A6",trust_score:void 0,total_spending:5e5,voting_participation:96,verified:!0,data_sources:[{name:"Parliament of Canada",url:"https://www.ourcommons.ca/members/en/elizabeth-may(35900)",type:"parliamentary",verified:!0},{name:"Green Party",url:"https://www.greenparty.ca",type:"official",verified:!0},{name:"Elections Canada",url:"https://www.elections.ca",type:"financial",verified:!0}],last_updated:new Date().toISOString()}),children:e.jsxs(N,{className:"p-4 text-center",children:[e.jsxs("div",{className:"mb-3",children:[e.jsxs(Ye,{className:"w-16 h-16 mx-auto",children:[e.jsx(Dt,{src:"https://ui-avatars.com/api/?name=Elizabeth+May&background=16a34a&color=fff",alt:"Elizabeth May"}),e.jsx(Xe,{className:"bg-green-600 text-white text-lg",children:"EM"})]}),e.jsx(k,{className:"mt-2 bg-green-600 text-white",children:"Green Leader"})]}),e.jsx("h3",{className:"font-bold text-gray-900",children:"Elizabeth May"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Green Party"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"SaanichGulf Islands"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center",children:[e.jsx(X,{className:"w-4 h-4 text-blue-600 mr-1"}),e.jsx("span",{className:"text-xs text-blue-600 font-medium",children:"Verified Profile"})]})]})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Zr,{className:"w-4 h-4 mr-1"}),e.jsx("span",{children:"Sources: Parliament of Canada, Elections Canada"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(Ce,{className:"w-4 h-4 mr-1"}),e.jsxs("span",{children:["Updated: ",new Date().toLocaleDateString("en-CA")]})]})]})]}),e.jsx("div",{className:"mb-6",children:e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 flex items-center",children:[e.jsx(ct,{className:"w-6 h-6 mr-2"}),"Search All Politicians"]})}),e.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-6 shadow-lg mb-8",children:e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx(te,{type:"text",placeholder:"Search by name, party, or riding...",value:i,onChange:C=>n(C.target.value),className:"pl-10 bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600"})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(ge,{value:l,onValueChange:c,children:[e.jsx(xe,{className:"w-full sm:w-48",children:e.jsx(ve,{placeholder:"Filter by level"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Levels"}),e.jsx(D,{value:"Federal",children:"Federal"}),e.jsx(D,{value:"Provincial",children:"Provincial"}),e.jsx(D,{value:"Municipal",children:"Municipal"})]})]}),e.jsxs(ge,{value:o,onValueChange:d,children:[e.jsx(xe,{className:"w-full sm:w-48",children:e.jsx(ve,{placeholder:"Filter by party"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Parties"}),e.jsx(D,{value:"Liberal",children:"Liberal"}),e.jsx(D,{value:"Conservative",children:"Conservative"}),e.jsx(D,{value:"NDP",children:"NDP"}),e.jsx(D,{value:"Bloc Qubcois",children:"Bloc Qubcois"}),e.jsx(D,{value:"Green",children:"Green"}),e.jsx(D,{value:"Independent",children:"Independent"})]})]}),e.jsxs(ge,{value:h,onValueChange:u,children:[e.jsx(xe,{className:"w-full sm:w-48",children:e.jsx(ve,{placeholder:"Filter by province"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Provinces"}),e.jsx(D,{value:"Ontario",children:"Ontario"}),e.jsx(D,{value:"Quebec",children:"Quebec"}),e.jsx(D,{value:"British Columbia",children:"British Columbia"}),e.jsx(D,{value:"Alberta",children:"Alberta"}),e.jsx(D,{value:"Manitoba",children:"Manitoba"}),e.jsx(D,{value:"Saskatchewan",children:"Saskatchewan"}),e.jsx(D,{value:"Nova Scotia",children:"Nova Scotia"}),e.jsx(D,{value:"New Brunswick",children:"New Brunswick"}),e.jsx(D,{value:"Newfoundland and Labrador",children:"Newfoundland and Labrador"}),e.jsx(D,{value:"Prince Edward Island",children:"Prince Edward Island"})]})]})]})]})})]}),!v&&e.jsxs(ze,{className:"mb-6",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsx(He,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Data unavailable for this region"}),e.jsx("p",{className:"text-sm",children:"No verified politician data available for the selected filters. Try adjusting your search criteria or check back later."})]}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>w(),children:"Refresh Data"})]})})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:y.map(C=>{var M;const O=I=>{const _=I.toLowerCase();return _.includes("liberal")?"border-l-red-500":_.includes("conservative")?"border-l-blue-700":_.includes("ndp")||_.includes("new democratic")?"border-l-orange-500":_.includes("bloc")||_.includes("qubcois")?"border-l-cyan-500":_.includes("green")?"border-l-green-600":_.includes("people")?"border-l-purple-600":"border-l-gray-500"};return e.jsx(b,{className:`hover:shadow-lg transition-all duration-200 cursor-pointer bg-white/80 backdrop-blur-sm border border-gray-200/50 hover:border-blue-300/50 border-l-4 ${O(C.party||"")}`,onClick:()=>p(C),children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex flex-col space-y-4",children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsxs(Ye,{className:"w-16 h-16 flex-shrink-0",children:[e.jsx(Dt,{src:`https://ui-avatars.com/api/?name=${encodeURIComponent(C.name||"")}&background=6b7280&color=fff`,alt:C.name||""}),e.jsx(Xe,{className:"bg-gray-500 text-white text-lg font-bold",children:(M=C.name)==null?void 0:M.split(" ").map(I=>I[0]).join("").slice(0,2)})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-2",children:C.name||""}),e.jsx("p",{className:"text-sm text-gray-700 font-medium mb-2",children:C.position||""}),(C.riding||C.constituency)&&e.jsxs("p",{className:"text-sm text-gray-600 flex items-center mb-3",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2 flex-shrink-0 text-gray-500"}),e.jsx("span",{className:"font-medium",children:C.riding||C.constituency})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[C.party&&e.jsx(k,{className:`text-sm px-2 py-1 font-medium ${(()=>{const I=C.party.toLowerCase();return I.includes("liberal")?"bg-red-600 text-white":I.includes("conservative")?"bg-blue-700 text-white":I.includes("ndp")||I.includes("new democratic")?"bg-orange-500 text-white":I.includes("bloc")||I.includes("qubcois")?"bg-cyan-500 text-white":I.includes("green")?"bg-green-600 text-white":I.includes("people")?"bg-purple-600 text-white":"bg-gray-500 text-white"})()}`,children:C.party}),e.jsx(k,{variant:"outline",className:"text-sm px-2 py-1 font-medium",children:C.level||""}),e.jsxs("div",{className:"flex items-center",children:[e.jsx(X,{className:"w-4 h-4 text-blue-600 mr-1"}),e.jsx("span",{className:"text-sm text-blue-600 font-medium",children:"Verified"})]})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[e.jsx(Ra,{targetType:"politician",targetId:Number(C==null?void 0:C.id)||0,title:(C==null?void 0:C.name)||"Politician",showComments:!1}),e.jsx(E,{variant:"outline",size:"sm",onClick:I=>{I.stopPropagation(),p(C)},className:"text-sm font-medium px-3 py-2",children:"View Profile"})]})]})})},C.id)})}),m&&e.jsx(Ks,{open:!!m,onOpenChange:()=>p(null),children:e.jsxs(vs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(js,{children:e.jsxs(ys,{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Ye,{className:"w-12 h-12",children:[e.jsx(Dt,{src:m.photo||`https://ui-avatars.com/api/?name=${encodeURIComponent(m.name||"")}&background=3b82f6&color=fff`,alt:m.name||""}),e.jsx(Xe,{className:"bg-blue-600 text-white",children:(A=m.name)==null?void 0:A.split(" ").map(C=>C[0]).join("")})]}),m.verified&&e.jsx("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center",children:e.jsx(X,{className:"w-2.5 h-2.5 text-white"})})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:m.name||""}),e.jsx("p",{className:"text-gray-600",children:m.position||""}),m.riding&&e.jsxs("p",{className:"text-sm text-gray-500 flex items-center",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),m.riding]})]})]})}),e.jsxs("div",{className:"space-y-6 mt-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg flex items-center",children:[e.jsx(Zr,{className:"w-5 h-5 mr-2"}),"Data Sources & Verification"]})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Official Sources:"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[m.data_sources&&m.data_sources.map((C,O)=>e.jsx("a",{href:C.url,target:"_blank",rel:"noopener noreferrer",className:"inline-block",children:e.jsxs(k,{variant:C.verified?"default":"secondary",className:"cursor-pointer hover:bg-blue-600",children:[e.jsx(Ke,{className:"w-3 h-3 mr-1"}),C.name]})},O)),!m.data_sources&&e.jsx(k,{variant:"secondary",className:"text-xs",children:"No sources available"})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium mb-2",children:"Last Updated:"}),e.jsx("p",{className:"text-sm text-gray-600",children:new Date(m.last_updated).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Data refreshed from government sources"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg flex items-center",children:[e.jsx(Bs,{className:"w-5 h-5 mr-2"}),"Contact Information",e.jsx(Ui,{children:e.jsxs(il,{children:[e.jsx(nl,{asChild:!0,children:e.jsx(Ji,{className:"w-4 h-4 ml-2 text-gray-400"})}),e.jsx(Bi,{children:e.jsx("p",{className:"text-xs",children:"Verified through official government directories"})})]})})]})}),e.jsxs(N,{className:"space-y-3",children:[m.email?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"w-4 h-4 text-gray-500"}),e.jsx("a",{href:`mailto:${m.email}`,className:"text-blue-600 hover:underline",children:m.email}),e.jsx(k,{variant:"outline",className:"text-xs",children:"Verified"})]}):e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Email not available"})]}),m.phone?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Bs,{className:"w-4 h-4 text-gray-500"}),e.jsx("a",{href:`tel:${m.phone}`,className:"text-blue-600 hover:underline",children:m.phone}),e.jsx(k,{variant:"outline",className:"text-xs",children:"Verified"})]}):e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx(Bs,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Phone not available"})]}),m.website?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Lt,{className:"w-4 h-4 text-gray-500"}),e.jsx("a",{href:m.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Official Website"}),e.jsx(Ke,{className:"w-3 h-3 text-gray-400"})]}):e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx(Lt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Website not available"})]}),m.office_address?e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(Tt,{className:"w-4 h-4 text-gray-500 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Office Address"}),e.jsx("p",{className:"text-sm text-gray-600",children:m.office_address})]})]}):e.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[e.jsx(Tt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:"Office address not available"})]})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg flex items-center",children:[e.jsx(de,{className:"w-5 h-5 mr-2"}),"Political Information & Performance"]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:"Party:"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{variant:"outline",children:m.party||"Independent"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium",children:"Level:"}),e.jsx("div",{className:"mt-1",children:e.jsx(k,{variant:m.level==="Federal"?"default":"secondary",children:m.level||""})})]})]}),m.riding&&e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm",children:m.riding})]}),e.jsx(bs,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h4",{className:"text-sm font-medium",children:"Performance Metrics:"}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Community Trust Score"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Coming Soon"}),e.jsx(k,{variant:"outline",className:"text-xs",children:"User Votes"})]})]}),m.total_spending?e.jsx(Ui,{children:e.jsxs(il,{children:[e.jsx(nl,{asChild:!0,children:e.jsxs("div",{className:"flex items-center justify-between p-2 bg-blue-50 rounded cursor-help",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Campaign Spending"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"text-sm font-bold text-blue-600",children:["$",m.total_spending.toLocaleString()]}),e.jsx(Ke,{className:"w-3 h-3 text-gray-400"})]})]})}),e.jsx(Bi,{children:e.jsxs("div",{className:"text-xs max-w-xs",children:[e.jsx("p",{className:"font-medium",children:"Campaign Finance Data"}),e.jsx("p",{children:"Total reported campaign expenditures"}),e.jsx("p",{className:"mt-1 text-blue-600",children:"Source: Elections Canada financial returns"})]})})]})}):e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Campaign spending data not available"}),e.jsx(k,{variant:"secondary",className:"text-xs",children:"No data"})]}),m.voting_participation?e.jsx(Ui,{children:e.jsxs(il,{children:[e.jsx(nl,{asChild:!0,children:e.jsxs("div",{className:"flex items-center justify-between p-2 bg-purple-50 rounded cursor-help",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm font-medium",children:"Voting Participation"})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsxs("span",{className:"text-sm font-bold text-purple-600",children:[m.voting_participation,"%"]}),e.jsx(Ke,{className:"w-3 h-3 text-gray-400"})]})]})}),e.jsx(Bi,{children:e.jsxs("div",{className:"text-xs max-w-xs",children:[e.jsx("p",{className:"font-medium",children:"Voting Participation Rate"}),e.jsx("p",{children:"Percentage of votes participated in during current term"}),e.jsx("p",{className:"mt-1 text-blue-600",children:"Source: Parliamentary voting records"})]})})]})}):e.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Voting history not available"}),e.jsx(k,{variant:"secondary",className:"text-xs",children:"No data"})]})]})]})]})]}),(s==null?void 0:s.is_admin)&&e.jsxs(b,{className:"border-orange-200 bg-orange-50",children:[e.jsx(P,{children:e.jsxs(T,{className:"text-lg flex items-center text-orange-800",children:[e.jsx(X,{className:"w-5 h-5 mr-2"}),"Admin Tools"]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(E,{variant:"outline",size:"sm",children:"Edit Profile"}),e.jsx(E,{variant:"outline",size:"sm",children:"Update Sources"}),e.jsx(E,{variant:"outline",size:"sm",children:"Verify Data"})]}),e.jsx("p",{className:"text-xs text-orange-600 mt-2",children:"Admin-only editing tools for data verification and updates"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5"}),"Citizen Engagement"]})}),e.jsx(N,{children:e.jsx(Ra,{targetType:"politician",targetId:Number(m==null?void 0:m.id)||0,title:(m==null?void 0:m.name)||"Politician",showComments:!0})})]})]})]})})]})})}function JN({children:s,requiredPermission:t,fallbackMessage:a="Identity verification required to access this feature"}){const{isVerified:r,permissions:i,isLoading:n}=Cx(),[,l]=mi();return n?e.jsx("div",{className:"flex items-center justify-center p-8",children:e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-2 border-blue-600 border-t-transparent"})}):r&&(!t||i[t])?e.jsx(e.Fragment,{children:s}):e.jsx("div",{className:"flex items-center justify-center min-h-[400px] p-4",children:e.jsxs(b,{className:"max-w-md w-full",children:[e.jsxs(P,{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mb-4",children:e.jsx(X,{className:"w-8 h-8 text-blue-600"})}),e.jsxs(T,{className:"flex items-center justify-center space-x-2",children:[e.jsx(Ot,{className:"w-5 h-5"}),e.jsx("span",{children:"Verification Required"})]})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs(ze,{children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx(He,{children:a})]}),e.jsxs("div",{className:"space-y-2 text-sm text-slate-600",children:[e.jsx("p",{children:"To access this feature, you need to complete government-grade identity verification:"}),e.jsxs("ul",{className:"space-y-1 ml-4",children:[e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Government ID upload"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Live face verification"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Multi-factor authentication"})]}),e.jsxs("li",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-3 h-3 text-green-600"}),e.jsx("span",{children:"Duplicate account prevention"})]})]})]}),e.jsxs(E,{onClick:()=>l("/identity-verification"),className:"w-full bg-blue-600 hover:bg-blue-700",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Start Identity Verification"]}),e.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Your privacy is protected. All verification data is encrypted and automatically purged after 72 hours."})]})]})})}function YN(){var M,I,_,U,L,q,H;const[s,t]=x.useState(!1),[a,r]=x.useState("all"),[i,n]=x.useState("recent"),[l,c]=x.useState(null),[o,d]=x.useState({title:"",description:"",targetSignatures:1e3,targetOfficial:"",billId:"",category:"general",deadlineDate:""}),{toast:h}=dt(),u=ss(),{data:m=[],isLoading:p}=Q({queryKey:["/api/petitions",a,i]}),{data:j=[]}=Q({queryKey:["/api/bills"]}),g=Ne({mutationFn:async R=>await ye("/api/petitions","POST",R),onSuccess:()=>{h({title:"Success",description:"Your petition has been created successfully!"}),t(!1),d({title:"",description:"",targetSignatures:1e3,targetOfficial:"",billId:"",category:"general",deadlineDate:""}),u.invalidateQueries({queryKey:["/api/petitions"]})},onError:R=>{h({title:"Error",description:R.message||"Failed to create petition",variant:"destructive"})}}),f=Ne({mutationFn:async R=>await ye(`/api/petitions/${R}/sign`,"POST"),onSuccess:()=>{h({title:"Success",description:"Thank you for signing this petition!"}),u.invalidateQueries({queryKey:["/api/petitions"]})},onError:R=>{h({title:"Error",description:R.message||"Failed to sign petition",variant:"destructive"})}}),w=()=>{if(!o.title.trim()||!o.description.trim()){h({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}g.mutate({title:o.title,description:o.description,targetSignatures:o.targetSignatures,targetOfficial:o.targetOfficial||void 0,billId:o.billId?parseInt(o.billId):void 0,category:o.category,deadlineDate:o.deadlineDate||void 0})},y=R=>{f.mutate(R)},v=R=>{switch(R){case"active":return"text-blue-600 bg-blue-100 dark:bg-blue-900/20";case"successful":return"text-green-600 bg-green-100 dark:bg-green-900/20";case"closed":return"text-gray-600 bg-gray-100 dark:bg-gray-900/20";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/20"}},A=(R,pe)=>Math.min(R/pe*100,100),C=m.filter(R=>a==="all"||R.category===a),O=[{value:"all",label:"All Petitions"},{value:"federal",label:"Federal Issues"},{value:"provincial",label:"Provincial Issues"},{value:"municipal",label:"Municipal Issues"},{value:"environment",label:"Environment"},{value:"healthcare",label:"Healthcare"},{value:"education",label:"Education"},{value:"justice",label:"Justice & Rights"},{value:"general",label:"General"}];return e.jsx(JN,{requiredPermission:"canCreatePetitions",fallbackMessage:"Identity verification required to create and sign petitions",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Petitions"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Create and sign petitions to drive legislative change"})]}),e.jsxs(Ks,{open:s,onOpenChange:t,children:[e.jsx(Ho,{asChild:!0,children:e.jsxs(E,{className:"bg-red-600 hover:bg-red-700",children:[e.jsx(Im,{className:"h-4 w-4 mr-2"}),"Create Petition"]})}),e.jsxs(vs,{className:"max-w-2xl",children:[e.jsx(js,{children:e.jsx(ys,{children:"Create a New Petition"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx(te,{value:o.title,onChange:R=>d({...o,title:R.target.value}),placeholder:"Enter petition title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),e.jsxs(ge,{value:o.category,onValueChange:R=>d({...o,category:R}),children:[e.jsx(xe,{children:e.jsx(ve,{})}),e.jsx(fe,{children:O.filter(R=>R.value!=="all").map(R=>e.jsx(D,{value:R.value,children:R.label},R.value))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Bill (Optional)"}),e.jsxs(ge,{value:o.billId,onValueChange:R=>d({...o,billId:R}),children:[e.jsx(xe,{children:e.jsx(ve,{placeholder:"Select a bill to petition against"})}),e.jsx(fe,{children:j.map(R=>e.jsxs(D,{value:R.id.toString(),children:[R.billNumber,": ",R.title]},R.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Target Official (Optional)"}),e.jsx(te,{value:o.targetOfficial,onChange:R=>d({...o,targetOfficial:R.target.value}),placeholder:"e.g., Prime Minister, Minister of Health"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Signature Goal"}),e.jsx(te,{type:"number",value:o.targetSignatures,onChange:R=>d({...o,targetSignatures:parseInt(R.target.value)||1e3}),min:"100",max:"1000000"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Deadline (Optional)"}),e.jsx(te,{type:"date",value:o.deadlineDate,onChange:R=>d({...o,deadlineDate:R.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Description"}),e.jsx(Gs,{value:o.description,onChange:R=>d({...o,description:R.target.value}),placeholder:"Explain why this petition is important and what you want to achieve...",rows:6})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(E,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(E,{onClick:w,disabled:g.isPending,children:g.isPending?"Creating...":"Create Petition"})]})]})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{})}),e.jsx(fe,{children:O.map(R=>e.jsx(D,{value:R.value,children:R.label},R.value))})]}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{})}),e.jsxs(fe,{children:[e.jsx(D,{value:"recent",children:"Most Recent"}),e.jsx(D,{value:"popular",children:"Most Signatures"}),e.jsx(D,{value:"deadline",children:"Deadline Soon"}),e.jsx(D,{value:"progress",children:"Most Progress"})]})]})]}),e.jsx("div",{className:"space-y-6",children:l?e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center gap-4 mb-6",children:e.jsx(E,{variant:"outline",onClick:()=>c(null),className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:" Back to Petitions"})}),e.jsxs(b,{className:"max-w-4xl",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(k,{className:v(l.status),children:l.status.charAt(0).toUpperCase()+l.status.slice(1)}),l.isVerified&&e.jsxs(k,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(z,{className:"h-3 w-3 mr-1"}),"Verified"]})]}),e.jsx(T,{className:"text-3xl mb-4",children:l.title})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:typeof l.currentSignatures=="number"?l.currentSignatures.toLocaleString():"0"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["of ",typeof l.targetSignatures=="number"?l.targetSignatures.toLocaleString():"500"," signatures"]})]})]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.jsx("p",{className:"text-lg leading-relaxed",children:l.description})}),l.targetOfficial&&e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(Hs,{className:"h-5 w-5 text-gray-500"}),e.jsx("span",{className:"font-medium",children:"Target Official"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:l.targetOfficial})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Petition Details"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Category:"}),e.jsx("span",{className:"font-medium",children:l.category})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Created:"}),e.jsx("span",{className:"font-medium",children:new Date(l.createdAt).toLocaleDateString()})]}),l.deadlineDate&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Deadline:"}),e.jsx("span",{className:"font-medium",children:new Date(l.deadlineDate).toLocaleDateString()})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Progress"}),e.jsx(ft,{value:A(l.currentSignatures,l.targetSignatures),className:"h-3"}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[A(l.currentSignatures,l.targetSignatures).toFixed(1),"% of goal reached"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6 border-t",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(Ye,{className:"h-10 w-10",children:e.jsx(Xe,{children:((I=(M=l.creator)==null?void 0:M.firstName)==null?void 0:I[0])||((U=(_=l.creator)==null?void 0:_.email)==null?void 0:U[0])||"?"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:((L=l.creator)==null?void 0:L.firstName)||((H=(q=l.creator)==null?void 0:q.email)==null?void 0:H.split("@")[0])||"Anonymous"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Petition Creator"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Pa,{targetType:"petition",targetId:l.id,size:"sm"}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Yi,{className:"h-4 w-4 mr-1"}),"Share"]}),l.status==="active"&&l.currentSignatures<l.targetSignatures&&e.jsxs(E,{onClick:()=>y(l.id),disabled:f.isPending,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),f.isPending?"Signing...":"Sign Petition"]})]})]}),e.jsx(Ra,{targetType:"petition",targetId:l.id,title:l.title,description:l.description})]})]})]}):p?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-red-600"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Loading petitions..."})]}):C.length===0?e.jsx(b,{children:e.jsxs(N,{className:"py-12 text-center",children:[e.jsx(ce,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No petitions found"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Be the first to create a petition in this category!"})]})}):C.map(R=>{var Z,ue,F,Me,ke,st,Qe;const pe=A(R.currentSignatures,R.targetSignatures),oe=R.currentSignatures>=R.targetSignatures;return e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(k,{className:v(R.status),children:R.status.charAt(0).toUpperCase()+R.status.slice(1)}),R.isVerified&&e.jsxs(k,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(z,{className:"h-3 w-3 mr-1"}),"Verified"]}),R.bill&&e.jsxs(k,{variant:"secondary",children:["Against ",R.bill.billNumber]})]}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:R.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-3",children:R.description}),R.targetOfficial&&e.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[e.jsx(Hs,{className:"h-4 w-4 text-gray-500"}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:["Directed to: ",R.targetOfficial]})]})]}),e.jsxs("div",{className:"ml-6 text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:typeof R.currentSignatures=="number"?R.currentSignatures.toLocaleString():"0"}),e.jsxs("div",{className:"text-sm text-gray-500",children:["of ",typeof R.targetSignatures=="number"?R.targetSignatures.toLocaleString():"500"," signatures"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),e.jsxs("span",{className:"text-sm text-gray-500",children:[pe.toFixed(1),"%"]})]}),e.jsx(ft,{value:pe,className:`h-2 ${oe?"bg-green-200":"bg-gray-200"}`})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ye,{className:"h-6 w-6",children:e.jsx(Xe,{className:"text-xs",children:((ue=(Z=R.creator)==null?void 0:Z.firstName)==null?void 0:ue[0])||((Me=(F=R.creator)==null?void 0:F.email)==null?void 0:Me[0])||"?"})}),e.jsx("span",{children:((ke=R.creator)==null?void 0:ke.firstName)||((Qe=(st=R.creator)==null?void 0:st.email)==null?void 0:Qe.split("@")[0])})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(tt,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(R.createdAt).toLocaleDateString()})]}),R.deadlineDate&&e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsxs("span",{children:["Deadline: ",new Date(R.deadlineDate).toLocaleDateString()]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>c(R),children:[e.jsx(Ce,{className:"h-4 w-4 mr-1"}),"View Details"]}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Yi,{className:"h-4 w-4 mr-1"}),"Share"]}),R.status==="active"&&!oe&&e.jsxs(E,{onClick:()=>y(R.id),disabled:f.isPending,className:"bg-red-600 hover:bg-red-700",children:[e.jsx(de,{className:"h-4 w-4 mr-1"}),f.isPending?"Signing...":"Sign Petition"]}),oe&&e.jsxs(E,{disabled:!0,className:"bg-green-600",children:[e.jsx(z,{className:"h-4 w-4 mr-1"}),"Goal Reached!"]})]})]})]})},R.id)})})]})})}const XN={flag:Hl,map:Rm,building:Tt,scale:lt,"file-text":ce,users:de,"message-circle":bt};function ZN(){var L,q,H,R,pe,oe,Z,ue;const[s,t]=x.useState("all"),[a,r]=x.useState("all"),[i,n]=x.useState("recent"),[l,c]=x.useState(!1),[o,d]=x.useState(null),[h,u]=x.useState({title:"",content:"",categoryId:"",subcategoryId:"",billId:""}),[m,p]=x.useState(""),{toast:j}=dt(),g=ss(),{data:f=[]}=Q({queryKey:["/api/forum/categories"]}),{data:w=[]}=Q({queryKey:["/api/forum/subcategories"],enabled:!!f.length}),{data:y=[],isLoading:v}=Q({queryKey:["/api/forum/posts",s,a,i],enabled:!!f.length}),{data:A=[]}=Q({queryKey:["/api/forum/replies",o==null?void 0:o.id],enabled:!!o}),C=Ne({mutationFn:async F=>await ye("/api/forum/posts","POST",F),onSuccess:()=>{j({title:"Success",description:"Your post has been created successfully!"}),c(!1),u({title:"",content:"",categoryId:"",subcategoryId:"",billId:""}),g.invalidateQueries({queryKey:["/api/forum/posts"]})},onError:F=>{j({title:"Error",description:F.message||"Failed to create post",variant:"destructive"})}});Ne({mutationFn:async F=>await ye(`/api/forum/posts/${F}`,"DELETE"),onSuccess:()=>{j({title:"Success",description:"Post deleted successfully!"}),g.invalidateQueries({queryKey:["/api/forum/posts"]})},onError:F=>{j({title:"Error",description:F.message||"Failed to delete post",variant:"destructive"})}}),Ne({mutationFn:async F=>await ye(`/api/forum/posts/${F}/like`,"POST"),onSuccess:()=>{g.invalidateQueries({queryKey:["/api/forum/posts"]})},onError:F=>{j({title:"Error",description:F.message||"Failed to toggle like",variant:"destructive"})}});const O=Ne({mutationFn:async F=>await ye("/api/forum/replies","POST",F),onSuccess:()=>{j({title:"Success",description:"Your reply has been posted!"}),p(""),g.invalidateQueries({queryKey:["/api/forum/replies"]})},onError:F=>{j({title:"Error",description:F.message||"Failed to post reply",variant:"destructive"})}}),M=()=>{if(!h.title.trim()||!h.content.trim()||!h.categoryId){j({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}C.mutate({title:h.title,content:h.content,categoryId:parseInt(h.categoryId),billId:h.billId?parseInt(h.billId):void 0})},I=()=>{!m.trim()||!o||O.mutate({content:m,postId:o.id})},_=F=>XN[F]||bt,U=y.filter(F=>s==="all"||F.categoryId===parseInt(s));return e.jsx("div",{children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[e.jsxs("div",{className:"flex justify-between items-center mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"Community Discussions"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mt-2",children:"Engage in meaningful conversations about Canadian politics and civic issues"})]}),e.jsxs(Ks,{open:l,onOpenChange:c,children:[e.jsx(Ho,{asChild:!0,children:e.jsxs(E,{className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(Im,{className:"h-4 w-4 mr-2"}),"New Discussion"]})}),e.jsxs(vs,{className:"max-w-2xl",children:[e.jsx(js,{children:e.jsx(ys,{children:"Start a New Discussion"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Title"}),e.jsx(te,{value:h.title,onChange:F=>u({...h,title:F.target.value}),placeholder:"Enter discussion title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Category"}),e.jsxs(ge,{value:h.categoryId,onValueChange:F=>u({...h,categoryId:F}),children:[e.jsx(xe,{children:e.jsx(ve,{placeholder:"Select a category"})}),e.jsx(fe,{children:f.map(F=>e.jsx(D,{value:F.id.toString(),children:F.name},F.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Content"}),e.jsx(Gs,{value:h.content,onChange:F=>u({...h,content:F.target.value}),placeholder:"Share your thoughts...",rows:6})]}),e.jsxs("div",{className:"flex justify-end space-x-3",children:[e.jsx(E,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),e.jsx(E,{onClick:M,disabled:C.isPending,children:C.isPending?"Creating...":"Create Discussion"})]})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{className:"text-lg",children:"Categories"})}),e.jsxs(N,{className:"space-y-2",children:[e.jsxs(E,{variant:s==="all"?"default":"ghost",className:"w-full justify-start",onClick:()=>t("all"),children:[e.jsx(bt,{className:"h-4 w-4 mr-2"}),"All Discussions"]}),f.map(F=>{const Me=_(F.icon);return e.jsxs(E,{variant:s===F.id.toString()?"default":"ghost",className:"w-full justify-start",onClick:()=>t(F.id.toString()),children:[e.jsx(Me,{className:"h-4 w-4 mr-2"}),F.name,F.postCount&&e.jsx(k,{variant:"secondary",className:"ml-auto",children:F.postCount})]},F.id)})]})]})}),e.jsxs("div",{className:"lg:col-span-3",children:[e.jsx("div",{className:"flex items-center space-x-4 mb-6",children:e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{})}),e.jsxs(fe,{children:[e.jsx(D,{value:"recent",children:"Most Recent"}),e.jsx(D,{value:"popular",children:"Most Popular"}),e.jsx(D,{value:"replies",children:"Most Replies"}),e.jsx(D,{value:"views",children:"Most Views"})]})]})}),e.jsx("div",{className:"space-y-4",children:v?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-300",children:"Loading discussions..."})]}):U.length===0?e.jsx(b,{children:e.jsxs(N,{className:"py-12 text-center",children:[e.jsx(bt,{className:"h-12 w-12 mx-auto text-gray-400 mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No discussions yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Be the first to start a discussion in this category!"})]})}):U.map(F=>{var Me,ke,st,Qe,ht,Kt,$t;return e.jsx(b,{className:`cursor-pointer hover:shadow-md transition-shadow ${F.isSticky?"border-yellow-200 bg-yellow-50 dark:bg-yellow-900/20":""}`,onClick:()=>d(F),children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Ye,{children:e.jsx(Xe,{children:((ke=(Me=F.author)==null?void 0:Me.firstName)==null?void 0:ke[0])||((Qe=(st=F.author)==null?void 0:st.email)==null?void 0:Qe[0])||"?"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[F.isSticky&&e.jsx(k,{variant:"outline",className:"text-yellow-600 border-yellow-600",children:"Sticky"}),F.category&&e.jsx(k,{variant:"secondary",style:{backgroundColor:`${F.category.color}20`,color:F.category.color},children:F.category.name}),F.bill&&e.jsx(k,{variant:"outline",children:F.bill.billNumber})]}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:F.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-2",children:F.content}),e.jsxs("div",{className:"flex items-center space-x-6 text-sm text-gray-500",children:[e.jsx("div",{className:"flex items-center space-x-1",children:e.jsx("span",{children:((ht=F.author)==null?void 0:ht.firstName)||(($t=(Kt=F.author)==null?void 0:Kt.email)==null?void 0:$t.split("@")[0])})}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(tt,{className:"h-4 w-4"}),e.jsx("span",{children:new Date(F.createdAt).toLocaleDateString()})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(bt,{className:"h-4 w-4"}),e.jsx("span",{children:F.replyCount||0})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{children:F.viewCount||0})]}),e.jsx(Pa,{targetType:"post",targetId:F.id})]})]})]})})},F.id)})})]})]}),o&&e.jsx(Ks,{open:!!o,onOpenChange:()=>d(null),children:e.jsxs(vs,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(js,{children:e.jsx(ys,{className:"text-xl",children:o.title})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"border-b pb-6",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Ye,{children:e.jsx(Xe,{children:((q=(L=o.author)==null?void 0:L.firstName)==null?void 0:q[0])||((R=(H=o.author)==null?void 0:H.email)==null?void 0:R[0])||"?"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-medium",children:((pe=o.author)==null?void 0:pe.firstName)||((Z=(oe=o.author)==null?void 0:oe.email)==null?void 0:Z.split("@")[0])}),e.jsx("span",{className:"text-gray-500 text-sm",children:new Date(o.createdAt).toLocaleDateString()})]}),e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.jsx("p",{children:o.content})}),e.jsx("div",{className:"mt-4",children:e.jsx(Ra,{targetType:"post",targetId:o.id,title:o.title,description:`Discussion in ${((ue=o.category)==null?void 0:ue.name)||"General"}`,showVoting:!0,showComments:!0,showSharing:!0})})]})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold",children:["Replies (",A.length,")"]}),A.map(F=>{var Me,ke,st,Qe,ht,Kt,$t;return e.jsx("div",{className:"border-l-2 border-gray-200 pl-4",children:e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx(Ye,{children:e.jsx(Xe,{children:((ke=(Me=F.author)==null?void 0:Me.firstName)==null?void 0:ke[0])||((Qe=(st=F.author)==null?void 0:st.email)==null?void 0:Qe[0])||"?"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"font-medium",children:((ht=F.author)==null?void 0:ht.firstName)||(($t=(Kt=F.author)==null?void 0:Kt.email)==null?void 0:$t.split("@")[0])}),e.jsx("span",{className:"text-gray-500 text-sm",children:new Date(F.createdAt).toLocaleDateString()})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:F.content})]})]})},F.id)})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add a Reply"}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(Gs,{value:m,onChange:F=>p(F.target.value),placeholder:"Share your thoughts...",rows:4}),e.jsx("div",{className:"flex justify-end",children:e.jsx(E,{onClick:I,disabled:O.isPending||!m.trim(),children:O.isPending?"Posting...":"Post Reply"})})]})]})]})]})})]})})}function ew(){var I,_,U;const[s,t]=x.useState(""),[a,r]=x.useState("all"),[i,n]=x.useState("all"),[l,c]=x.useState(null),[o,d]=x.useState("overview"),{data:h=[],isLoading:u}=Q({queryKey:["/api/legal/updates",s,a,i]}),{data:m=[],isLoading:p}=Q({queryKey:["/api/legal/criminal-code",s]}),{data:j}=Q({queryKey:["/api/legal/stats"]}),{data:g}=Q({queryKey:["/api/legal/database"]}),{data:f}=Q({queryKey:["/api/legal/search"],enabled:s.length>0}),w=L=>{switch(L.toLowerCase()){case"amendment":return"bg-blue-100 text-blue-800 border-blue-300";case"new":return"bg-green-100 text-green-800 border-green-300";case"repeal":return"bg-red-100 text-red-800 border-red-300";case"update":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},y=L=>{switch(L.toLowerCase()){case"federal":return"bg-blue-100 text-blue-800 border-blue-300";case"provincial":return"bg-purple-100 text-purple-800 border-purple-300";case"municipal":return"bg-orange-100 text-orange-800 border-orange-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},v=L=>{switch(L.toLowerCase()){case"federal":return e.jsx(hr,{className:"w-4 h-4"});case"provincial":return e.jsx(us,{className:"w-4 h-4"});case"municipal":return e.jsx(Ze,{className:"w-4 h-4"});default:return e.jsx(lt,{className:"w-4 h-4"})}},A=L=>new Date(L).toLocaleDateString("en-CA",{year:"numeric",month:"short",day:"numeric"}),C=L=>{const q=new Date(L),H=new Date;return H.setDate(H.getDate()-30),q>H},O=h.filter(L=>{const q=L.title.toLowerCase().includes(s.toLowerCase())||L.description.toLowerCase().includes(s.toLowerCase())||L.legalReference.toLowerCase().includes(s.toLowerCase()),H=a==="all"||L.lawType===a,R=i==="all"||L.jurisdiction===i;return q&&H&&R}),M=m.filter(L=>L.sectionNumber.toLowerCase().includes(s.toLowerCase())||L.title.toLowerCase().includes(s.toLowerCase())||L.summary.toLowerCase().includes(s.toLowerCase()));return u||p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400",children:"Loading Canadian legal database..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold font-serif text-slate-900 dark:text-slate-100 flex items-center",children:[e.jsx(lt,{className:"w-8 h-8 mr-3 text-slate-600 dark:text-slate-400"}),"Legal System Transparency"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Complete transparency of Canadian legal changes, criminal code sections, and law updates"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:[e.jsx(ce,{className:"w-3 h-3 mr-1"}),h.length," Updates"]}),e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:[e.jsx(Fr,{className:"w-3 h-3 mr-1"}),m.length," Sections"]})]})]}),j&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:j.criminalCodeSections||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Criminal Code Sections"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fr,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:j.acts||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Federal Acts"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:j.recentUpdates||0}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Recent Updates"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(tt,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:j.lastUpdated?A(j.lastUpdated):"N/A"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Last Updated"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),e.jsx(te,{placeholder:"Search laws, sections, or keywords...",value:s,onChange:L=>t(L.target.value),className:"pl-10 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(ve,{placeholder:"Filter by law type"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Law Types"}),e.jsx(D,{value:"criminal_code",children:"Criminal Code"}),e.jsx(D,{value:"civil_code",children:"Civil Code"}),e.jsx(D,{value:"statute",children:"Statutes"}),e.jsx(D,{value:"regulation",children:"Regulations"}),e.jsx(D,{value:"charter",children:"Charter Rights"})]})]}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(ve,{placeholder:"Filter by jurisdiction"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Jurisdictions"}),e.jsx(D,{value:"federal",children:"Federal"}),e.jsx(D,{value:"provincial",children:"Provincial"}),e.jsx(D,{value:"municipal",children:"Municipal"})]})]}),e.jsxs(E,{variant:"outline",className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Recent Changes"]})]})]}),e.jsxs(Ie,{value:o,onValueChange:d,className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-5 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[e.jsx(V,{value:"database",children:"Legal Database"}),e.jsx(V,{value:"search",children:"Search Laws"}),e.jsx(V,{value:"updates",children:"Law Updates"}),e.jsx(V,{value:"criminal-code",children:"Criminal Code"}),e.jsx(V,{value:"rights",children:"Charter Rights"})]}),e.jsx($,{value:"database",className:"space-y-6 mt-6",children:g&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(hr,{className:"w-5 h-5 text-blue-600"}),"Federal Statutes"]})}),e.jsx(N,{className:"space-y-4",children:(I=g.federalStatutes)==null?void 0:I.map(L=>{var q;return e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:L.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:L.citation}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 mb-3",children:L.description}),e.jsx(k,{variant:"secondary",className:"mb-2",children:L.category}),e.jsxs("div",{className:"text-xs text-slate-500",children:[((q=L.sections)==null?void 0:q.length)||0," sections indexed"]})]},L.id)})})]}),e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(us,{className:"w-5 h-5 text-purple-600"}),"Provincial Legislation"]})}),e.jsx(N,{className:"space-y-4",children:(_=g.provincialLegislation)==null?void 0:_.map(L=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:L.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:L.citation}),e.jsx(k,{variant:"outline",className:"mb-2",children:L.province}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300 mb-3",children:L.description}),e.jsx(k,{variant:"secondary",children:L.category})]},L.id))})]})]})}),e.jsx($,{value:"search",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm rounded-lg p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Legal Search Engine"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Search through indexed Canadian federal and provincial legislation, Charter rights, Criminal Code sections, and constitutional cases."})]}),e.jsxs("div",{className:"relative mb-6",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),e.jsx(te,{placeholder:"Search laws by keywords: assault, discrimination, freedom, equality...",value:s,onChange:L=>t(L.target.value),className:"pl-12 h-12 text-lg bg-white dark:bg-slate-700"})]}),f&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h4",{className:"text-lg font-semibold",children:['Search Results for "',f.query,'"']}),e.jsxs(k,{variant:"outline",children:[f.totalResults," results found"]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(f.categories||{}).map(([L,q])=>e.jsxs(k,{variant:"secondary",className:"text-xs",children:[L,": ",q]},L))}),e.jsx("div",{className:"space-y-4",children:(U=f.results)==null?void 0:U.map(L=>e.jsx(b,{className:"bg-white dark:bg-slate-800 hover:shadow-lg transition-shadow",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx("h5",{className:"font-semibold text-slate-900 dark:text-slate-100 flex-1",children:L.title}),e.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[e.jsx(k,{variant:"outline",className:"text-xs",children:L.type}),L.relevance&&e.jsxs(k,{variant:"secondary",className:"text-xs",children:[(L.relevance*100).toFixed(0),"% match"]})]})]}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 mb-3",children:L.excerpt}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-slate-500",children:["Source: ",L.source," ",L.citation&&`(${L.citation})`]}),e.jsxs(E,{variant:"ghost",size:"sm",className:"text-blue-600 hover:text-blue-700",children:[e.jsx(Ke,{className:"w-4 h-4 mr-1"}),"View Details"]})]})]})},L.id))})]}),s&&!f&&e.jsx("div",{className:"text-center py-8 text-slate-500",children:'No results found. Try different keywords like "criminal", "rights", "discrimination", or "freedom".'}),!s&&e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700/50 rounded-lg p-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Search Examples:"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium text-sm",children:"Criminal Law:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:["assault","theft","fraud","terrorism"].map(L=>e.jsx(k,{variant:"outline",className:"cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-600",onClick:()=>t(L),children:L},L))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"font-medium text-sm",children:"Human Rights:"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:["equality","discrimination","freedom","religion"].map(L=>e.jsx(k,{variant:"outline",className:"cursor-pointer hover:bg-slate-200 dark:hover:bg-slate-600",onClick:()=>t(L),children:L},L))})]})]})]})]})}),e.jsx($,{value:"updates",className:"space-y-6 mt-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[O.map(L=>e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[v(L.jurisdiction),e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:L.title}),C(L.createdAt)&&e.jsxs(k,{className:"bg-red-100 text-red-700 border-red-300",children:[e.jsx(ts,{className:"w-3 h-3 mr-1"}),"New"]})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:L.description})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(k,{className:`${w(L.changeType)}`,children:L.changeType}),e.jsxs(k,{className:`${y(L.jurisdiction)}`,children:[v(L.jurisdiction),e.jsx("span",{className:"ml-1",children:L.jurisdiction})]})]})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ge,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Effective:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:A(L.effectiveDate)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Reference:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:L.legalReference})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Fr,{className:"w-4 h-4 text-slate-500"}),e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Type:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:L.lawType.replace("_"," ").toUpperCase()})]})]}),e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-900/50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Summary"}),e.jsx("p",{className:"text-sm text-slate-700 dark:text-slate-300",children:L.summary})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Impact Analysis"}),e.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:L.impactAnalysis})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(tt,{className:"w-4 h-4"}),"Updated ",A(L.createdAt)]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:L.sourceUrl,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"View Source"]})})})]})]})]},L.id)),O.length===0&&e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsxs(N,{className:"p-8 text-center",children:[e.jsx(ae,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"No Law Updates Found"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No law updates match your current filter criteria. Try adjusting your search terms or filters."})]})})]})}),e.jsx($,{value:"criminal-code",className:"space-y-6 mt-6",children:l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsx(E,{variant:"outline",onClick:()=>c(null),className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:" Back to Sections"}),e.jsxs("h2",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:["Section ",l.sectionNumber," - ",l.title]})]}),e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsx(P,{children:e.jsx(T,{children:"Full Text"})}),e.jsx(N,{children:e.jsx("div",{className:"prose dark:prose-invert max-w-none",children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed",children:l.fullText})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsx(P,{children:e.jsx(T,{className:"text-red-900 dark:text-red-100",children:"Penalties"})}),e.jsx(N,{children:e.jsx("p",{className:"text-slate-700 dark:text-slate-300",children:l.penalties})})]}),e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsx(P,{children:e.jsx(T,{children:"Related Sections"})}),e.jsx(N,{children:e.jsx("div",{className:"space-y-2",children:l.relatedSections.map((L,q)=>e.jsxs(k,{variant:"outline",className:"mr-2 mb-2",children:["Section ",L]},q))})})]})]}),e.jsx(Ra,{targetType:"post",targetId:l.id,title:`Section ${l.sectionNumber} - ${l.title}`,description:l.summary,showVoting:!0,showComments:!0,showSharing:!0})]}):e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[M.map(L=>e.jsxs(b,{className:"cursor-pointer hover:shadow-lg transition-all duration-300 bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 hover:border-slate-300 dark:hover:border-slate-600",onClick:()=>c(L),children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-bold text-slate-900 dark:text-slate-100",children:["Section ",L.sectionNumber]}),e.jsx("h4",{className:"text-md font-semibold text-slate-700 dark:text-slate-300",children:L.title})]}),e.jsx(k,{variant:"outline",className:"bg-red-50 text-red-700 border-red-300",children:"Criminal Code"})]})}),e.jsxs(N,{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:L.summary}),e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-3",children:[e.jsx("h5",{className:"font-semibold text-red-900 dark:text-red-100 text-sm mb-1",children:"Penalties"}),e.jsx("p",{className:"text-sm text-red-800 dark:text-red-200",children:L.penalties})]}),L.recentChanges&&e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 rounded-lg p-3",children:[e.jsx("h5",{className:"font-semibold text-yellow-900 dark:text-yellow-100 text-sm mb-1",children:"Recent Changes"}),e.jsx("p",{className:"text-sm text-yellow-800 dark:text-yellow-200",children:L.recentChanges})]}),e.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(de,{className:"w-4 h-4"}),L.relatedSections.length," related sections"]}),e.jsx(E,{variant:"outline",size:"sm",children:"View Details "})]})]})]},L.id)),M.length===0&&e.jsx("div",{className:"col-span-2",children:e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsxs(N,{className:"p-8 text-center",children:[e.jsx(Fr,{className:"w-12 h-12 text-blue-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"No Criminal Code Sections Found"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No sections match your search criteria. Try different keywords."})]})})})]})}),e.jsx($,{value:"rights",className:"space-y-6 mt-6",children:e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(lt,{className:"w-5 h-5"}),"Canadian Charter of Rights and Freedoms"]})}),e.jsx(N,{children:e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-6 text-center",children:[e.jsx(z,{className:"w-12 h-12 text-blue-500 mx-auto mb-3"}),e.jsx("h3",{className:"font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Charter Rights Database"}),e.jsx("p",{className:"text-blue-700 dark:text-blue-300 text-sm",children:"Comprehensive database of Charter rights, court decisions, and constitutional interpretations is being compiled from official government sources."})]})})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(b,{className:"border-amber-200 bg-amber-50 dark:bg-amber-900/20 dark:border-amber-800",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(ae,{className:"w-6 h-6 text-amber-600 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-amber-900 dark:text-amber-100 mb-2",children:"Legal Information Disclaimer"}),e.jsx("p",{className:"text-amber-800 dark:text-amber-200 text-sm",children:"This information is provided for transparency and educational purposes. Always consult with a qualified legal professional for specific legal advice. Law changes may have implementation delays or require additional regulatory processes."})]})]})})})})]})})}function tw(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),[i,n]=x.useState("all"),{data:l=[]}=Q({queryKey:["/api/legal/search"]}),{data:c=[]}=Q({queryKey:["/api/legal/acts"],refetchInterval:3e5}),{data:o=[]}=Q({queryKey:["/api/legal/cases"],refetchInterval:3e5}),d=()=>{s.length>2};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 p-4 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(lt,{className:"w-8 h-8 text-purple-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-serif text-slate-900 dark:text-slate-100",children:"Legal Database Search"})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg max-w-3xl mx-auto",children:"Search comprehensive Canadian legal database including Criminal Code sections, federal acts, provincial laws, and Supreme Court decisions"})]}),e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(ct,{className:"w-5 h-5"}),"Advanced Legal Search"]}),e.jsx(G,{children:"Search across legal acts, court cases, and Criminal Code sections"})]}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(te,{placeholder:"Search legal documents, case names, or act titles...",value:s,onChange:h=>t(h.target.value),onKeyPress:h=>h.key==="Enter"&&d(),className:"w-full"})}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-full md:w-[200px]",children:e.jsx(ve,{placeholder:"Search Type"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Legal Documents"}),e.jsx(D,{value:"legal_act",children:"Legal Acts"}),e.jsx(D,{value:"legal_case",children:"Court Cases"}),e.jsx(D,{value:"criminal_code",children:"Criminal Code"})]})]}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"w-full md:w-[180px]",children:e.jsx(ve,{placeholder:"Jurisdiction"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Jurisdictions"}),e.jsx(D,{value:"federal",children:"Federal"}),e.jsx(D,{value:"provincial",children:"Provincial"}),e.jsx(D,{value:"supreme",children:"Supreme Court"})]})]}),e.jsx(E,{onClick:d,className:"px-8",children:"Search"})]})})]}),s.length>2&&e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs(P,{children:[e.jsx(T,{children:"Search Results"}),e.jsx(G,{})]}),e.jsx(N,{children:e.jsx(ms,{className:"h-96",children:e.jsx("div",{className:"space-y-4",children:l.map((h,u)=>e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(k,{variant:"outline",className:"text-xs",children:h.type==="legal_act"?"Legal Act":h.type==="legal_case"?"Court Case":h.type==="politician"?"Politician":"Bill"}),h.type==="legal_act"&&e.jsx(ce,{className:"w-4 h-4 text-blue-600"}),h.type==="legal_case"&&e.jsx(zs,{className:"w-4 h-4 text-purple-600"})]}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-1",children:h.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:h.description||"No description available"})]}),e.jsx(E,{variant:"outline",size:"sm",children:e.jsx(Ke,{className:"w-4 h-4"})})]})},u))||e.jsxs("div",{className:"text-center py-8 text-slate-500",children:['No results found for "',s,'"']})})})})]}),e.jsxs(Ie,{defaultValue:"acts",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-2 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[e.jsxs(V,{value:"acts",children:["Legal Acts (",c.length,")"]}),e.jsxs(V,{value:"cases",children:["Court Cases (",o.length,")"]})]}),e.jsx($,{value:"acts",className:"mt-6",children:e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(ce,{className:"w-5 h-5 text-blue-600"}),"Recent Legal Acts"]}),e.jsx(G,{children:"Latest federal and provincial legal acts and legislation"})]}),e.jsx(N,{children:e.jsx(ms,{className:"h-96",children:e.jsx("div",{className:"space-y-4",children:c.slice(0,20).map(h=>{var u,m;return e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(k,{variant:"outline",className:"text-xs",children:h.jurisdiction}),e.jsx(k,{variant:"secondary",className:"text-xs",children:h.category||"General"})]}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:h.title}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[((u=h.summary)==null?void 0:u.substring(0,200))||"No summary available",((m=h.summary)==null?void 0:m.length)>200&&"..."]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-3 h-3"}),h.date_enacted?new Date(h.date_enacted).toLocaleDateString():"Date unknown"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),h.jurisdiction]})]})]}),e.jsx(E,{variant:"outline",size:"sm",children:e.jsx(Ke,{className:"w-4 h-4"})})]})},h.id)})||e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading legal acts..."})})})})]})}),e.jsx($,{value:"cases",className:"mt-6",children:e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(zs,{className:"w-5 h-5 text-purple-600"}),"Recent Court Cases"]}),e.jsx(G,{children:"Latest Supreme Court and federal court decisions"})]}),e.jsx(N,{children:e.jsx(ms,{className:"h-96",children:e.jsx("div",{className:"space-y-4",children:o.slice(0,20).map(h=>{var u,m;return e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(k,{variant:"outline",className:"text-xs",children:h.court}),e.jsx(k,{variant:"secondary",className:"text-xs",children:h.case_number})]}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:h.case_name}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[((u=h.summary)==null?void 0:u.substring(0,200))||"No summary available",((m=h.summary)==null?void 0:m.length)>200&&"..."]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ge,{className:"w-3 h-3"}),h.date_decided?new Date(h.date_decided).toLocaleDateString():"Date unknown"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ze,{className:"w-3 h-3"}),h.jurisdiction]})]})]}),e.jsx(E,{variant:"outline",size:"sm",children:e.jsx(Ke,{className:"w-4 h-4"})})]})},h.id)})||e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading court cases..."})})})})]})})]})]})})}function Ri({title:s,description:t,children:a,className:r,variant:i="default",interactive:n=!1}){const l={default:"bg-white dark:bg-slate-900 border-slate-200 dark:border-slate-700",pulse:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-slate-900 dark:to-blue-950 border-blue-200 dark:border-blue-800",gold:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-slate-900 dark:to-amber-950 border-amber-200 dark:border-amber-800",dark:"bg-slate-800 dark:bg-slate-950 border-slate-600 dark:border-slate-800"};return e.jsxs(b,{className:W("transition-all duration-300 shadow-sm hover:shadow-lg",l[i],n&&"hover:scale-[1.02] cursor-pointer",r),children:[(s||t)&&e.jsxs(P,{className:"pb-3",children:[s&&e.jsx(T,{className:"text-slate-900 dark:text-slate-100 font-serif text-lg",children:s}),t&&e.jsx(G,{className:"text-slate-600 dark:text-slate-400",children:t})]}),e.jsx(N,{className:"space-y-4",children:a})]})}const wf=x.createContext({});function sw(s){const t=x.useRef(null);return t.current===null&&(t.current=s()),t.current}const Yo=x.createContext(null),Cf=x.createContext({transformPagePoint:s=>s,isStatic:!1,reducedMotion:"never"});function aw(s=!0){const t=x.useContext(Yo);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:i}=t,n=x.useId();x.useEffect(()=>{s&&i(n)},[s]);const l=x.useCallback(()=>s&&r&&r(n),[n,r,s]);return!a&&r?[!1,l]:[!0]}const Xo=typeof window<"u",rw=Xo?x.useLayoutEffect:x.useEffect,kt=s=>s;let Sf=kt;function Zo(s){let t;return()=>(t===void 0&&(t=s()),t)}const gr=(s,t,a)=>{const r=t-s;return r===0?1:(a-s)/r},xs=s=>s*1e3,fs=s=>s/1e3,iw={useManualTiming:!1};function nw(s){let t=new Set,a=new Set,r=!1,i=!1;const n=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(d){n.has(d)&&(o.schedule(d),s()),d(l)}const o={schedule:(d,h=!1,u=!1)=>{const p=u&&r?t:a;return h&&n.add(d),p.has(d)||p.add(d),d},cancel:d=>{a.delete(d),n.delete(d)},process:d=>{if(l=d,r){i=!0;return}r=!0,[t,a]=[a,t],t.forEach(c),t.clear(),r=!1,i&&(i=!1,o.process(d))}};return o}const Ei=["read","resolveKeyframes","update","preRender","render","postRender"],lw=40;function kf(s,t){let a=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},n=()=>a=!0,l=Ei.reduce((w,y)=>(w[y]=nw(n),w),{}),{read:c,resolveKeyframes:o,update:d,preRender:h,render:u,postRender:m}=l,p=()=>{const w=performance.now();a=!1,i.delta=r?1e3/60:Math.max(Math.min(w-i.timestamp,lw),1),i.timestamp=w,i.isProcessing=!0,c.process(i),o.process(i),d.process(i),h.process(i),u.process(i),m.process(i),i.isProcessing=!1,a&&t&&(r=!1,s(p))},j=()=>{a=!0,r=!0,i.isProcessing||s(p)};return{schedule:Ei.reduce((w,y)=>{const v=l[y];return w[y]=(A,C=!1,O=!1)=>(a||j(),v.schedule(A,C,O)),w},{}),cancel:w=>{for(let y=0;y<Ei.length;y++)l[Ei[y]].cancel(w)},state:i,steps:l}}const{schedule:_e,cancel:Qs,state:Je,steps:ol}=kf(typeof requestAnimationFrame<"u"?requestAnimationFrame:kt,!0),Pf=x.createContext({strict:!1}),wd={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},vr={};for(const s in wd)vr[s]={isEnabled:t=>wd[s].some(a=>!!t[a])};function ow(s){for(const t in s)vr[t]={...vr[t],...s[t]}}const cw=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function an(s){return s.startsWith("while")||s.startsWith("drag")&&s!=="draggable"||s.startsWith("layout")||s.startsWith("onTap")||s.startsWith("onPan")||s.startsWith("onLayout")||cw.has(s)}let Tf=s=>!an(s);function dw(s){s&&(Tf=t=>t.startsWith("on")?!an(t):s(t))}try{dw(require("@emotion/is-prop-valid").default)}catch{}function hw(s,t,a){const r={};for(const i in s)i==="values"&&typeof s.values=="object"||(Tf(i)||a===!0&&an(i)||!t&&!an(i)||s.draggable&&i.startsWith("onDrag"))&&(r[i]=s[i]);return r}function uw(s){if(typeof Proxy>"u")return s;const t=new Map,a=(...r)=>s(...r);return new Proxy(a,{get:(r,i)=>i==="create"?s:(t.has(i)||t.set(i,s(i)),t.get(i))})}const Mn=x.createContext({});function si(s){return typeof s=="string"||Array.isArray(s)}function Dn(s){return s!==null&&typeof s=="object"&&typeof s.start=="function"}const ec=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],tc=["initial",...ec];function Ln(s){return Dn(s.animate)||tc.some(t=>si(s[t]))}function Af(s){return!!(Ln(s)||s.variants)}function mw(s,t){if(Ln(s)){const{initial:a,animate:r}=s;return{initial:a===!1||si(a)?a:void 0,animate:si(r)?r:void 0}}return s.inherit!==!1?t:{}}function xw(s){const{initial:t,animate:a}=mw(s,x.useContext(Mn));return x.useMemo(()=>({initial:t,animate:a}),[Cd(t),Cd(a)])}function Cd(s){return Array.isArray(s)?s.join(" "):s}const fw=Symbol.for("motionComponentSymbol");function qa(s){return s&&typeof s=="object"&&Object.prototype.hasOwnProperty.call(s,"current")}function pw(s,t,a){return x.useCallback(r=>{r&&s.onMount&&s.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):qa(a)&&(a.current=r))},[t])}const sc=s=>s.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),gw="framerAppearId",Rf="data-"+sc(gw),{schedule:ac}=kf(queueMicrotask,!1),Ef=x.createContext({});function vw(s,t,a,r,i){var n,l;const{visualElement:c}=x.useContext(Mn),o=x.useContext(Pf),d=x.useContext(Yo),h=x.useContext(Cf).reducedMotion,u=x.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(s,{visualState:t,parent:c,props:a,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const m=u.current,p=x.useContext(Ef);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&jw(u.current,a,i,p);const j=x.useRef(!1);x.useInsertionEffect(()=>{m&&j.current&&m.update(a,d)});const g=a[Rf],f=x.useRef(!!g&&!(!((n=window.MotionHandoffIsComplete)===null||n===void 0)&&n.call(window,g))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,g)));return rw(()=>{m&&(j.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),ac.render(m.render),f.current&&m.animationState&&m.animationState.animateChanges())}),x.useEffect(()=>{m&&(!f.current&&m.animationState&&m.animationState.animateChanges(),f.current&&(queueMicrotask(()=>{var w;(w=window.MotionHandoffMarkAsComplete)===null||w===void 0||w.call(window,g)}),f.current=!1))}),m}function jw(s,t,a,r){const{layoutId:i,layout:n,drag:l,dragConstraints:c,layoutScroll:o,layoutRoot:d}=t;s.projection=new a(s.latestValues,t["data-framer-portal-id"]?void 0:_f(s.parent)),s.projection.setOptions({layoutId:i,layout:n,alwaysMeasureLayout:!!l||c&&qa(c),visualElement:s,animationType:typeof n=="string"?n:"both",initialPromotionConfig:r,layoutScroll:o,layoutRoot:d})}function _f(s){if(s)return s.options.allowProjection!==!1?s.projection:_f(s.parent)}function yw({preloadedFeatures:s,createVisualElement:t,useRender:a,useVisualState:r,Component:i}){var n,l;s&&ow(s);function c(d,h){let u;const m={...x.useContext(Cf),...d,layoutId:bw(d)},{isStatic:p}=m,j=xw(d),g=r(d,p);if(!p&&Xo){Nw();const f=ww(m);u=f.MeasureLayout,j.visualElement=vw(i,g,m,t,f.ProjectionNode)}return e.jsxs(Mn.Provider,{value:j,children:[u&&j.visualElement?e.jsx(u,{visualElement:j.visualElement,...m}):null,a(i,d,pw(g,j.visualElement,h),g,p,j.visualElement)]})}c.displayName=`motion.${typeof i=="string"?i:`create(${(l=(n=i.displayName)!==null&&n!==void 0?n:i.name)!==null&&l!==void 0?l:""})`}`;const o=x.forwardRef(c);return o[fw]=i,o}function bw({layoutId:s}){const t=x.useContext(wf).id;return t&&s!==void 0?t+"-"+s:s}function Nw(s,t){x.useContext(Pf).strict}function ww(s){const{drag:t,layout:a}=vr;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t!=null&&t.isEnabled(s)||a!=null&&a.isEnabled(s)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Cw=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function rc(s){return typeof s!="string"||s.includes("-")?!1:!!(Cw.indexOf(s)>-1||/[A-Z]/u.test(s))}function Sd(s){const t=[{},{}];return s==null||s.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function ic(s,t,a,r){if(typeof t=="function"){const[i,n]=Sd(r);t=t(a!==void 0?a:s.custom,i,n)}if(typeof t=="string"&&(t=s.variants&&s.variants[t]),typeof t=="function"){const[i,n]=Sd(r);t=t(a!==void 0?a:s.custom,i,n)}return t}const so=s=>Array.isArray(s),Sw=s=>!!(s&&typeof s=="object"&&s.mix&&s.toValue),kw=s=>so(s)?s[s.length-1]||0:s,ot=s=>!!(s&&s.getVelocity);function zi(s){const t=ot(s)?s.get():s;return Sw(t)?t.toValue():t}function Pw({scrapeMotionValuesFromProps:s,createRenderState:t,onUpdate:a},r,i,n){const l={latestValues:Tw(r,i,n,s),renderState:t()};return a&&(l.onMount=c=>a({props:r,current:c,...l}),l.onUpdate=c=>a(c)),l}const If=s=>(t,a)=>{const r=x.useContext(Mn),i=x.useContext(Yo),n=()=>Pw(s,t,r,i);return a?n():sw(n)};function Tw(s,t,a,r){const i={},n=r(s,{});for(const m in n)i[m]=zi(n[m]);let{initial:l,animate:c}=s;const o=Ln(s),d=Af(s);t&&d&&!o&&s.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let h=a?a.initial===!1:!1;h=h||l===!1;const u=h?c:l;if(u&&typeof u!="boolean"&&!Dn(u)){const m=Array.isArray(u)?u:[u];for(let p=0;p<m.length;p++){const j=ic(s,m[p]);if(j){const{transitionEnd:g,transition:f,...w}=j;for(const y in w){let v=w[y];if(Array.isArray(v)){const A=h?v.length-1:0;v=v[A]}v!==null&&(i[y]=v)}for(const y in g)i[y]=g[y]}}}return i}const Sr=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],_a=new Set(Sr),Mf=s=>t=>typeof t=="string"&&t.startsWith(s),Df=Mf("--"),Aw=Mf("var(--"),nc=s=>Aw(s)?Rw.test(s.split("/*")[0].trim()):!1,Rw=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Lf=(s,t)=>t&&typeof s=="number"?t.transform(s):s,Ns=(s,t,a)=>a>t?t:a<s?s:a,kr={test:s=>typeof s=="number",parse:parseFloat,transform:s=>s},ai={...kr,transform:s=>Ns(0,1,s)},_i={...kr,default:1},gi=s=>({test:t=>typeof t=="string"&&t.endsWith(s)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${s}`}),Ps=gi("deg"),Zt=gi("%"),Y=gi("px"),Ew=gi("vh"),_w=gi("vw"),kd={...Zt,parse:s=>Zt.parse(s)/100,transform:s=>Zt.transform(s*100)},Iw={borderWidth:Y,borderTopWidth:Y,borderRightWidth:Y,borderBottomWidth:Y,borderLeftWidth:Y,borderRadius:Y,radius:Y,borderTopLeftRadius:Y,borderTopRightRadius:Y,borderBottomRightRadius:Y,borderBottomLeftRadius:Y,width:Y,maxWidth:Y,height:Y,maxHeight:Y,top:Y,right:Y,bottom:Y,left:Y,padding:Y,paddingTop:Y,paddingRight:Y,paddingBottom:Y,paddingLeft:Y,margin:Y,marginTop:Y,marginRight:Y,marginBottom:Y,marginLeft:Y,backgroundPositionX:Y,backgroundPositionY:Y},Mw={rotate:Ps,rotateX:Ps,rotateY:Ps,rotateZ:Ps,scale:_i,scaleX:_i,scaleY:_i,scaleZ:_i,skew:Ps,skewX:Ps,skewY:Ps,distance:Y,translateX:Y,translateY:Y,translateZ:Y,x:Y,y:Y,z:Y,perspective:Y,transformPerspective:Y,opacity:ai,originX:kd,originY:kd,originZ:Y},Pd={...kr,transform:Math.round},lc={...Iw,...Mw,zIndex:Pd,size:Y,fillOpacity:ai,strokeOpacity:ai,numOctaves:Pd},Dw={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lw=Sr.length;function Ow(s,t,a){let r="",i=!0;for(let n=0;n<Lw;n++){const l=Sr[n],c=s[l];if(c===void 0)continue;let o=!0;if(typeof c=="number"?o=c===(l.startsWith("scale")?1:0):o=parseFloat(c)===0,!o||a){const d=Lf(c,lc[l]);if(!o){i=!1;const h=Dw[l]||l;r+=`${h}(${d}) `}a&&(t[l]=d)}}return r=r.trim(),a?r=a(t,i?"":r):i&&(r="none"),r}function oc(s,t,a){const{style:r,vars:i,transformOrigin:n}=s;let l=!1,c=!1;for(const o in t){const d=t[o];if(_a.has(o)){l=!0;continue}else if(Df(o)){i[o]=d;continue}else{const h=Lf(d,lc[o]);o.startsWith("origin")?(c=!0,n[o]=h):r[o]=h}}if(t.transform||(l||a?r.transform=Ow(t,s.transform,a):r.transform&&(r.transform="none")),c){const{originX:o="50%",originY:d="50%",originZ:h=0}=n;r.transformOrigin=`${o} ${d} ${h}`}}const Fw={offset:"stroke-dashoffset",array:"stroke-dasharray"},Vw={offset:"strokeDashoffset",array:"strokeDasharray"};function $w(s,t,a=1,r=0,i=!0){s.pathLength=1;const n=i?Fw:Vw;s[n.offset]=Y.transform(-r);const l=Y.transform(t),c=Y.transform(a);s[n.array]=`${l} ${c}`}function Td(s,t,a){return typeof s=="string"?s:Y.transform(t+a*s)}function Uw(s,t,a){const r=Td(t,s.x,s.width),i=Td(a,s.y,s.height);return`${r} ${i}`}function cc(s,{attrX:t,attrY:a,attrScale:r,originX:i,originY:n,pathLength:l,pathSpacing:c=1,pathOffset:o=0,...d},h,u){if(oc(s,d,u),h){s.style.viewBox&&(s.attrs.viewBox=s.style.viewBox);return}s.attrs=s.style,s.style={};const{attrs:m,style:p,dimensions:j}=s;m.transform&&(j&&(p.transform=m.transform),delete m.transform),j&&(i!==void 0||n!==void 0||p.transform)&&(p.transformOrigin=Uw(j,i!==void 0?i:.5,n!==void 0?n:.5)),t!==void 0&&(m.x=t),a!==void 0&&(m.y=a),r!==void 0&&(m.scale=r),l!==void 0&&$w(m,l,c,o,!1)}const dc=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Of=()=>({...dc(),attrs:{}}),hc=s=>typeof s=="string"&&s.toLowerCase()==="svg";function Ff(s,{style:t,vars:a},r,i){Object.assign(s.style,t,i&&i.getProjectionStyles(r));for(const n in a)s.style.setProperty(n,a[n])}const Vf=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function $f(s,t,a,r){Ff(s,t,void 0,r);for(const i in t.attrs)s.setAttribute(Vf.has(i)?i:sc(i),t.attrs[i])}const rn={};function Bw(s){Object.assign(rn,s)}function Uf(s,{layout:t,layoutId:a}){return _a.has(s)||s.startsWith("origin")||(t||a!==void 0)&&(!!rn[s]||s==="opacity")}function uc(s,t,a){var r;const{style:i}=s,n={};for(const l in i)(ot(i[l])||t.style&&ot(t.style[l])||Uf(l,s)||((r=a==null?void 0:a.getValue(l))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(n[l]=i[l]);return n}function Bf(s,t,a){const r=uc(s,t,a);for(const i in s)if(ot(s[i])||ot(t[i])){const n=Sr.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[n]=s[i]}return r}function qw(s,t){try{t.dimensions=typeof s.getBBox=="function"?s.getBBox():s.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Ad=["x","y","width","height","cx","cy","r"],zw={useVisualState:If({scrapeMotionValuesFromProps:Bf,createRenderState:Of,onUpdate:({props:s,prevProps:t,current:a,renderState:r,latestValues:i})=>{if(!a)return;let n=!!s.drag;if(!n){for(const c in i)if(_a.has(c)){n=!0;break}}if(!n)return;let l=!t;if(t)for(let c=0;c<Ad.length;c++){const o=Ad[c];s[o]!==t[o]&&(l=!0)}l&&_e.read(()=>{qw(a,r),_e.render(()=>{cc(r,i,hc(a.tagName),s.transformTemplate),$f(a,r)})})}})},Hw={useVisualState:If({scrapeMotionValuesFromProps:uc,createRenderState:dc})};function qf(s,t,a){for(const r in t)!ot(t[r])&&!Uf(r,a)&&(s[r]=t[r])}function Ww({transformTemplate:s},t){return x.useMemo(()=>{const a=dc();return oc(a,t,s),Object.assign({},a.vars,a.style)},[t])}function Kw(s,t){const a=s.style||{},r={};return qf(r,a,s),Object.assign(r,Ww(s,t)),r}function Gw(s,t){const a={},r=Kw(s,t);return s.drag&&s.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=s.drag===!0?"none":`pan-${s.drag==="x"?"y":"x"}`),s.tabIndex===void 0&&(s.onTap||s.onTapStart||s.whileTap)&&(a.tabIndex=0),a.style=r,a}function Qw(s,t,a,r){const i=x.useMemo(()=>{const n=Of();return cc(n,t,hc(r),s.transformTemplate),{...n.attrs,style:{...n.style}}},[t]);if(s.style){const n={};qf(n,s.style,s),i.style={...n,...i.style}}return i}function Jw(s=!1){return(a,r,i,{latestValues:n},l)=>{const o=(rc(a)?Qw:Gw)(r,n,l,a),d=hw(r,typeof a=="string",s),h=a!==x.Fragment?{...d,...o,ref:i}:{},{children:u}=r,m=x.useMemo(()=>ot(u)?u.get():u,[u]);return x.createElement(a,{...h,children:m})}}function Yw(s,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const l={...rc(r)?zw:Hw,preloadedFeatures:s,useRender:Jw(i),createVisualElement:t,Component:r};return yw(l)}}function zf(s,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==s.length)return!1;for(let r=0;r<a;r++)if(t[r]!==s[r])return!1;return!0}function On(s,t,a){const r=s.getProps();return ic(r,t,a!==void 0?a:r.custom,s)}const Xw=Zo(()=>window.ScrollTimeline!==void 0);class Zw{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,a){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=a}attachTimeline(t,a){const r=this.animations.map(i=>{if(Xw()&&i.attachTimeline)return i.attachTimeline(t);if(typeof a=="function")return a(i)});return()=>{r.forEach((i,n)=>{i&&i(),this.animations[n].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let a=0;a<this.animations.length;a++)t=Math.max(t,this.animations[a].duration);return t}runAll(t){this.animations.forEach(a=>a[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class e1 extends Zw{then(t,a){return Promise.all(this.animations).then(t).catch(a)}}function mc(s,t){return s?s[t]||s.default||s:void 0}const ao=2e4;function Hf(s){let t=0;const a=50;let r=s.next(t);for(;!r.done&&t<ao;)t+=a,r=s.next(t);return t>=ao?1/0:t}function xc(s){return typeof s=="function"}function Rd(s,t){s.timeline=t,s.onfinish=null}const fc=s=>Array.isArray(s)&&typeof s[0]=="number",t1={linearEasing:void 0};function s1(s,t){const a=Zo(s);return()=>{var r;return(r=t1[t])!==null&&r!==void 0?r:a()}}const nn=s1(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Wf=(s,t,a=10)=>{let r="";const i=Math.max(Math.round(t/a),2);for(let n=0;n<i;n++)r+=s(gr(0,i-1,n))+", ";return`linear(${r.substring(0,r.length-2)})`};function Kf(s){return!!(typeof s=="function"&&nn()||!s||typeof s=="string"&&(s in ro||nn())||fc(s)||Array.isArray(s)&&s.every(Kf))}const $r=([s,t,a,r])=>`cubic-bezier(${s}, ${t}, ${a}, ${r})`,ro={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$r([0,.65,.55,1]),circOut:$r([.55,0,1,.45]),backIn:$r([.31,.01,.66,-.59]),backOut:$r([.33,1.53,.69,.99])};function Gf(s,t){if(s)return typeof s=="function"&&nn()?Wf(s,t):fc(s)?$r(s):Array.isArray(s)?s.map(a=>Gf(a,t)||ro.easeOut):ro[s]}const qt={x:!1,y:!1};function Qf(){return qt.x||qt.y}function a1(s,t,a){var r;if(s instanceof Element)return[s];if(typeof s=="string"){let i=document;const n=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(s);return n?Array.from(n):[]}return Array.from(s)}function Jf(s,t){const a=a1(s),r=new AbortController,i={passive:!0,...t,signal:r.signal};return[a,i,()=>r.abort()]}function Ed(s){return t=>{t.pointerType==="touch"||Qf()||s(t)}}function r1(s,t,a={}){const[r,i,n]=Jf(s,a),l=Ed(c=>{const{target:o}=c,d=t(c);if(typeof d!="function"||!o)return;const h=Ed(u=>{d(u),o.removeEventListener("pointerleave",h)});o.addEventListener("pointerleave",h,i)});return r.forEach(c=>{c.addEventListener("pointerenter",l,i)}),n}const Yf=(s,t)=>t?s===t?!0:Yf(s,t.parentElement):!1,pc=s=>s.pointerType==="mouse"?typeof s.button!="number"||s.button<=0:s.isPrimary!==!1,i1=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function n1(s){return i1.has(s.tagName)||s.tabIndex!==-1}const Ur=new WeakSet;function _d(s){return t=>{t.key==="Enter"&&s(t)}}function cl(s,t){s.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const l1=(s,t)=>{const a=s.currentTarget;if(!a)return;const r=_d(()=>{if(Ur.has(a))return;cl(a,"down");const i=_d(()=>{cl(a,"up")}),n=()=>cl(a,"cancel");a.addEventListener("keyup",i,t),a.addEventListener("blur",n,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function Id(s){return pc(s)&&!Qf()}function o1(s,t,a={}){const[r,i,n]=Jf(s,a),l=c=>{const o=c.currentTarget;if(!Id(c)||Ur.has(o))return;Ur.add(o);const d=t(c),h=(p,j)=>{window.removeEventListener("pointerup",u),window.removeEventListener("pointercancel",m),!(!Id(p)||!Ur.has(o))&&(Ur.delete(o),typeof d=="function"&&d(p,{success:j}))},u=p=>{h(p,a.useGlobalTarget||Yf(o,p.target))},m=p=>{h(p,!1)};window.addEventListener("pointerup",u,i),window.addEventListener("pointercancel",m,i)};return r.forEach(c=>{!n1(c)&&c.getAttribute("tabindex")===null&&(c.tabIndex=0),(a.useGlobalTarget?window:c).addEventListener("pointerdown",l,i),c.addEventListener("focus",d=>l1(d,i),i)}),n}function c1(s){return s==="x"||s==="y"?qt[s]?null:(qt[s]=!0,()=>{qt[s]=!1}):qt.x||qt.y?null:(qt.x=qt.y=!0,()=>{qt.x=qt.y=!1})}const Xf=new Set(["width","height","top","left","right","bottom",...Sr]);let Hi;function d1(){Hi=void 0}const es={now:()=>(Hi===void 0&&es.set(Je.isProcessing||iw.useManualTiming?Je.timestamp:performance.now()),Hi),set:s=>{Hi=s,queueMicrotask(d1)}};function gc(s,t){s.indexOf(t)===-1&&s.push(t)}function vc(s,t){const a=s.indexOf(t);a>-1&&s.splice(a,1)}class jc{constructor(){this.subscriptions=[]}add(t){return gc(this.subscriptions,t),()=>vc(this.subscriptions,t)}notify(t,a,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,a,r);else for(let n=0;n<i;n++){const l=this.subscriptions[n];l&&l(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Zf(s,t){return t?s*(1e3/t):0}const Md=30,h1=s=>!isNaN(parseFloat(s));class u1{constructor(t,a={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const n=es.now();this.updatedAt!==n&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=es.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=h1(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new jc);const r=this.events[t].add(a);return t==="change"?()=>{r(),_e.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t,a=!0){!a||!this.passiveEffect?this.updateAndNotify(t,a):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=es.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Md)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,Md);return Zf(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ri(s,t){return new u1(s,t)}function m1(s,t,a){s.hasValue(t)?s.getValue(t).set(a):s.addValue(t,ri(a))}function x1(s,t){const a=On(s,t);let{transitionEnd:r={},transition:i={},...n}=a||{};n={...n,...r};for(const l in n){const c=kw(n[l]);m1(s,l,c)}}function f1(s){return!!(ot(s)&&s.add)}function io(s,t){const a=s.getValue("willChange");if(f1(a))return a.add(t)}function ep(s){return s.props[Rf]}const tp=(s,t,a)=>(((1-3*a+3*t)*s+(3*a-6*t))*s+3*t)*s,p1=1e-7,g1=12;function v1(s,t,a,r,i){let n,l,c=0;do l=t+(a-t)/2,n=tp(l,r,i)-s,n>0?a=l:t=l;while(Math.abs(n)>p1&&++c<g1);return l}function vi(s,t,a,r){if(s===t&&a===r)return kt;const i=n=>v1(n,0,1,s,a);return n=>n===0||n===1?n:tp(i(n),t,r)}const sp=s=>t=>t<=.5?s(2*t)/2:(2-s(2*(1-t)))/2,ap=s=>t=>1-s(1-t),rp=vi(.33,1.53,.69,.99),yc=ap(rp),ip=sp(yc),np=s=>(s*=2)<1?.5*yc(s):.5*(2-Math.pow(2,-10*(s-1))),bc=s=>1-Math.sin(Math.acos(s)),lp=ap(bc),op=sp(bc),cp=s=>/^0[^.\s]+$/u.test(s);function j1(s){return typeof s=="number"?s===0:s!==null?s==="none"||s==="0"||cp(s):!0}const Hr=s=>Math.round(s*1e5)/1e5,Nc=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y1(s){return s==null}const b1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wc=(s,t)=>a=>!!(typeof a=="string"&&b1.test(a)&&a.startsWith(s)||t&&!y1(a)&&Object.prototype.hasOwnProperty.call(a,t)),dp=(s,t,a)=>r=>{if(typeof r!="string")return r;const[i,n,l,c]=r.match(Nc);return{[s]:parseFloat(i),[t]:parseFloat(n),[a]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},N1=s=>Ns(0,255,s),dl={...kr,transform:s=>Math.round(N1(s))},ua={test:wc("rgb","red"),parse:dp("red","green","blue"),transform:({red:s,green:t,blue:a,alpha:r=1})=>"rgba("+dl.transform(s)+", "+dl.transform(t)+", "+dl.transform(a)+", "+Hr(ai.transform(r))+")"};function w1(s){let t="",a="",r="",i="";return s.length>5?(t=s.substring(1,3),a=s.substring(3,5),r=s.substring(5,7),i=s.substring(7,9)):(t=s.substring(1,2),a=s.substring(2,3),r=s.substring(3,4),i=s.substring(4,5),t+=t,a+=a,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const no={test:wc("#"),parse:w1,transform:ua.transform},za={test:wc("hsl","hue"),parse:dp("hue","saturation","lightness"),transform:({hue:s,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(s)+", "+Zt.transform(Hr(t))+", "+Zt.transform(Hr(a))+", "+Hr(ai.transform(r))+")"},it={test:s=>ua.test(s)||no.test(s)||za.test(s),parse:s=>ua.test(s)?ua.parse(s):za.test(s)?za.parse(s):no.parse(s),transform:s=>typeof s=="string"?s:s.hasOwnProperty("red")?ua.transform(s):za.transform(s)},C1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function S1(s){var t,a;return isNaN(s)&&typeof s=="string"&&(((t=s.match(Nc))===null||t===void 0?void 0:t.length)||0)+(((a=s.match(C1))===null||a===void 0?void 0:a.length)||0)>0}const hp="number",up="color",k1="var",P1="var(",Dd="${}",T1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ii(s){const t=s.toString(),a=[],r={color:[],number:[],var:[]},i=[];let n=0;const c=t.replace(T1,o=>(it.test(o)?(r.color.push(n),i.push(up),a.push(it.parse(o))):o.startsWith(P1)?(r.var.push(n),i.push(k1),a.push(o)):(r.number.push(n),i.push(hp),a.push(parseFloat(o))),++n,Dd)).split(Dd);return{values:a,split:c,indexes:r,types:i}}function mp(s){return ii(s).values}function xp(s){const{split:t,types:a}=ii(s),r=t.length;return i=>{let n="";for(let l=0;l<r;l++)if(n+=t[l],i[l]!==void 0){const c=a[l];c===hp?n+=Hr(i[l]):c===up?n+=it.transform(i[l]):n+=i[l]}return n}}const A1=s=>typeof s=="number"?0:s;function R1(s){const t=mp(s);return xp(s)(t.map(A1))}const Js={test:S1,parse:mp,createTransformer:xp,getAnimatableNone:R1},E1=new Set(["brightness","contrast","saturate","opacity"]);function _1(s){const[t,a]=s.slice(0,-1).split("(");if(t==="drop-shadow")return s;const[r]=a.match(Nc)||[];if(!r)return s;const i=a.replace(r,"");let n=E1.has(t)?1:0;return r!==a&&(n*=100),t+"("+n+i+")"}const I1=/\b([a-z-]*)\(.*?\)/gu,lo={...Js,getAnimatableNone:s=>{const t=s.match(I1);return t?t.map(_1).join(" "):s}},M1={...lc,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:lo,WebkitFilter:lo},Cc=s=>M1[s];function fp(s,t){let a=Cc(s);return a!==lo&&(a=Js),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const D1=new Set(["auto","none","0"]);function L1(s,t,a){let r=0,i;for(;r<s.length&&!i;){const n=s[r];typeof n=="string"&&!D1.has(n)&&ii(n).values.length&&(i=s[r]),r++}if(i&&a)for(const n of t)s[n]=fp(a,i)}const Ld=s=>s===kr||s===Y,Od=(s,t)=>parseFloat(s.split(", ")[t]),Fd=(s,t)=>(a,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return Od(i[1],t);{const n=r.match(/^matrix\((.+)\)$/u);return n?Od(n[1],s):0}},O1=new Set(["x","y","z"]),F1=Sr.filter(s=>!O1.has(s));function V1(s){const t=[];return F1.forEach(a=>{const r=s.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const jr={width:({x:s},{paddingLeft:t="0",paddingRight:a="0"})=>s.max-s.min-parseFloat(t)-parseFloat(a),height:({y:s},{paddingTop:t="0",paddingBottom:a="0"})=>s.max-s.min-parseFloat(t)-parseFloat(a),top:(s,{top:t})=>parseFloat(t),left:(s,{left:t})=>parseFloat(t),bottom:({y:s},{top:t})=>parseFloat(t)+(s.max-s.min),right:({x:s},{left:t})=>parseFloat(t)+(s.max-s.min),x:Fd(4,13),y:Fd(5,14)};jr.translateX=jr.x;jr.translateY=jr.y;const wa=new Set;let oo=!1,co=!1;function pp(){if(co){const s=Array.from(wa).filter(r=>r.needsMeasurement),t=new Set(s.map(r=>r.element)),a=new Map;t.forEach(r=>{const i=V1(r);i.length&&(a.set(r,i),r.render())}),s.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=a.get(r);i&&i.forEach(([n,l])=>{var c;(c=r.getValue(n))===null||c===void 0||c.set(l)})}),s.forEach(r=>r.measureEndState()),s.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}co=!1,oo=!1,wa.forEach(s=>s.complete()),wa.clear()}function gp(){wa.forEach(s=>{s.readKeyframes(),s.needsMeasurement&&(co=!0)})}function $1(){gp(),pp()}class Sc{constructor(t,a,r,i,n,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=i,this.element=n,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(wa.add(this),oo||(oo=!0,_e.read(gp),_e.resolveKeyframes(pp))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:i}=this;for(let n=0;n<t.length;n++)if(t[n]===null)if(n===0){const l=i==null?void 0:i.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&a){const o=r.readValue(a,c);o!=null&&(t[0]=o)}t[0]===void 0&&(t[0]=c),i&&l===void 0&&i.set(t[0])}else t[n]=t[n-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),wa.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,wa.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const vp=s=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(s),U1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function B1(s){const t=U1.exec(s);if(!t)return[,];const[,a,r,i]=t;return[`--${a??r}`,i]}function jp(s,t,a=1){const[r,i]=B1(s);if(!r)return;const n=window.getComputedStyle(t).getPropertyValue(r);if(n){const l=n.trim();return vp(l)?parseFloat(l):l}return nc(i)?jp(i,t,a+1):i}const yp=s=>t=>t.test(s),q1={test:s=>s==="auto",parse:s=>s},bp=[kr,Y,Zt,Ps,_w,Ew,q1],Vd=s=>bp.find(yp(s));class Np extends Sc{constructor(t,a,r,i,n){super(t,a,r,i,n,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let o=0;o<t.length;o++){let d=t[o];if(typeof d=="string"&&(d=d.trim(),nc(d))){const h=jp(d,a.current);h!==void 0&&(t[o]=h),o===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!Xf.has(r)||t.length!==2)return;const[i,n]=t,l=Vd(i),c=Vd(n);if(l!==c)if(Ld(l)&&Ld(c))for(let o=0;o<t.length;o++){const d=t[o];typeof d=="string"&&(t[o]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let i=0;i<t.length;i++)j1(t[i])&&r.push(i);r.length&&L1(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=jr[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const i=a[a.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:a,name:r,unresolvedKeyframes:i}=this;if(!a||!a.current)return;const n=a.getValue(r);n&&n.jump(this.measuredOrigin,!1);const l=i.length-1,c=i[l];i[l]=jr[r](a.measureViewportBox(),window.getComputedStyle(a.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([o,d])=>{a.getValue(o).set(d)}),this.resolveNoneKeyframes()}}const $d=(s,t)=>t==="zIndex"?!1:!!(typeof s=="number"||Array.isArray(s)||typeof s=="string"&&(Js.test(s)||s==="0")&&!s.startsWith("url("));function z1(s){const t=s[0];if(s.length===1)return!0;for(let a=0;a<s.length;a++)if(s[a]!==t)return!0}function H1(s,t,a,r){const i=s[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const n=s[s.length-1],l=$d(i,t),c=$d(n,t);return!l||!c?!1:z1(s)||(a==="spring"||xc(a))&&r}const W1=s=>s!==null;function Fn(s,{repeat:t,repeatType:a="loop"},r){const i=s.filter(W1),n=t&&a!=="loop"&&t%2===1?0:i.length-1;return!n||r===void 0?i[n]:r}const K1=40;class wp{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:i=0,repeatDelay:n=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=es.now(),this.options={autoplay:t,delay:a,type:r,repeat:i,repeatDelay:n,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>K1?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$1(),this._resolved}onKeyframesResolved(t,a){this.resolvedAt=es.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:n,delay:l,onComplete:c,onUpdate:o,isGenerator:d}=this.options;if(!d&&!H1(t,r,i,n))if(l)this.options.duration=0;else{o&&o(Fn(t,this.options,a)),c&&c(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,a);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:a,...h},this.onPostResolved())}onPostResolved(){}then(t,a){return this.currentFinishedPromise.then(t,a)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Oe=(s,t,a)=>s+(t-s)*a;function hl(s,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?s+(t-s)*6*a:a<1/2?t:a<2/3?s+(t-s)*(2/3-a)*6:s}function G1({hue:s,saturation:t,lightness:a,alpha:r}){s/=360,t/=100,a/=100;let i=0,n=0,l=0;if(!t)i=n=l=a;else{const c=a<.5?a*(1+t):a+t-a*t,o=2*a-c;i=hl(o,c,s+1/3),n=hl(o,c,s),l=hl(o,c,s-1/3)}return{red:Math.round(i*255),green:Math.round(n*255),blue:Math.round(l*255),alpha:r}}function ln(s,t){return a=>a>0?t:s}const ul=(s,t,a)=>{const r=s*s,i=a*(t*t-r)+r;return i<0?0:Math.sqrt(i)},Q1=[no,ua,za],J1=s=>Q1.find(t=>t.test(s));function Ud(s){const t=J1(s);if(!t)return!1;let a=t.parse(s);return t===za&&(a=G1(a)),a}const Bd=(s,t)=>{const a=Ud(s),r=Ud(t);if(!a||!r)return ln(s,t);const i={...a};return n=>(i.red=ul(a.red,r.red,n),i.green=ul(a.green,r.green,n),i.blue=ul(a.blue,r.blue,n),i.alpha=Oe(a.alpha,r.alpha,n),ua.transform(i))},Y1=(s,t)=>a=>t(s(a)),ji=(...s)=>s.reduce(Y1),ho=new Set(["none","hidden"]);function X1(s,t){return ho.has(s)?a=>a<=0?s:t:a=>a>=1?t:s}function Z1(s,t){return a=>Oe(s,t,a)}function kc(s){return typeof s=="number"?Z1:typeof s=="string"?nc(s)?ln:it.test(s)?Bd:s2:Array.isArray(s)?Cp:typeof s=="object"?it.test(s)?Bd:e2:ln}function Cp(s,t){const a=[...s],r=a.length,i=s.map((n,l)=>kc(n)(n,t[l]));return n=>{for(let l=0;l<r;l++)a[l]=i[l](n);return a}}function e2(s,t){const a={...s,...t},r={};for(const i in a)s[i]!==void 0&&t[i]!==void 0&&(r[i]=kc(s[i])(s[i],t[i]));return i=>{for(const n in r)a[n]=r[n](i);return a}}function t2(s,t){var a;const r=[],i={color:0,var:0,number:0};for(let n=0;n<t.values.length;n++){const l=t.types[n],c=s.indexes[l][i[l]],o=(a=s.values[c])!==null&&a!==void 0?a:0;r[n]=o,i[l]++}return r}const s2=(s,t)=>{const a=Js.createTransformer(t),r=ii(s),i=ii(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?ho.has(s)&&!i.values.length||ho.has(t)&&!r.values.length?X1(s,t):ji(Cp(t2(r,i),i.values),a):ln(s,t)};function Sp(s,t,a){return typeof s=="number"&&typeof t=="number"&&typeof a=="number"?Oe(s,t,a):kc(s)(s,t)}const a2=5;function kp(s,t,a){const r=Math.max(t-a2,0);return Zf(a-s(r),t-r)}const $e={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},ml=.001;function r2({duration:s=$e.duration,bounce:t=$e.bounce,velocity:a=$e.velocity,mass:r=$e.mass}){let i,n,l=1-t;l=Ns($e.minDamping,$e.maxDamping,l),s=Ns($e.minDuration,$e.maxDuration,fs(s)),l<1?(i=d=>{const h=d*l,u=h*s,m=h-a,p=uo(d,l),j=Math.exp(-u);return ml-m/p*j},n=d=>{const u=d*l*s,m=u*a+a,p=Math.pow(l,2)*Math.pow(d,2)*s,j=Math.exp(-u),g=uo(Math.pow(d,2),l);return(-i(d)+ml>0?-1:1)*((m-p)*j)/g}):(i=d=>{const h=Math.exp(-d*s),u=(d-a)*s+1;return-ml+h*u},n=d=>{const h=Math.exp(-d*s),u=(a-d)*(s*s);return h*u});const c=5/s,o=n2(i,n,c);if(s=xs(s),isNaN(o))return{stiffness:$e.stiffness,damping:$e.damping,duration:s};{const d=Math.pow(o,2)*r;return{stiffness:d,damping:l*2*Math.sqrt(r*d),duration:s}}}const i2=12;function n2(s,t,a){let r=a;for(let i=1;i<i2;i++)r=r-s(r)/t(r);return r}function uo(s,t){return s*Math.sqrt(1-t*t)}const l2=["duration","bounce"],o2=["stiffness","damping","mass"];function qd(s,t){return t.some(a=>s[a]!==void 0)}function c2(s){let t={velocity:$e.velocity,stiffness:$e.stiffness,damping:$e.damping,mass:$e.mass,isResolvedFromDuration:!1,...s};if(!qd(s,o2)&&qd(s,l2))if(s.visualDuration){const a=s.visualDuration,r=2*Math.PI/(a*1.2),i=r*r,n=2*Ns(.05,1,1-(s.bounce||0))*Math.sqrt(i);t={...t,mass:$e.mass,stiffness:i,damping:n}}else{const a=r2(s);t={...t,...a,mass:$e.mass},t.isResolvedFromDuration=!0}return t}function Pp(s=$e.visualDuration,t=$e.bounce){const a=typeof s!="object"?{visualDuration:s,keyframes:[0,1],bounce:t}:s;let{restSpeed:r,restDelta:i}=a;const n=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],c={done:!1,value:n},{stiffness:o,damping:d,mass:h,duration:u,velocity:m,isResolvedFromDuration:p}=c2({...a,velocity:-fs(a.velocity||0)}),j=m||0,g=d/(2*Math.sqrt(o*h)),f=l-n,w=fs(Math.sqrt(o/h)),y=Math.abs(f)<5;r||(r=y?$e.restSpeed.granular:$e.restSpeed.default),i||(i=y?$e.restDelta.granular:$e.restDelta.default);let v;if(g<1){const C=uo(w,g);v=O=>{const M=Math.exp(-g*w*O);return l-M*((j+g*w*f)/C*Math.sin(C*O)+f*Math.cos(C*O))}}else if(g===1)v=C=>l-Math.exp(-w*C)*(f+(j+w*f)*C);else{const C=w*Math.sqrt(g*g-1);v=O=>{const M=Math.exp(-g*w*O),I=Math.min(C*O,300);return l-M*((j+g*w*f)*Math.sinh(I)+C*f*Math.cosh(I))/C}}const A={calculatedDuration:p&&u||null,next:C=>{const O=v(C);if(p)c.done=C>=u;else{let M=0;g<1&&(M=C===0?xs(j):kp(v,C,O));const I=Math.abs(M)<=r,_=Math.abs(l-O)<=i;c.done=I&&_}return c.value=c.done?l:O,c},toString:()=>{const C=Math.min(Hf(A),ao),O=Wf(M=>A.next(C*M).value,C,30);return C+"ms "+O}};return A}function zd({keyframes:s,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:n=500,modifyTarget:l,min:c,max:o,restDelta:d=.5,restSpeed:h}){const u=s[0],m={done:!1,value:u},p=I=>c!==void 0&&I<c||o!==void 0&&I>o,j=I=>c===void 0?o:o===void 0||Math.abs(c-I)<Math.abs(o-I)?c:o;let g=a*t;const f=u+g,w=l===void 0?f:l(f);w!==f&&(g=w-u);const y=I=>-g*Math.exp(-I/r),v=I=>w+y(I),A=I=>{const _=y(I),U=v(I);m.done=Math.abs(_)<=d,m.value=m.done?w:U};let C,O;const M=I=>{p(m.value)&&(C=I,O=Pp({keyframes:[m.value,j(m.value)],velocity:kp(v,I,m.value),damping:i,stiffness:n,restDelta:d,restSpeed:h}))};return M(0),{calculatedDuration:null,next:I=>{let _=!1;return!O&&C===void 0&&(_=!0,A(I),M(I)),C!==void 0&&I>=C?O.next(I-C):(!_&&A(I),m)}}}const d2=vi(.42,0,1,1),h2=vi(0,0,.58,1),Tp=vi(.42,0,.58,1),u2=s=>Array.isArray(s)&&typeof s[0]!="number",m2={linear:kt,easeIn:d2,easeInOut:Tp,easeOut:h2,circIn:bc,circInOut:op,circOut:lp,backIn:yc,backInOut:ip,backOut:rp,anticipate:np},Hd=s=>{if(fc(s)){Sf(s.length===4);const[t,a,r,i]=s;return vi(t,a,r,i)}else if(typeof s=="string")return m2[s];return s};function x2(s,t,a){const r=[],i=a||Sp,n=s.length-1;for(let l=0;l<n;l++){let c=i(s[l],s[l+1]);if(t){const o=Array.isArray(t)?t[l]||kt:t;c=ji(o,c)}r.push(c)}return r}function f2(s,t,{clamp:a=!0,ease:r,mixer:i}={}){const n=s.length;if(Sf(n===t.length),n===1)return()=>t[0];if(n===2&&t[0]===t[1])return()=>t[1];const l=s[0]===s[1];s[0]>s[n-1]&&(s=[...s].reverse(),t=[...t].reverse());const c=x2(t,r,i),o=c.length,d=h=>{if(l&&h<s[0])return t[0];let u=0;if(o>1)for(;u<s.length-2&&!(h<s[u+1]);u++);const m=gr(s[u],s[u+1],h);return c[u](m)};return a?h=>d(Ns(s[0],s[n-1],h)):d}function p2(s,t){const a=s[s.length-1];for(let r=1;r<=t;r++){const i=gr(0,t,r);s.push(Oe(a,1,i))}}function g2(s){const t=[0];return p2(t,s.length-1),t}function v2(s,t){return s.map(a=>a*t)}function j2(s,t){return s.map(()=>t||Tp).splice(0,s.length-1)}function on({duration:s=300,keyframes:t,times:a,ease:r="easeInOut"}){const i=u2(r)?r.map(Hd):Hd(r),n={done:!1,value:t[0]},l=v2(a&&a.length===t.length?a:g2(t),s),c=f2(l,t,{ease:Array.isArray(i)?i:j2(t,i)});return{calculatedDuration:s,next:o=>(n.value=c(o),n.done=o>=s,n)}}const y2=s=>{const t=({timestamp:a})=>s(a);return{start:()=>_e.update(t,!0),stop:()=>Qs(t),now:()=>Je.isProcessing?Je.timestamp:es.now()}},b2={decay:zd,inertia:zd,tween:on,keyframes:on,spring:Pp},N2=s=>s/100;class Pc extends wp{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:o}=this.options;o&&o()};const{name:a,motionValue:r,element:i,keyframes:n}=this.options,l=(i==null?void 0:i.KeyframeResolver)||Sc,c=(o,d)=>this.onKeyframesResolved(o,d);this.resolver=new l(n,c,a,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:a="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:n,velocity:l=0}=this.options,c=xc(a)?a:b2[a]||on;let o,d;c!==on&&typeof t[0]!="number"&&(o=ji(N2,Sp(t[0],t[1])),t=[0,100]);const h=c({...this.options,keyframes:t});n==="mirror"&&(d=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Hf(h));const{calculatedDuration:u}=h,m=u+i,p=m*(r+1)-i;return{generator:h,mirroredGenerator:d,mapPercentToKeyframes:o,calculatedDuration:u,resolvedDuration:m,totalDuration:p}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,a=!1){const{resolved:r}=this;if(!r){const{keyframes:I}=this.options;return{done:!0,value:I[I.length-1]}}const{finalKeyframe:i,generator:n,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:o,calculatedDuration:d,totalDuration:h,resolvedDuration:u}=r;if(this.startTime===null)return n.next(0);const{delay:m,repeat:p,repeatType:j,repeatDelay:g,onUpdate:f}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),a?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const w=this.currentTime-m*(this.speed>=0?1:-1),y=this.speed>=0?w<0:w>h;this.currentTime=Math.max(w,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let v=this.currentTime,A=n;if(p){const I=Math.min(this.currentTime,h)/u;let _=Math.floor(I),U=I%1;!U&&I>=1&&(U=1),U===1&&_--,_=Math.min(_,p+1),!!(_%2)&&(j==="reverse"?(U=1-U,g&&(U-=g/u)):j==="mirror"&&(A=l)),v=Ns(0,1,U)*u}const C=y?{done:!1,value:o[0]}:A.next(v);c&&(C.value=c(C.value));let{done:O}=C;!y&&d!==null&&(O=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return M&&i!==void 0&&(C.value=Fn(o,this.options,i)),f&&f(C.value),M&&this.finish(),C}get duration(){const{resolved:t}=this;return t?fs(t.calculatedDuration):0}get time(){return fs(this.currentTime)}set time(t){t=xs(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=fs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=y2,onPlay:a,startTime:r}=this.options;this.driver||(this.driver=t(n=>this.tick(n))),a&&a();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const w2=new Set(["opacity","clipPath","filter","transform"]);function C2(s,t,a,{delay:r=0,duration:i=300,repeat:n=0,repeatType:l="loop",ease:c="easeInOut",times:o}={}){const d={[t]:a};o&&(d.offset=o);const h=Gf(c,i);return Array.isArray(h)&&(d.easing=h),s.animate(d,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:n+1,direction:l==="reverse"?"alternate":"normal"})}const S2=Zo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),cn=10,k2=2e4;function P2(s){return xc(s.type)||s.type==="spring"||!Kf(s.ease)}function T2(s,t){const a=new Pc({...t,keyframes:s,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:s[0]};const i=[];let n=0;for(;!r.done&&n<k2;)r=a.sample(n),i.push(r.value),n+=cn;return{times:void 0,keyframes:i,duration:n-cn,ease:"linear"}}const Ap={anticipate:np,backInOut:ip,circInOut:op};function A2(s){return s in Ap}class Wd extends wp{constructor(t){super(t);const{name:a,motionValue:r,element:i,keyframes:n}=this.options;this.resolver=new Np(n,(l,c)=>this.onKeyframesResolved(l,c),a,r,i),this.resolver.scheduleResolve()}initPlayback(t,a){let{duration:r=300,times:i,ease:n,type:l,motionValue:c,name:o,startTime:d}=this.options;if(!c.owner||!c.owner.current)return!1;if(typeof n=="string"&&nn()&&A2(n)&&(n=Ap[n]),P2(this.options)){const{onComplete:u,onUpdate:m,motionValue:p,element:j,...g}=this.options,f=T2(t,g);t=f.keyframes,t.length===1&&(t[1]=t[0]),r=f.duration,i=f.times,n=f.ease,l="keyframes"}const h=C2(c.owner.current,o,t,{...this.options,duration:r,times:i,ease:n});return h.startTime=d??this.calcStartTime(),this.pendingTimeline?(Rd(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:u}=this.options;c.set(Fn(t,this.options,a)),u&&u(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:l,ease:n,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:a}=t;return fs(a)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:a}=t;return fs(a.currentTime||0)}set time(t){const{resolved:a}=this;if(!a)return;const{animation:r}=a;r.currentTime=xs(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:a}=t;return a.playbackRate}set speed(t){const{resolved:a}=this;if(!a)return;const{animation:r}=a;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:a}=t;return a.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:a}=t;return a.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:a}=this;if(!a)return kt;const{animation:r}=a;Rd(r,t)}return kt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:a}=t;a.playState==="finished"&&this.updateFinishedPromise(),a.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:a}=t;a.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:a,keyframes:r,duration:i,type:n,ease:l,times:c}=t;if(a.playState==="idle"||a.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:h,onComplete:u,element:m,...p}=this.options,j=new Pc({...p,keyframes:r,duration:i,type:n,ease:l,times:c,isGenerator:!0}),g=xs(this.time);d.setWithVelocity(j.sample(g-cn).value,j.sample(g).value,cn)}const{onStop:o}=this.options;o&&o(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:a,name:r,repeatDelay:i,repeatType:n,damping:l,type:c}=t;if(!a||!a.owner||!(a.owner.current instanceof HTMLElement))return!1;const{onUpdate:o,transformTemplate:d}=a.owner.getProps();return S2()&&r&&w2.has(r)&&!o&&!d&&!i&&n!=="mirror"&&l!==0&&c!=="inertia"}}const R2={type:"spring",stiffness:500,damping:25,restSpeed:10},E2=s=>({type:"spring",stiffness:550,damping:s===0?2*Math.sqrt(550):30,restSpeed:10}),_2={type:"keyframes",duration:.8},I2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},M2=(s,{keyframes:t})=>t.length>2?_2:_a.has(s)?s.startsWith("scale")?E2(t[1]):R2:I2;function D2({when:s,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:i,repeat:n,repeatType:l,repeatDelay:c,from:o,elapsed:d,...h}){return!!Object.keys(h).length}const Tc=(s,t,a,r={},i,n)=>l=>{const c=mc(r,s)||{},o=c.delay||r.delay||0;let{elapsed:d=0}=r;d=d-xs(o);let h={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-d,onUpdate:m=>{t.set(m),c.onUpdate&&c.onUpdate(m)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:s,motionValue:t,element:n?void 0:i};D2(c)||(h={...h,...M2(s,h)}),h.duration&&(h.duration=xs(h.duration)),h.repeatDelay&&(h.repeatDelay=xs(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let u=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(u=!0)),u&&!n&&t.get()!==void 0){const m=Fn(h.keyframes,c);if(m!==void 0)return _e.update(()=>{h.onUpdate(m),h.onComplete()}),new e1([])}return!n&&Wd.supports(h)?new Wd(h):new Pc(h)};function L2({protectedKeys:s,needsAnimating:t},a){const r=s.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function Rp(s,t,{delay:a=0,transitionOverride:r,type:i}={}){var n;let{transition:l=s.getDefaultTransition(),transitionEnd:c,...o}=t;r&&(l=r);const d=[],h=i&&s.animationState&&s.animationState.getState()[i];for(const u in o){const m=s.getValue(u,(n=s.latestValues[u])!==null&&n!==void 0?n:null),p=o[u];if(p===void 0||h&&L2(h,u))continue;const j={delay:a,...mc(l||{},u)};let g=!1;if(window.MotionHandoffAnimation){const w=ep(s);if(w){const y=window.MotionHandoffAnimation(w,u,_e);y!==null&&(j.startTime=y,g=!0)}}io(s,u),m.start(Tc(u,m,p,s.shouldReduceMotion&&Xf.has(u)?{type:!1}:j,s,g));const f=m.animation;f&&d.push(f)}return c&&Promise.all(d).then(()=>{_e.update(()=>{c&&x1(s,c)})}),d}function mo(s,t,a={}){var r;const i=On(s,t,a.type==="exit"?(r=s.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:n=s.getDefaultTransition()||{}}=i||{};a.transitionOverride&&(n=a.transitionOverride);const l=i?()=>Promise.all(Rp(s,i,a)):()=>Promise.resolve(),c=s.variantChildren&&s.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:u,staggerDirection:m}=n;return O2(s,t,h+d,u,m,a)}:()=>Promise.resolve(),{when:o}=n;if(o){const[d,h]=o==="beforeChildren"?[l,c]:[c,l];return d().then(()=>h())}else return Promise.all([l(),c(a.delay)])}function O2(s,t,a=0,r=0,i=1,n){const l=[],c=(s.variantChildren.size-1)*r,o=i===1?(d=0)=>d*r:(d=0)=>c-d*r;return Array.from(s.variantChildren).sort(F2).forEach((d,h)=>{d.notify("AnimationStart",t),l.push(mo(d,t,{...n,delay:a+o(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(l)}function F2(s,t){return s.sortNodePosition(t)}function V2(s,t,a={}){s.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(n=>mo(s,n,a));r=Promise.all(i)}else if(typeof t=="string")r=mo(s,t,a);else{const i=typeof t=="function"?On(s,t,a.custom):t;r=Promise.all(Rp(s,i,a))}return r.then(()=>{s.notify("AnimationComplete",t)})}const $2=tc.length;function Ep(s){if(!s)return;if(!s.isControllingVariants){const a=s.parent?Ep(s.parent)||{}:{};return s.props.initial!==void 0&&(a.initial=s.props.initial),a}const t={};for(let a=0;a<$2;a++){const r=tc[a],i=s.props[r];(si(i)||i===!1)&&(t[r]=i)}return t}const U2=[...ec].reverse(),B2=ec.length;function q2(s){return t=>Promise.all(t.map(({animation:a,options:r})=>V2(s,a,r)))}function z2(s){let t=q2(s),a=Kd(),r=!0;const i=o=>(d,h)=>{var u;const m=On(s,h,o==="exit"?(u=s.presenceContext)===null||u===void 0?void 0:u.custom:void 0);if(m){const{transition:p,transitionEnd:j,...g}=m;d={...d,...g,...j}}return d};function n(o){t=o(s)}function l(o){const{props:d}=s,h=Ep(s.parent)||{},u=[],m=new Set;let p={},j=1/0;for(let f=0;f<B2;f++){const w=U2[f],y=a[w],v=d[w]!==void 0?d[w]:h[w],A=si(v),C=w===o?y.isActive:null;C===!1&&(j=f);let O=v===h[w]&&v!==d[w]&&A;if(O&&r&&s.manuallyAnimateOnMount&&(O=!1),y.protectedKeys={...p},!y.isActive&&C===null||!v&&!y.prevProp||Dn(v)||typeof v=="boolean")continue;const M=H2(y.prevProp,v);let I=M||w===o&&y.isActive&&!O&&A||f>j&&A,_=!1;const U=Array.isArray(v)?v:[v];let L=U.reduce(i(w),{});C===!1&&(L={});const{prevResolvedValues:q={}}=y,H={...q,...L},R=Z=>{I=!0,m.has(Z)&&(_=!0,m.delete(Z)),y.needsAnimating[Z]=!0;const ue=s.getValue(Z);ue&&(ue.liveStyle=!1)};for(const Z in H){const ue=L[Z],F=q[Z];if(p.hasOwnProperty(Z))continue;let Me=!1;so(ue)&&so(F)?Me=!zf(ue,F):Me=ue!==F,Me?ue!=null?R(Z):m.add(Z):ue!==void 0&&m.has(Z)?R(Z):y.protectedKeys[Z]=!0}y.prevProp=v,y.prevResolvedValues=L,y.isActive&&(p={...p,...L}),r&&s.blockInitialAnimation&&(I=!1),I&&(!(O&&M)||_)&&u.push(...U.map(Z=>({animation:Z,options:{type:w}})))}if(m.size){const f={};m.forEach(w=>{const y=s.getBaseTarget(w),v=s.getValue(w);v&&(v.liveStyle=!0),f[w]=y??null}),u.push({animation:f})}let g=!!u.length;return r&&(d.initial===!1||d.initial===d.animate)&&!s.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(u):Promise.resolve()}function c(o,d){var h;if(a[o].isActive===d)return Promise.resolve();(h=s.variantChildren)===null||h===void 0||h.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(o,d)}),a[o].isActive=d;const u=l(o);for(const m in a)a[m].protectedKeys={};return u}return{animateChanges:l,setActive:c,setAnimateFunction:n,getState:()=>a,reset:()=>{a=Kd(),r=!0}}}function H2(s,t){return typeof t=="string"?t!==s:Array.isArray(t)?!zf(t,s):!1}function ra(s=!1){return{isActive:s,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Kd(){return{animate:ra(!0),whileInView:ra(),whileHover:ra(),whileTap:ra(),whileDrag:ra(),whileFocus:ra(),exit:ra()}}class ea{constructor(t){this.isMounted=!1,this.node=t}update(){}}class W2 extends ea{constructor(t){super(t),t.animationState||(t.animationState=z2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Dn(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let K2=0;class G2 extends ea{constructor(){super(...arguments),this.id=K2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);a&&!t&&i.then(()=>a(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Q2={animation:{Feature:W2},exit:{Feature:G2}};function ni(s,t,a,r={passive:!0}){return s.addEventListener(t,a,r),()=>s.removeEventListener(t,a)}function yi(s){return{point:{x:s.pageX,y:s.pageY}}}const J2=s=>t=>pc(t)&&s(t,yi(t));function Wr(s,t,a,r){return ni(s,t,J2(a),r)}const Gd=(s,t)=>Math.abs(s-t);function Y2(s,t){const a=Gd(s.x,t.x),r=Gd(s.y,t.y);return Math.sqrt(a**2+r**2)}class _p{constructor(t,a,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:n=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=fl(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,p=Y2(u.offset,{x:0,y:0})>=3;if(!m&&!p)return;const{point:j}=u,{timestamp:g}=Je;this.history.push({...j,timestamp:g});const{onStart:f,onMove:w}=this.handlers;m||(f&&f(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,u)},this.handlePointerMove=(u,m)=>{this.lastMoveEvent=u,this.lastMoveEventInfo=xl(m,this.transformPagePoint),_e.update(this.updatePoint,!0)},this.handlePointerUp=(u,m)=>{this.end();const{onEnd:p,onSessionEnd:j,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=fl(u.type==="pointercancel"?this.lastMoveEventInfo:xl(m,this.transformPagePoint),this.history);this.startEvent&&p&&p(u,f),j&&j(u,f)},!pc(t))return;this.dragSnapToOrigin=n,this.handlers=a,this.transformPagePoint=r,this.contextWindow=i||window;const l=yi(t),c=xl(l,this.transformPagePoint),{point:o}=c,{timestamp:d}=Je;this.history=[{...o,timestamp:d}];const{onSessionStart:h}=a;h&&h(t,fl(c,this.history)),this.removeListeners=ji(Wr(this.contextWindow,"pointermove",this.handlePointerMove),Wr(this.contextWindow,"pointerup",this.handlePointerUp),Wr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Qs(this.updatePoint)}}function xl(s,t){return t?{point:t(s.point)}:s}function Qd(s,t){return{x:s.x-t.x,y:s.y-t.y}}function fl({point:s},t){return{point:s,delta:Qd(s,Ip(t)),offset:Qd(s,X2(t)),velocity:Z2(t,.1)}}function X2(s){return s[0]}function Ip(s){return s[s.length-1]}function Z2(s,t){if(s.length<2)return{x:0,y:0};let a=s.length-1,r=null;const i=Ip(s);for(;a>=0&&(r=s[a],!(i.timestamp-r.timestamp>xs(t)));)a--;if(!r)return{x:0,y:0};const n=fs(i.timestamp-r.timestamp);if(n===0)return{x:0,y:0};const l={x:(i.x-r.x)/n,y:(i.y-r.y)/n};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}const Mp=1e-4,eC=1-Mp,tC=1+Mp,Dp=.01,sC=0-Dp,aC=0+Dp;function At(s){return s.max-s.min}function rC(s,t,a){return Math.abs(s-t)<=a}function Jd(s,t,a,r=.5){s.origin=r,s.originPoint=Oe(t.min,t.max,s.origin),s.scale=At(a)/At(t),s.translate=Oe(a.min,a.max,s.origin)-s.originPoint,(s.scale>=eC&&s.scale<=tC||isNaN(s.scale))&&(s.scale=1),(s.translate>=sC&&s.translate<=aC||isNaN(s.translate))&&(s.translate=0)}function Kr(s,t,a,r){Jd(s.x,t.x,a.x,r?r.originX:void 0),Jd(s.y,t.y,a.y,r?r.originY:void 0)}function Yd(s,t,a){s.min=a.min+t.min,s.max=s.min+At(t)}function iC(s,t,a){Yd(s.x,t.x,a.x),Yd(s.y,t.y,a.y)}function Xd(s,t,a){s.min=t.min-a.min,s.max=s.min+At(t)}function Gr(s,t,a){Xd(s.x,t.x,a.x),Xd(s.y,t.y,a.y)}function nC(s,{min:t,max:a},r){return t!==void 0&&s<t?s=r?Oe(t,s,r.min):Math.max(s,t):a!==void 0&&s>a&&(s=r?Oe(a,s,r.max):Math.min(s,a)),s}function Zd(s,t,a){return{min:t!==void 0?s.min+t:void 0,max:a!==void 0?s.max+a-(s.max-s.min):void 0}}function lC(s,{top:t,left:a,bottom:r,right:i}){return{x:Zd(s.x,a,i),y:Zd(s.y,t,r)}}function eh(s,t){let a=t.min-s.min,r=t.max-s.max;return t.max-t.min<s.max-s.min&&([a,r]=[r,a]),{min:a,max:r}}function oC(s,t){return{x:eh(s.x,t.x),y:eh(s.y,t.y)}}function cC(s,t){let a=.5;const r=At(s),i=At(t);return i>r?a=gr(t.min,t.max-r,s.min):r>i&&(a=gr(s.min,s.max-i,t.min)),Ns(0,1,a)}function dC(s,t){const a={};return t.min!==void 0&&(a.min=t.min-s.min),t.max!==void 0&&(a.max=t.max-s.min),a}const xo=.35;function hC(s=xo){return s===!1?s=0:s===!0&&(s=xo),{x:th(s,"left","right"),y:th(s,"top","bottom")}}function th(s,t,a){return{min:sh(s,t),max:sh(s,a)}}function sh(s,t){return typeof s=="number"?s:s[t]||0}const ah=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ha=()=>({x:ah(),y:ah()}),rh=()=>({min:0,max:0}),Ue=()=>({x:rh(),y:rh()});function _t(s){return[s("x"),s("y")]}function Lp({top:s,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:s,max:r}}}function uC({x:s,y:t}){return{top:t.min,right:s.max,bottom:t.max,left:s.min}}function mC(s,t){if(!t)return s;const a=t({x:s.left,y:s.top}),r=t({x:s.right,y:s.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function pl(s){return s===void 0||s===1}function fo({scale:s,scaleX:t,scaleY:a}){return!pl(s)||!pl(t)||!pl(a)}function oa(s){return fo(s)||Op(s)||s.z||s.rotate||s.rotateX||s.rotateY||s.skewX||s.skewY}function Op(s){return ih(s.x)||ih(s.y)}function ih(s){return s&&s!=="0%"}function dn(s,t,a){const r=s-a,i=t*r;return a+i}function nh(s,t,a,r,i){return i!==void 0&&(s=dn(s,i,r)),dn(s,a,r)+t}function po(s,t=0,a=1,r,i){s.min=nh(s.min,t,a,r,i),s.max=nh(s.max,t,a,r,i)}function Fp(s,{x:t,y:a}){po(s.x,t.translate,t.scale,t.originPoint),po(s.y,a.translate,a.scale,a.originPoint)}const lh=.999999999999,oh=1.0000000000001;function xC(s,t,a,r=!1){const i=a.length;if(!i)return;t.x=t.y=1;let n,l;for(let c=0;c<i;c++){n=a[c],l=n.projectionDelta;const{visualElement:o}=n.options;o&&o.props.style&&o.props.style.display==="contents"||(r&&n.options.layoutScroll&&n.scroll&&n!==n.root&&Ka(s,{x:-n.scroll.offset.x,y:-n.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,Fp(s,l)),r&&oa(n.latestValues)&&Ka(s,n.latestValues))}t.x<oh&&t.x>lh&&(t.x=1),t.y<oh&&t.y>lh&&(t.y=1)}function Wa(s,t){s.min=s.min+t,s.max=s.max+t}function ch(s,t,a,r,i=.5){const n=Oe(s.min,s.max,i);po(s,t,a,n,r)}function Ka(s,t){ch(s.x,t.x,t.scaleX,t.scale,t.originX),ch(s.y,t.y,t.scaleY,t.scale,t.originY)}function Vp(s,t){return Lp(mC(s.getBoundingClientRect(),t))}function fC(s,t,a){const r=Vp(s,a),{scroll:i}=t;return i&&(Wa(r.x,i.offset.x),Wa(r.y,i.offset.y)),r}const $p=({current:s})=>s?s.ownerDocument.defaultView:null,pC=new WeakMap;class gC{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ue(),this.visualElement=t}start(t,{snapToCursor:a=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:u}=this.getProps();u?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(yi(h).point)},n=(h,u)=>{const{drag:m,dragPropagation:p,onDragStart:j}=this.getProps();if(m&&!p&&(this.openDragLock&&this.openDragLock(),this.openDragLock=c1(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),_t(f=>{let w=this.getAxisMotionValue(f).get()||0;if(Zt.test(w)){const{projection:y}=this.visualElement;if(y&&y.layout){const v=y.layout.layoutBox[f];v&&(w=At(v)*(parseFloat(w)/100))}}this.originPoint[f]=w}),j&&_e.postRender(()=>j(h,u)),io(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},l=(h,u)=>{const{dragPropagation:m,dragDirectionLock:p,onDirectionLock:j,onDrag:g}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:f}=u;if(p&&this.currentDirection===null){this.currentDirection=vC(f),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",u.point,f),this.updateAxis("y",u.point,f),this.visualElement.render(),g&&g(h,u)},c=(h,u)=>this.stop(h,u),o=()=>_t(h=>{var u;return this.getAnimationState(h)==="paused"&&((u=this.getAxisMotionValue(h).animation)===null||u===void 0?void 0:u.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new _p(t,{onSessionStart:i,onStart:n,onMove:l,onSessionEnd:c,resumeAnimation:o},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:$p(this.visualElement)})}stop(t,a){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=a;this.startAnimation(i);const{onDragEnd:n}=this.getProps();n&&_e.postRender(()=>n(t,a))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:i}=this.getProps();if(!r||!Ii(t,i,this.currentDirection))return;const n=this.getAxisMotionValue(t);let l=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(l=nC(l,this.constraints[t],this.elastic[t])),n.set(l)}resolveConstraints(){var t;const{dragConstraints:a,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,n=this.constraints;a&&qa(a)?this.constraints||(this.constraints=this.resolveRefConstraints()):a&&i?this.constraints=lC(i.layoutBox,a):this.constraints=!1,this.elastic=hC(r),n!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&_t(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=dC(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!qa(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const n=fC(r,i.root,this.visualElement.getTransformPagePoint());let l=oC(i.layout.layoutBox,n);if(a){const c=a(uC(l));this.hasMutatedConstraints=!!c,c&&(l=Lp(c))}return l}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:i,dragTransition:n,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),o=this.constraints||{},d=_t(h=>{if(!Ii(h,a,this.currentDirection))return;let u=o&&o[h]||{};l&&(u={min:0,max:0});const m=i?200:1e6,p=i?40:1e7,j={type:"inertia",velocity:r?t[h]:0,bounceStiffness:m,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...n,...u};return this.startAxisValueAnimation(h,j)});return Promise.all(d).then(c)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return io(this.visualElement,t),r.start(Tc(t,r,0,a,this.visualElement,!1))}stopAnimation(){_t(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){_t(t=>{var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)===null||a===void 0?void 0:a.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[a];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){_t(a=>{const{drag:r}=this.getProps();if(!Ii(a,r,this.currentDirection))return;const{projection:i}=this.visualElement,n=this.getAxisMotionValue(a);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[a];n.set(t[a]-Oe(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!qa(a)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};_t(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const o=c.get();i[l]=cC({min:o,max:o},this.constraints[l])}});const{transformTemplate:n}=this.visualElement.getProps();this.visualElement.current.style.transform=n?n({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),_t(l=>{if(!Ii(l,t,null))return;const c=this.getAxisMotionValue(l),{min:o,max:d}=this.constraints[l];c.set(Oe(o,d,i[l]))})}addListeners(){if(!this.visualElement.current)return;pC.set(this.visualElement,this);const t=this.visualElement.current,a=Wr(t,"pointerdown",o=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(o)}),r=()=>{const{dragConstraints:o}=this.getProps();qa(o)&&o.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,n=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),_e.read(r);const l=ni(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:o,hasLayoutChanged:d})=>{this.isDragging&&d&&(_t(h=>{const u=this.getAxisMotionValue(h);u&&(this.originPoint[h]+=o[h].translate,u.set(u.get()+o[h].translate))}),this.visualElement.render())});return()=>{l(),a(),n(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:n=!1,dragElastic:l=xo,dragMomentum:c=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:i,dragConstraints:n,dragElastic:l,dragMomentum:c}}}function Ii(s,t,a){return(t===!0||t===s)&&(a===null||a===s)}function vC(s,t=10){let a=null;return Math.abs(s.y)>t?a="y":Math.abs(s.x)>t&&(a="x"),a}class jC extends ea{constructor(t){super(t),this.removeGroupControls=kt,this.removeListeners=kt,this.controls=new gC(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kt}unmount(){this.removeGroupControls(),this.removeListeners()}}const dh=s=>(t,a)=>{s&&_e.postRender(()=>s(t,a))};class yC extends ea{constructor(){super(...arguments),this.removePointerDownListener=kt}onPointerDown(t){this.session=new _p(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$p(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:dh(t),onStart:dh(a),onMove:r,onEnd:(n,l)=>{delete this.session,i&&_e.postRender(()=>i(n,l))}}}mount(){this.removePointerDownListener=Wr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Wi={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function hh(s,t){return t.max===t.min?0:s/(t.max-t.min)*100}const Dr={correct:(s,t)=>{if(!t.target)return s;if(typeof s=="string")if(Y.test(s))s=parseFloat(s);else return s;const a=hh(s,t.target.x),r=hh(s,t.target.y);return`${a}% ${r}%`}},bC={correct:(s,{treeScale:t,projectionDelta:a})=>{const r=s,i=Js.parse(s);if(i.length>5)return r;const n=Js.createTransformer(s),l=typeof i[0]!="number"?1:0,c=a.x.scale*t.x,o=a.y.scale*t.y;i[0+l]/=c,i[1+l]/=o;const d=Oe(c,o,.5);return typeof i[2+l]=="number"&&(i[2+l]/=d),typeof i[3+l]=="number"&&(i[3+l]/=d),n(i)}};class NC extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:i}=this.props,{projection:n}=t;Bw(wC),n&&(a.group&&a.group.add(n),r&&r.register&&i&&r.register(n),n.root.didUpdate(),n.addEventListener("animationComplete",()=>{this.safeToRemove()}),n.setOptions({...n.options,onExitComplete:()=>this.safeToRemove()})),Wi.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:i,isPresent:n}=this.props,l=r.projection;return l&&(l.isPresent=n,i||t.layoutDependency!==a||a===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==n&&(n?l.promote():l.relegate()||_e.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),ac.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Up(s){const[t,a]=aw(),r=x.useContext(wf);return e.jsx(NC,{...s,layoutGroup:r,switchLayoutGroup:x.useContext(Ef),isPresent:t,safeToRemove:a})}const wC={borderRadius:{...Dr,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dr,borderTopRightRadius:Dr,borderBottomLeftRadius:Dr,borderBottomRightRadius:Dr,boxShadow:bC};function CC(s,t,a){const r=ot(s)?s:ri(s);return r.start(Tc("",r,t,a)),r.animation}function SC(s){return s instanceof SVGElement&&s.tagName!=="svg"}const kC=(s,t)=>s.depth-t.depth;class PC{constructor(){this.children=[],this.isDirty=!1}add(t){gc(this.children,t),this.isDirty=!0}remove(t){vc(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(kC),this.isDirty=!1,this.children.forEach(t)}}function TC(s,t){const a=es.now(),r=({timestamp:i})=>{const n=i-a;n>=t&&(Qs(r),s(n-t))};return _e.read(r,!0),()=>Qs(r)}const Bp=["TopLeft","TopRight","BottomLeft","BottomRight"],AC=Bp.length,uh=s=>typeof s=="string"?parseFloat(s):s,mh=s=>typeof s=="number"||Y.test(s);function RC(s,t,a,r,i,n){i?(s.opacity=Oe(0,a.opacity!==void 0?a.opacity:1,EC(r)),s.opacityExit=Oe(t.opacity!==void 0?t.opacity:1,0,_C(r))):n&&(s.opacity=Oe(t.opacity!==void 0?t.opacity:1,a.opacity!==void 0?a.opacity:1,r));for(let l=0;l<AC;l++){const c=`border${Bp[l]}Radius`;let o=xh(t,c),d=xh(a,c);if(o===void 0&&d===void 0)continue;o||(o=0),d||(d=0),o===0||d===0||mh(o)===mh(d)?(s[c]=Math.max(Oe(uh(o),uh(d),r),0),(Zt.test(d)||Zt.test(o))&&(s[c]+="%")):s[c]=d}(t.rotate||a.rotate)&&(s.rotate=Oe(t.rotate||0,a.rotate||0,r))}function xh(s,t){return s[t]!==void 0?s[t]:s.borderRadius}const EC=qp(0,.5,lp),_C=qp(.5,.95,kt);function qp(s,t,a){return r=>r<s?0:r>t?1:a(gr(s,t,r))}function fh(s,t){s.min=t.min,s.max=t.max}function Et(s,t){fh(s.x,t.x),fh(s.y,t.y)}function ph(s,t){s.translate=t.translate,s.scale=t.scale,s.originPoint=t.originPoint,s.origin=t.origin}function gh(s,t,a,r,i){return s-=t,s=dn(s,1/a,r),i!==void 0&&(s=dn(s,1/i,r)),s}function IC(s,t=0,a=1,r=.5,i,n=s,l=s){if(Zt.test(t)&&(t=parseFloat(t),t=Oe(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Oe(n.min,n.max,r);s===n&&(c-=t),s.min=gh(s.min,t,a,c,i),s.max=gh(s.max,t,a,c,i)}function vh(s,t,[a,r,i],n,l){IC(s,t[a],t[r],t[i],t.scale,n,l)}const MC=["x","scaleX","originX"],DC=["y","scaleY","originY"];function jh(s,t,a,r){vh(s.x,t,MC,a?a.x:void 0,r?r.x:void 0),vh(s.y,t,DC,a?a.y:void 0,r?r.y:void 0)}function yh(s){return s.translate===0&&s.scale===1}function zp(s){return yh(s.x)&&yh(s.y)}function bh(s,t){return s.min===t.min&&s.max===t.max}function LC(s,t){return bh(s.x,t.x)&&bh(s.y,t.y)}function Nh(s,t){return Math.round(s.min)===Math.round(t.min)&&Math.round(s.max)===Math.round(t.max)}function Hp(s,t){return Nh(s.x,t.x)&&Nh(s.y,t.y)}function wh(s){return At(s.x)/At(s.y)}function Ch(s,t){return s.translate===t.translate&&s.scale===t.scale&&s.originPoint===t.originPoint}class OC{constructor(){this.members=[]}add(t){gc(this.members,t),t.scheduleRender()}remove(t){if(vc(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(i=>t===i);if(a===0)return!1;let r;for(let i=a;i>=0;i--){const n=this.members[i];if(n.isPresent!==!1){r=n;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function FC(s,t,a){let r="";const i=s.x.translate/t.x,n=s.y.translate/t.y,l=(a==null?void 0:a.z)||0;if((i||n||l)&&(r=`translate3d(${i}px, ${n}px, ${l}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:d,rotate:h,rotateX:u,rotateY:m,skewX:p,skewY:j}=a;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),u&&(r+=`rotateX(${u}deg) `),m&&(r+=`rotateY(${m}deg) `),p&&(r+=`skewX(${p}deg) `),j&&(r+=`skewY(${j}deg) `)}const c=s.x.scale*t.x,o=s.y.scale*t.y;return(c!==1||o!==1)&&(r+=`scale(${c}, ${o})`),r||"none"}const ca={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Br=typeof window<"u"&&window.MotionDebug!==void 0,gl=["","X","Y","Z"],VC={visibility:"hidden"},Sh=1e3;let $C=0;function vl(s,t,a,r){const{latestValues:i}=t;i[s]&&(a[s]=i[s],t.setStaticValue(s,0),r&&(r[s]=0))}function Wp(s){if(s.hasCheckedOptimisedAppear=!0,s.root===s)return;const{visualElement:t}=s.options;if(!t)return;const a=ep(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:i,layoutId:n}=s.options;window.MotionCancelOptimisedAnimation(a,"transform",_e,!(i||n))}const{parent:r}=s;r&&!r.hasCheckedOptimisedAppear&&Wp(r)}function Kp({attachResizeListener:s,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(l={},c=t==null?void 0:t()){this.id=$C++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Br&&(ca.totalNodes=ca.resolvedTargetDeltas=ca.recalculatedProjection=0),this.nodes.forEach(qC),this.nodes.forEach(GC),this.nodes.forEach(QC),this.nodes.forEach(zC),Br&&window.MotionDebug.record(ca)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let o=0;o<this.path.length;o++)this.path[o].shouldResetTransform=!0;this.root===this&&(this.nodes=new PC)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new jc),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const o=this.eventHandlers.get(l);o&&o.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SC(l),this.instance=l;const{layoutId:o,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(d||o)&&(this.isLayoutDirty=!0),s){let u;const m=()=>this.root.updateBlockedByResize=!1;s(l,()=>{this.root.updateBlockedByResize=!0,u&&u(),u=TC(m,250),Wi.hasAnimatedSinceResize&&(Wi.hasAnimatedSinceResize=!1,this.nodes.forEach(Ph))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&h&&(o||d)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:m,hasRelativeTargetChanged:p,layout:j})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||h.getDefaultTransition()||eS,{onLayoutAnimationStart:f,onLayoutAnimationComplete:w}=h.getProps(),y=!this.targetLayout||!Hp(this.targetLayout,j)||p,v=!m&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||m&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(u,v);const A={...mc(g,"layout"),onPlay:f,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A)}else m||Ph(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=j})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Qs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(JC),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Wp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const u=this.path[h];u.shouldResetTransform=!0,u.updateScroll("snapshot"),u.options.layoutRoot&&u.willUpdate(!1)}const{layoutId:c,layout:o}=this.options;if(c===void 0&&!o)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(kh);return}this.isUpdating||this.nodes.forEach(WC),this.isUpdating=!1,this.nodes.forEach(KC),this.nodes.forEach(UC),this.nodes.forEach(BC),this.clearAllSnapshots();const c=es.now();Je.delta=Ns(0,1e3/60,c-Je.timestamp),Je.timestamp=c,Je.isProcessing=!0,ol.update.process(Je),ol.preRender.process(Je),ol.render.process(Je),Je.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ac.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HC),this.sharedNodes.forEach(YC)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,_e.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){_e.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let o=0;o<this.path.length;o++)this.path[o].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ue(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const o=r(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:o,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:o}}}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!zp(this.projectionDelta),o=this.getTransformTemplate(),d=o?o(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;l&&(c||oa(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let o=this.removeElementScroll(c);return l&&(o=this.removeTransform(o)),tS(o),{animationId:this.root.animationId,measuredBox:c,layoutBox:o,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return Ue();const o=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(sS))){const{scroll:h}=this.root;h&&(Wa(o.x,h.offset.x),Wa(o.y,h.offset.y))}return o}removeElementScroll(l){var c;const o=Ue();if(Et(o,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return o;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:u,options:m}=h;h!==this.root&&u&&m.layoutScroll&&(u.wasRoot&&Et(o,l),Wa(o.x,u.offset.x),Wa(o.y,u.offset.y))}return o}applyTransform(l,c=!1){const o=Ue();Et(o,l);for(let d=0;d<this.path.length;d++){const h=this.path[d];!c&&h.options.layoutScroll&&h.scroll&&h!==h.root&&Ka(o,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),oa(h.latestValues)&&Ka(o,h.latestValues)}return oa(this.latestValues)&&Ka(o,this.latestValues),o}removeTransform(l){const c=Ue();Et(c,l);for(let o=0;o<this.path.length;o++){const d=this.path[o];if(!d.instance||!oa(d.latestValues))continue;fo(d.latestValues)&&d.updateSnapshot();const h=Ue(),u=d.measurePageBox();Et(h,u),jh(c,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return oa(this.latestValues)&&jh(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Je.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==o;if(!(l||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:m}=this.options;if(!(!this.layout||!(u||m))){if(this.resolvedRelativeTargetAt=Je.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Gr(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ue(),this.targetWithTransforms=Ue()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iC(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Et(this.target,this.layout.layoutBox),Fp(this.target,this.targetDelta)):Et(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ue(),this.relativeTargetOrigin=Ue(),Gr(this.relativeTargetOrigin,this.target,p.target),Et(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Br&&ca.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fo(this.parent.latestValues)||Op(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),o=!!this.resumingFrom||this!==c;let d=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(d=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===Je.timestamp&&(d=!1),d)return;const{layout:h,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||u))return;Et(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;xC(this.layoutCorrected,this.treeScale,this.path,o),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=Ue());const{target:j}=c;if(!j){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ph(this.prevProjectionDelta.x,this.projectionDelta.x),ph(this.prevProjectionDelta.y,this.projectionDelta.y)),Kr(this.projectionDelta,this.layoutCorrected,j,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!Ch(this.projectionDelta.x,this.prevProjectionDelta.x)||!Ch(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",j)),Br&&ca.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ha(),this.projectionDelta=Ha(),this.projectionDeltaWithTransform=Ha()}setAnimationOrigin(l,c=!1){const o=this.snapshot,d=o?o.latestValues:{},h={...this.latestValues},u=Ha();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const m=Ue(),p=o?o.source:void 0,j=this.layout?this.layout.source:void 0,g=p!==j,f=this.getStack(),w=!f||f.members.length<=1,y=!!(g&&!w&&this.options.crossfade===!0&&!this.path.some(ZC));this.animationProgress=0;let v;this.mixTargetDelta=A=>{const C=A/1e3;Th(u.x,l.x,C),Th(u.y,l.y,C),this.setTargetDelta(u),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Gr(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),XC(this.relativeTarget,this.relativeTargetOrigin,m,C),v&&LC(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=Ue()),Et(v,this.relativeTarget)),g&&(this.animationValues=h,RC(h,d,this.latestValues,C,y,w)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Qs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=_e.update(()=>{Wi.hasAnimatedSinceResize=!0,this.currentAnimation=CC(0,Sh,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sh),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:o,layout:d,latestValues:h}=l;if(!(!c||!o||!d)){if(this!==l&&this.layout&&d&&Gp(this.options.animationType,this.layout.layoutBox,d.layoutBox)){o=this.target||Ue();const u=At(this.layout.layoutBox.x);o.x.min=l.target.x.min,o.x.max=o.x.min+u;const m=At(this.layout.layoutBox.y);o.y.min=l.target.y.min,o.y.max=o.y.min+m}Et(c,o),Ka(c,h),Kr(this.projectionDeltaWithTransform,this.layoutCorrected,c,h)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new OC),this.sharedNodes.get(l).add(c);const d=c.options.initialPromotionConfig;c.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:o}={}){const d=this.getStack();d&&d.promote(this,o),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:o}=l;if((o.z||o.rotate||o.rotateX||o.rotateY||o.rotateZ||o.skewX||o.skewY)&&(c=!0),!c)return;const d={};o.z&&vl("z",l,d,this.animationValues);for(let h=0;h<gl.length;h++)vl(`rotate${gl[h]}`,l,d,this.animationValues),vl(`skew${gl[h]}`,l,d,this.animationValues);l.render();for(const h in d)l.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);l.scheduleRender()}getProjectionStyles(l){var c,o;if(!this.instance||this.isSVG)return;if(!this.isVisible)return VC;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=zi(l==null?void 0:l.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=zi(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!oa(this.latestValues)&&(g.transform=h?h({},""):"none",this.hasProjected=!1),g}const m=u.animationValues||u.latestValues;this.applyTransformsToTarget(),d.transform=FC(this.projectionDeltaWithTransform,this.treeScale,m),h&&(d.transform=h(m,d.transform));const{x:p,y:j}=this.projectionDelta;d.transformOrigin=`${p.origin*100}% ${j.origin*100}% 0`,u.animationValues?d.opacity=u===this?(o=(c=m.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&o!==void 0?o:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:d.opacity=u===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const g in rn){if(m[g]===void 0)continue;const{correct:f,applyTo:w}=rn[g],y=d.transform==="none"?m[g]:f(m[g],u);if(w){const v=w.length;for(let A=0;A<v;A++)d[w[A]]=y}else d[g]=y}return this.options.layoutId&&(d.pointerEvents=u===this?zi(l==null?void 0:l.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(kh),this.root.sharedNodes.clear()}}}function UC(s){s.updateLayout()}function BC(s){var t;const a=((t=s.resumeFrom)===null||t===void 0?void 0:t.snapshot)||s.snapshot;if(s.isLead()&&s.layout&&a&&s.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=s.layout,{animationType:n}=s.options,l=a.source!==s.layout.source;n==="size"?_t(u=>{const m=l?a.measuredBox[u]:a.layoutBox[u],p=At(m);m.min=r[u].min,m.max=m.min+p}):Gp(n,a.layoutBox,r)&&_t(u=>{const m=l?a.measuredBox[u]:a.layoutBox[u],p=At(r[u]);m.max=m.min+p,s.relativeTarget&&!s.currentAnimation&&(s.isProjectionDirty=!0,s.relativeTarget[u].max=s.relativeTarget[u].min+p)});const c=Ha();Kr(c,r,a.layoutBox);const o=Ha();l?Kr(o,s.applyTransform(i,!0),a.measuredBox):Kr(o,r,a.layoutBox);const d=!zp(c);let h=!1;if(!s.resumeFrom){const u=s.getClosestProjectingParent();if(u&&!u.resumeFrom){const{snapshot:m,layout:p}=u;if(m&&p){const j=Ue();Gr(j,a.layoutBox,m.layoutBox);const g=Ue();Gr(g,r,p.layoutBox),Hp(j,g)||(h=!0),u.options.layoutRoot&&(s.relativeTarget=g,s.relativeTargetOrigin=j,s.relativeParent=u)}}}s.notifyListeners("didUpdate",{layout:r,snapshot:a,delta:o,layoutDelta:c,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(s.isLead()){const{onExitComplete:r}=s.options;r&&r()}s.options.transition=void 0}function qC(s){Br&&ca.totalNodes++,s.parent&&(s.isProjecting()||(s.isProjectionDirty=s.parent.isProjectionDirty),s.isSharedProjectionDirty||(s.isSharedProjectionDirty=!!(s.isProjectionDirty||s.parent.isProjectionDirty||s.parent.isSharedProjectionDirty)),s.isTransformDirty||(s.isTransformDirty=s.parent.isTransformDirty))}function zC(s){s.isProjectionDirty=s.isSharedProjectionDirty=s.isTransformDirty=!1}function HC(s){s.clearSnapshot()}function kh(s){s.clearMeasurements()}function WC(s){s.isLayoutDirty=!1}function KC(s){const{visualElement:t}=s.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),s.resetTransform()}function Ph(s){s.finishAnimation(),s.targetDelta=s.relativeTarget=s.target=void 0,s.isProjectionDirty=!0}function GC(s){s.resolveTargetDelta()}function QC(s){s.calcProjection()}function JC(s){s.resetSkewAndRotation()}function YC(s){s.removeLeadSnapshot()}function Th(s,t,a){s.translate=Oe(t.translate,0,a),s.scale=Oe(t.scale,1,a),s.origin=t.origin,s.originPoint=t.originPoint}function Ah(s,t,a,r){s.min=Oe(t.min,a.min,r),s.max=Oe(t.max,a.max,r)}function XC(s,t,a,r){Ah(s.x,t.x,a.x,r),Ah(s.y,t.y,a.y,r)}function ZC(s){return s.animationValues&&s.animationValues.opacityExit!==void 0}const eS={duration:.45,ease:[.4,0,.1,1]},Rh=s=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(s),Eh=Rh("applewebkit/")&&!Rh("chrome/")?Math.round:kt;function _h(s){s.min=Eh(s.min),s.max=Eh(s.max)}function tS(s){_h(s.x),_h(s.y)}function Gp(s,t,a){return s==="position"||s==="preserve-aspect"&&!rC(wh(t),wh(a),.2)}function sS(s){var t;return s!==s.root&&((t=s.scroll)===null||t===void 0?void 0:t.wasRoot)}const aS=Kp({attachResizeListener:(s,t)=>ni(s,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),jl={current:void 0},Qp=Kp({measureScroll:s=>({x:s.scrollLeft,y:s.scrollTop}),defaultParent:()=>{if(!jl.current){const s=new aS({});s.mount(window),s.setOptions({layoutScroll:!0}),jl.current=s}return jl.current},resetTransform:(s,t)=>{s.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:s=>window.getComputedStyle(s).position==="fixed"}),rS={pan:{Feature:yC},drag:{Feature:jC,ProjectionNode:Qp,MeasureLayout:Up}};function Ih(s,t,a){const{props:r}=s;s.animationState&&r.whileHover&&s.animationState.setActive("whileHover",a==="Start");const i="onHover"+a,n=r[i];n&&_e.postRender(()=>n(t,yi(t)))}class iS extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=r1(t,a=>(Ih(this.node,a,"Start"),r=>Ih(this.node,r,"End"))))}unmount(){}}class nS extends ea{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ji(ni(this.node.current,"focus",()=>this.onFocus()),ni(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Mh(s,t,a){const{props:r}=s;s.animationState&&r.whileTap&&s.animationState.setActive("whileTap",a==="Start");const i="onTap"+(a==="End"?"":a),n=r[i];n&&_e.postRender(()=>n(t,yi(t)))}class lS extends ea{mount(){const{current:t}=this.node;t&&(this.unmount=o1(t,a=>(Mh(this.node,a,"Start"),(r,{success:i})=>Mh(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const go=new WeakMap,yl=new WeakMap,oS=s=>{const t=go.get(s.target);t&&t(s)},cS=s=>{s.forEach(oS)};function dS({root:s,...t}){const a=s||document;yl.has(a)||yl.set(a,{});const r=yl.get(a),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(cS,{root:s,...t})),r[i]}function hS(s,t,a){const r=dS(t);return go.set(s,a),r.observe(s),()=>{go.delete(s),r.unobserve(s)}}const uS={some:0,all:1};class mS extends ea{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:i="some",once:n}=t,l={root:a?a.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:uS[i]},c=o=>{const{isIntersecting:d}=o;if(this.isInView===d||(this.isInView=d,n&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:u}=this.node.getProps(),m=d?h:u;m&&m(o)};return hS(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(xS(t,a))&&this.startObserver()}unmount(){}}function xS({viewport:s={}},{viewport:t={}}={}){return a=>s[a]!==t[a]}const fS={inView:{Feature:mS},tap:{Feature:lS},focus:{Feature:nS},hover:{Feature:iS}},pS={layout:{ProjectionNode:Qp,MeasureLayout:Up}},vo={current:null},Jp={current:!1};function gS(){if(Jp.current=!0,!!Xo)if(window.matchMedia){const s=window.matchMedia("(prefers-reduced-motion)"),t=()=>vo.current=s.matches;s.addListener(t),t()}else vo.current=!1}const vS=[...bp,it,Js],jS=s=>vS.find(yp(s)),Dh=new WeakMap;function yS(s,t,a){for(const r in t){const i=t[r],n=a[r];if(ot(i))s.addValue(r,i);else if(ot(n))s.addValue(r,ri(i,{owner:s}));else if(n!==i)if(s.hasValue(r)){const l=s.getValue(r);l.liveStyle===!0?l.jump(i):l.hasAnimated||l.set(i)}else{const l=s.getStaticValue(r);s.addValue(r,ri(l!==void 0?l:i,{owner:s}))}}for(const r in a)t[r]===void 0&&s.removeValue(r);return t}const Lh=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bS{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:n,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Sc,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=es.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,_e.render(this.render,!1,!0))};const{latestValues:o,renderState:d,onUpdate:h}=l;this.onUpdate=h,this.latestValues=o,this.baseTarget={...o},this.initialValues=a.initial?{...o}:{},this.renderState=d,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=c,this.blockInitialAnimation=!!n,this.isControllingVariants=Ln(a),this.isVariantNode=Af(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...m}=this.scrapeMotionValuesFromProps(a,{},this);for(const p in m){const j=m[p];o[p]!==void 0&&ot(j)&&j.set(o[p],!1)}}mount(t){this.current=t,Dh.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,r)=>this.bindToMotionValue(r,a)),Jp.current||gS(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vo.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Dh.delete(this.current),this.projection&&this.projection.unmount(),Qs(this.notifyUpdate),Qs(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const a=this.features[t];a&&(a.unmount(),a.isMounted=!1)}this.current=null}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=_a.has(t),i=a.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&_e.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),n=a.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{i(),n(),l&&l(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in vr){const a=vr[t];if(!a)continue;const{isEnabled:r,Feature:i}=a;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ue()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<Lh.length;r++){const i=Lh[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const n="on"+i,l=t[n];l&&(this.propEventSubscriptions[i]=this.on(i,l))}this.prevMotionValues=yS(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=ri(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(vp(i)||cp(i))?i=parseFloat(i):!jS(i)&&Js.test(a)&&(i=fp(t,a)),this.setBaseTarget(t,ot(i)?i.get():i)),ot(i)?i.get():i}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var a;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const l=ic(this.props,r,(a=this.presenceContext)===null||a===void 0?void 0:a.custom);l&&(i=l[t])}if(r&&i!==void 0)return i;const n=this.getBaseTargetFromProps(this.props,t);return n!==void 0&&!ot(n)?n:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new jc),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}}class Yp extends bS{constructor(){super(...arguments),this.KeyframeResolver=Np}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;ot(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function NS(s){return window.getComputedStyle(s)}class wS extends Yp{constructor(){super(...arguments),this.type="html",this.renderInstance=Ff}readValueFromInstance(t,a){if(_a.has(a)){const r=Cc(a);return r&&r.default||0}else{const r=NS(t),i=(Df(a)?r.getPropertyValue(a):r[a])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:a}){return Vp(t,a)}build(t,a,r){oc(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return uc(t,a,r)}}class CS extends Yp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ue}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(_a.has(a)){const r=Cc(a);return r&&r.default||0}return a=Vf.has(a)?a:sc(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return Bf(t,a,r)}build(t,a,r){cc(t,a,this.isSVGTag,r.transformTemplate)}renderInstance(t,a,r,i){$f(t,a,r,i)}mount(t){this.isSVGTag=hc(t.tagName),super.mount(t)}}const SS=(s,t)=>rc(s)?new CS(t):new wS(t,{allowProjection:s!==x.Fragment}),kS=Yw({...Q2,...fS,...rS,...pS},SS),Mi=uw(kS);function PS(){const[s,t]=x.useState("all"),[a,r]=x.useState(""),[i,n]=x.useState("all"),[l,c]=x.useState(null),[o,d]=x.useState(new Set),[h,u]=x.useState(null);x.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(v=>{c({lat:v.coords.latitude,lng:v.coords.longitude})},()=>{})},[]);const{data:m=[]}=Q({queryKey:["/api/rights/charter"]}),{data:p=[]}=Q({queryKey:["/api/rights/provincial",s]}),{data:j}=Q({queryKey:["/api/location/province",l==null?void 0:l.lat,l==null?void 0:l.lng],enabled:!!l}),g=["British Columbia","Alberta","Saskatchewan","Manitoba","Ontario","Quebec","New Brunswick","Nova Scotia","Prince Edward Island","Newfoundland and Labrador","Northwest Territories","Nunavut","Yukon"],f=[{id:"fundamental",name:"Fundamental Freedoms",icon:X,color:"bg-blue-500"},{id:"democratic",name:"Democratic Rights",icon:de,color:"bg-green-500"},{id:"mobility",name:"Mobility Rights",icon:Ze,color:"bg-purple-500"},{id:"legal",name:"Legal Rights",icon:lt,color:"bg-orange-500"},{id:"equality",name:"Equality Rights",icon:Na,color:"bg-red-500"},{id:"language",name:"Language Rights",icon:Lt,color:"bg-teal-500"}],w=m.filter(v=>{const A=v.title.toLowerCase().includes(a.toLowerCase())||v.plainLanguage.toLowerCase().includes(a.toLowerCase()),C=i==="all"||v.category===i;return A&&C}),y=p.filter(v=>{const A=v.title.toLowerCase().includes(a.toLowerCase())||v.plainLanguage.toLowerCase().includes(a.toLowerCase()),C=s==="all"||v.province===s;return A&&C});return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs(Mi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center space-y-4",children:[e.jsx("h1",{className:"text-4xl font-serif text-primary",children:"Your Rights in Canada"}),e.jsx("p",{className:"text-lg text-muted-foreground max-w-3xl mx-auto",children:"Understanding your fundamental rights and freedoms under the Canadian Charter of Rights and Freedoms and provincial legislation, explained in plain language with real-world examples."}),j&&e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(Ze,{className:"w-4 h-4 text-primary"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Detected location: ",e.jsx("span",{className:"font-medium text-primary",children:j})]})]})]}),e.jsx(Ri,{title:"Search Your Rights",variant:"pulse",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ct,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),e.jsx(te,{placeholder:"Search rights and freedoms...",value:a,onChange:v=>r(v.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{children:e.jsx(ve,{placeholder:"Select category"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Categories"}),f.map(v=>e.jsx(D,{value:v.id,children:v.name},v.id))]})]}),e.jsxs(ge,{value:s,onValueChange:t,children:[e.jsx(xe,{children:e.jsx(ve,{placeholder:"Select province/territory"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Provinces/Territories"}),g.map(v=>e.jsx(D,{value:v,children:v},v))]})]})]})}),e.jsxs(Ie,{defaultValue:"charter",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"charter",children:"Charter Rights"}),e.jsx(V,{value:"provincial",children:"Provincial Rights"}),e.jsx(V,{value:"overview",children:"Rights Overview"})]}),e.jsxs($,{value:"charter",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:f.map(v=>{const A=v.icon,C=i===v.id;return e.jsx(Mi.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(E,{variant:C?"default":"outline",className:"w-full h-20 flex flex-col items-center space-y-2",onClick:()=>n(v.id),children:[e.jsx(A,{className:"w-6 h-6"}),e.jsx("span",{className:"text-xs text-center",children:v.name})]})},v.id)})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:w.map((v,A)=>{const C=f.find(M=>M.id===v.category),O=(C==null?void 0:C.icon)||X;return e.jsx(Mi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},children:e.jsx(Ri,{title:`Section ${v.section}: ${v.title}`,variant:"dark",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(O,{className:"w-5 h-5 text-primary"}),e.jsx(k,{variant:"secondary",className:"text-xs",children:C==null?void 0:C.name})]}),e.jsx(E,{variant:"ghost",size:"sm",onClick:()=>{const M=new Set(o);M.has(v.id)?M.delete(v.id):M.add(v.id),d(M)},children:o.has(v.id)?e.jsx(km,{className:"w-4 h-4"}):e.jsx(fi,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[e.jsx(Xr,{className:"w-4 h-4 mr-2"}),"What this means in plain language:"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.plainLanguage})]}),o.has(v.id)&&e.jsxs("div",{className:"space-y-3 pt-3 border-t border-muted",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[e.jsx(lt,{className:"w-4 h-4 mr-2"}),"Official Text:"]}),e.jsx("p",{className:"text-xs text-muted-foreground bg-muted/50 p-3 rounded",children:v.text})]}),v.examples&&v.examples.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Examples:"]}),e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:v.examples.map((M,I)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-primary",children:""}),e.jsx("span",{children:M})]},I))})]}),v.limitations&&v.limitations.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Limitations:"]}),e.jsx("ul",{className:"text-xs text-muted-foreground space-y-1",children:v.limitations.map((M,I)=>e.jsxs("li",{className:"flex items-start space-x-2",children:[e.jsx("span",{className:"text-orange-500",children:""}),e.jsx("span",{children:M})]},I))})]}),v.relatedSections&&v.relatedSections.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[e.jsx(Vv,{className:"w-4 h-4 mr-2"}),"Related Sections:"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:v.relatedSections.map(M=>e.jsxs(E,{variant:"outline",size:"sm",className:"h-6 px-2 text-xs",onClick:()=>{const I=m.find(_=>_.section===M);I&&u(I)},children:["Section ",M]},M))})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Real-world examples:"]}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:v.examples.map((M,I)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-2 mr-2 flex-shrink-0"}),M]},I))})]}),v.limitations&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[e.jsx(ts,{className:"w-4 h-4 mr-2"}),"Important limitations:"]}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:v.limitations.map((M,I)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-orange-500 rounded-full mt-2 mr-2 flex-shrink-0"}),M]},I))})]}),v.provincialVariations&&e.jsxs("div",{children:[e.jsxs("h4",{className:"font-medium text-sm mb-2 flex items-center",children:[e.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Provincial variations:"]}),e.jsx("div",{className:"space-y-2",children:v.provincialVariations.map((M,I)=>e.jsxs("div",{className:"p-3 bg-muted/50 rounded",children:[e.jsx("h5",{className:"font-medium text-xs",children:M.province}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:M.variation})]},I))})]}),e.jsxs("div",{className:"text-xs text-muted-foreground border-t pt-2",children:[e.jsx("strong",{children:"Legal text:"})," ",v.text]})]})]})})},v.id)})})]}),e.jsx($,{value:"provincial",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:y.map((v,A)=>e.jsx(Mi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:A*.1},children:e.jsx(Ri,{title:v.title,variant:"dark",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ze,{className:"w-5 h-5 text-primary"}),e.jsx(k,{variant:"secondary",className:"text-xs",children:v.province}),e.jsx(k,{variant:"outline",className:"text-xs",children:v.category})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"What this means:"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:v.plainLanguage})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-sm mb-2",children:"Examples:"}),e.jsx("ul",{className:"text-sm text-muted-foreground space-y-1",children:v.examples.map((C,O)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"w-2 h-2 bg-primary rounded-full mt-2 mr-2 flex-shrink-0"}),C]},O))})]}),e.jsxs("div",{className:"text-xs text-muted-foreground border-t pt-2",children:[e.jsx("strong",{children:"Description:"})," ",v.description]})]})]})})},v.id))})}),e.jsx($,{value:"overview",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:f.map(v=>{const A=v.icon,C=m.filter(O=>O.category===v.id);return e.jsx(Ri,{title:v.name,variant:"pulse",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`p-3 rounded-full ${v.color}`,children:e.jsx(A,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:v.name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[C.length," rights protected"]})]})]}),e.jsxs("div",{className:"space-y-2",children:[C.slice(0,3).map(O=>e.jsxs("div",{className:"p-2 bg-muted/50 rounded text-sm",children:[e.jsxs("strong",{children:["Section ",O.section,":"]})," ",O.title]},O.id)),C.length>3&&e.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",C.length-3," more rights"]})]}),e.jsxs(E,{variant:"outline",size:"sm",className:"w-full",onClick:()=>n(v.id),children:["View All ",v.name]})]})},v.id)})})})]})]})}function bl(){const[s,t]=x.useState({email:"",password:""}),[a,r]=x.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:""}),[i,n]=x.useState({login:"",register:""}),{toast:l}=dt(),c=Ne({mutationFn:async u=>ye("/api/auth/login","POST",u),onSuccess:()=>{ka.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Welcome to CivicOS",description:"You have successfully logged in"}),window.location.href="/dashboard"},onError:u=>{n(m=>({...m,login:u.message||"Invalid email or password"}))}}),o=Ne({mutationFn:async u=>ye("/api/auth/register","POST",u),onSuccess:()=>{ka.invalidateQueries({queryKey:["/api/auth/user"]}),l({title:"Welcome to CivicOS",description:"Your account has been created successfully"}),window.location.href="/dashboard"},onError:u=>{n(m=>({...m,register:u.message||"Registration failed"}))}}),d=u=>{if(u.preventDefault(),n(m=>({...m,login:""})),!s.email||!s.password){n(m=>({...m,login:"Please enter both email and password"}));return}c.mutate(s)},h=u=>{if(u.preventDefault(),n(m=>({...m,register:""})),!a.email||!a.password||!a.firstName){n(m=>({...m,register:"Please fill in all required fields"}));return}if(a.password!==a.confirmPassword){n(m=>({...m,register:"Passwords do not match"}));return}if(a.password.length<8){n(m=>({...m,register:"Password must be at least 8 characters long"}));return}o.mutate({email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex items-center justify-center p-4 sm:p-6",children:e.jsxs("div",{className:"w-full max-w-md",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("div",{className:"flex justify-center mb-3 sm:mb-4",children:e.jsx("div",{className:"w-14 h-14 sm:w-16 sm:h-16 rounded-full bg-gradient-to-br from-slate-800 via-slate-700 to-slate-900 flex items-center justify-center shadow-2xl border border-slate-600 overflow-hidden",children:e.jsx("img",{src:pr,alt:"CivicOS",className:"w-12 h-12 sm:w-14 sm:h-14 object-cover rounded-full filter brightness-125 contrast-125"})})}),e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold font-serif text-slate-900 dark:text-slate-100",children:"CivicOS"}),e.jsx("p",{className:"text-sm sm:text-base text-slate-600 dark:text-slate-400 font-medium tracking-wider",children:"SECURE ACCESS PORTAL"})]}),e.jsxs(b,{className:"shadow-2xl border-slate-200 dark:border-slate-700",children:[e.jsxs(P,{className:"space-y-1",children:[e.jsxs(T,{className:"text-2xl text-center flex items-center justify-center space-x-2",children:[e.jsx(X,{className:"w-5 h-5"}),e.jsx("span",{children:"Authentication"})]}),e.jsx("p",{className:"text-center text-muted-foreground",children:"Access the Canadian political intelligence platform"})]}),e.jsx(N,{children:e.jsxs(Ie,{defaultValue:"login",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-2",children:[e.jsx(V,{value:"login",children:"Sign In"}),e.jsx(V,{value:"register",children:"Create Account"})]}),e.jsx($,{value:"login",className:"space-y-4 mt-6",children:e.jsxs("form",{onSubmit:d,className:"space-y-4",children:[i.login&&e.jsx(ze,{variant:"destructive",children:e.jsx(He,{children:i.login})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Re,{htmlFor:"login-email",className:"flex items-center space-x-2 text-sm sm:text-base",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{children:"Email Address"})]}),e.jsx(te,{id:"login-email",type:"email",placeholder:"your.email@example.com",value:s.email,onChange:u=>t(m=>({...m,email:u.target.value})),className:"h-10 sm:h-11 text-sm sm:text-base",disabled:c.isPending})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Re,{htmlFor:"login-password",className:"flex items-center space-x-2 text-sm sm:text-base",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Password"})]}),e.jsx(te,{id:"login-password",type:"password",placeholder:"Enter your password",value:s.password,onChange:u=>t(m=>({...m,password:u.target.value})),className:"h-10 sm:h-11 text-sm sm:text-base",disabled:c.isPending})]}),e.jsx(E,{type:"submit",className:"w-full h-10 sm:h-11 bg-slate-800 hover:bg-slate-700 text-white text-sm sm:text-base",disabled:c.isPending,children:c.isPending?"Authenticating...":"Secure Login"})]})}),e.jsx($,{value:"register",className:"space-y-4 mt-6",children:e.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.register&&e.jsx(ze,{variant:"destructive",children:e.jsx(He,{children:i.register})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Re,{htmlFor:"register-firstName",className:"flex items-center space-x-2 text-sm sm:text-base",children:[e.jsx(Sn,{className:"w-4 h-4"}),e.jsx("span",{children:"First Name"})]}),e.jsx(te,{id:"register-firstName",type:"text",placeholder:"Jordan",value:a.firstName,onChange:u=>r(m=>({...m,firstName:u.target.value})),className:"h-10 sm:h-11 text-sm sm:text-base",disabled:o.isPending,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"register-lastName",className:"text-sm sm:text-base",children:"Last Name"}),e.jsx(te,{id:"register-lastName",type:"text",placeholder:"Smith",value:a.lastName,onChange:u=>r(m=>({...m,lastName:u.target.value})),className:"h-10 sm:h-11 text-sm sm:text-base",disabled:o.isPending})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Re,{htmlFor:"register-email",className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"w-4 h-4"}),e.jsx("span",{children:"Email Address"})]}),e.jsx(te,{id:"register-email",type:"email",placeholder:"your.email@example.com",value:a.email,onChange:u=>r(m=>({...m,email:u.target.value})),className:"h-11",disabled:o.isPending,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(Re,{htmlFor:"register-password",className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"w-4 h-4"}),e.jsx("span",{children:"Password"})]}),e.jsx(te,{id:"register-password",type:"password",placeholder:"Create a secure password",value:a.password,onChange:u=>r(m=>({...m,password:u.target.value})),className:"h-11",disabled:o.isPending,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"register-confirmPassword",children:"Confirm Password"}),e.jsx(te,{id:"register-confirmPassword",type:"password",placeholder:"Confirm your password",value:a.confirmPassword,onChange:u=>r(m=>({...m,confirmPassword:u.target.value})),className:"h-11",disabled:o.isPending,required:!0})]}),e.jsx(E,{type:"submit",className:"w-full h-11 bg-slate-800 hover:bg-slate-700 text-white",disabled:o.isPending,children:o.isPending?"Creating Account...":"Create Account"})]})})]})})]}),e.jsxs("div",{className:"text-center mt-6 sm:mt-8 text-xs text-slate-500 dark:text-slate-400",children:[e.jsx("p",{children:"Built by Jordan Kenneth Boisclair"}),e.jsx("p",{children:" 2025 CivicOS - All rights reserved"})]})]})})}function TS(){const{isAuthenticated:s,isLoading:t}=Rt(),[a,r]=x.useState("upcoming"),{data:i,isLoading:n,error:l}=Q({queryKey:["/api/elections/authentic"],enabled:s,refetchInterval:1e3*60*60,retry:!1});if(x.useEffect(()=>{!t&&!s&&(window.location.href="/auth")},[s,t]),t)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading authentication..."})]})});if(!s)return null;if(n)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs("div",{className:"text-center py-20",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading authentic election data..."})]})})});if(l)return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:e.jsx("div",{className:"max-w-6xl mx-auto",children:e.jsxs(ze,{className:"mt-20",children:[e.jsx(Ji,{className:"h-4 w-4"}),e.jsx(He,{children:"Unable to load election data. Please try again later or contact support."})]})})});const c=u=>new Date(u).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"}),o=u=>{const m=new Date(u),p=new Date,j=m.getTime()-p.getTime(),g=Math.ceil(j/(1e3*60*60*24));return g<0?"Election has passed":g===0?"Election today!":g===1?"1 day remaining":`${g} days remaining`},d=({election:u})=>e.jsxs(b,{className:"hover:shadow-lg transition-all duration-200 border-l-4 border-l-blue-500",children:[e.jsxs(P,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{variant:u.type==="federal"?"default":u.type==="provincial"?"secondary":"outline",className:"capitalize",children:u.type}),e.jsx(k,{variant:"outline",className:"text-xs",children:u.status})]}),u.sourceUrl&&e.jsxs(E,{variant:"ghost",size:"sm",onClick:()=>window.open(u.sourceUrl,"_blank"),className:"text-xs",children:[e.jsx(Ke,{className:"w-3 h-3 mr-1"}),"Source"]})]}),e.jsx(T,{className:"text-lg",children:u.description})]}),e.jsxs(N,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Ze,{className:"w-4 h-4"}),e.jsx("span",{children:u.region})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{children:c(u.date)})]}),u.status==="upcoming"&&e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-blue-600 font-medium",children:[e.jsx(tt,{className:"w-4 h-4"}),e.jsx("span",{children:o(u.date)})]}),u.registrationDeadline&&e.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:"Registration Deadline:"})," ",c(u.registrationDeadline)]})}),u.advanceVotingDates&&u.advanceVotingDates.length>0&&e.jsx("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"Advance Voting:"})," ",u.advanceVotingDates.map(m=>c(m)).join(", ")]})}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("p",{className:"text-xs text-gray-500",children:["Source: ",u.source]})})]})]}),h=({type:u})=>e.jsx(b,{className:"border-dashed border-2 border-gray-300",children:e.jsxs(N,{className:"text-center py-8",children:[e.jsx(Be,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Scheduled Elections"}),e.jsxs("p",{className:"text-gray-600",children:["No ",u," elections are currently scheduled at this time."]}),e.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Data sourced from Elections Canada and provincial election authorities"})]})});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:e.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Canadian Elections"}),e.jsx("p",{className:"text-lg text-gray-600 mb-4",children:"Authentic election information from verified government sources"}),i&&e.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(tt,{className:"w-4 h-4"}),e.jsxs("span",{children:["Last updated: ",new Date(i.lastUpdated).toLocaleString()]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(de,{className:"w-4 h-4"}),e.jsxs("span",{children:[i.sources.length," verified sources"]})]})]})]}),e.jsxs(ze,{className:"mb-6",children:[e.jsx(Ji,{className:"h-4 w-4"}),e.jsx(He,{children:"All election data is sourced directly from Elections Canada, provincial election authorities, and official government websites. This page shows only confirmed, scheduled elections."})]}),e.jsxs(Ie,{value:a,onValueChange:r,className:"space-y-6",children:[e.jsxs(Se,{className:"grid w-full grid-cols-2",children:[e.jsx(V,{value:"upcoming",children:"Upcoming Elections"}),e.jsx(V,{value:"recent",children:"Recent Elections"})]}),e.jsx($,{value:"upcoming",className:"space-y-6",children:i!=null&&i.upcoming&&i.upcoming.length>0?e.jsx("div",{className:"grid gap-4",children:i.upcoming.map(u=>e.jsx(d,{election:u},u.id))}):e.jsx(h,{type:"upcoming"})}),e.jsx($,{value:"recent",className:"space-y-6",children:i!=null&&i.recent&&i.recent.length>0?e.jsx("div",{className:"grid gap-4",children:i.recent.map(u=>e.jsx(d,{election:u},u.id))}):e.jsx(h,{type:"recent"})})]}),(i==null?void 0:i.sources)&&e.jsxs("div",{className:"mt-12 p-6 bg-white rounded-lg border",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Verified Data Sources"}),e.jsx("ul",{className:"space-y-2",children:i.sources.map((u,m)=>e.jsxs("li",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Ke,{className:"w-3 h-3 text-gray-400"}),e.jsx("span",{children:u})]},m))})]})]})})}function AS(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),[i,n]=x.useState("all"),[l,c]=x.useState("all"),[o,d]=x.useState(null),{data:h=[],isLoading:u}=Q({queryKey:["/api/campaign-finance",s,a,i,l]}),{data:m}=Q({queryKey:["/api/campaign-finance/stats"]}),p=y=>{switch(y.toLowerCase()){case"liberal":return"bg-red-100 text-red-800 border-red-300";case"conservative":return"bg-blue-100 text-blue-800 border-blue-300";case"ndp":return"bg-orange-100 text-orange-800 border-orange-300";case"bloc qubcois":return"bg-cyan-100 text-cyan-800 border-cyan-300";case"green":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},j=y=>{if(!y)return e.jsx(jt,{className:"w-4 h-4"});switch(y.toLowerCase()){case"federal":return e.jsx(hr,{className:"w-4 h-4"});case"provincial":return e.jsx(us,{className:"w-4 h-4"});default:return e.jsx(jt,{className:"w-4 h-4"})}},g=y=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0}).format(y),f=y=>y>=95?"text-green-600":y>=85?"text-yellow-600":"text-red-600",w=h.filter(y=>{if(!y)return!1;const v=y.politician||"",A=y.party||"",C=y.jurisdiction||"",O=v.toLowerCase().includes(s.toLowerCase())||A.toLowerCase().includes(s.toLowerCase()),M=a==="all"||A===a,I=l==="all"||C===l;let _=!0;return i==="high"?_=y.totalRaised>1e6:i==="medium"?_=y.totalRaised>=5e5&&y.totalRaised<=1e6:i==="low"&&(_=y.totalRaised<5e5),O&&M&&I&&_});return u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400",children:"Loading campaign finance data..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold font-serif text-slate-900 dark:text-slate-100 flex items-center",children:[e.jsx(jt,{className:"w-8 h-8 mr-3 text-slate-600 dark:text-slate-400"}),"Campaign Finance Transparency"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Complete transparency of Canadian political campaign financing and expenditures"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),h.length," Records"]}),e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Elections Canada"]})]})]}),m&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:g(m.totalDonations)}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Donations"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(gs,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:g(m.averageDonation)}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Average Donation"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(z,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:[m.complianceRate,"%"]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Compliance Rate"})]})]})})}),e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:m.overdueFilers}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Overdue Filers"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),e.jsx(te,{placeholder:"Search politicians or parties...",value:s,onChange:y=>t(y.target.value),className:"pl-10 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(ve,{placeholder:"Filter by party"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Parties"}),e.jsx(D,{value:"Liberal",children:"Liberal"}),e.jsx(D,{value:"Conservative",children:"Conservative"}),e.jsx(D,{value:"NDP",children:"NDP"}),e.jsx(D,{value:"Bloc Qubcois",children:"Bloc Qubcois"}),e.jsx(D,{value:"Green",children:"Green"})]})]}),e.jsxs(ge,{value:l,onValueChange:c,children:[e.jsx(xe,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(ve,{placeholder:"Filter by jurisdiction"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Jurisdictions"}),e.jsx(D,{value:"Federal",children:"Federal"}),e.jsx(D,{value:"Provincial",children:"Provincial"}),e.jsx(D,{value:"Municipal",children:"Municipal"})]})]}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(ve,{placeholder:"Filter by amount"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Amounts"}),e.jsx(D,{value:"high",children:"Over $1M"}),e.jsx(D,{value:"medium",children:"$500K - $1M"}),e.jsx(D,{value:"low",children:"Under $500K"})]})]}),e.jsxs(E,{variant:"outline",className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[e.jsx(Pm,{className:"w-4 h-4 mr-2"}),"Advanced Filters"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[w.map(y=>e.jsxs(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[j(y.jurisdiction),e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:y.politician})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Campaign Finance Report - ",y.reportingPeriod]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(k,{className:`${p(y.party)}`,children:y.party}),e.jsx(k,{variant:"outline",className:"text-xs",children:y.jurisdiction}),e.jsxs("div",{className:`text-sm font-medium ${f(y.complianceScore)}`,children:["Compliance: ",y.complianceScore,"%"]})]})]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-green-700 dark:text-green-300 font-medium",children:"Total Raised"}),e.jsx("div",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:g(y.totalRaised)})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Individual Donations"}),e.jsx("div",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:g(y.individualDonations)})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300 font-medium",children:"Expenditures"}),e.jsx("div",{className:"text-xl font-bold text-purple-900 dark:text-purple-100",children:g(y.expenditures)})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-300 font-medium",children:"Surplus/Deficit"}),e.jsx("div",{className:`text-xl font-bold ${y.surplus>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:g(y.surplus)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Public Funding:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:g(y.publicFunding)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Largest Donor:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:y.largestDonor})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Filing Deadline:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:y.filingDeadline})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Corporate Donations:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:g(y.corporateDonations)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Suspicious Transactions:"}),e.jsx("span",{className:`font-medium ${y.suspiciousTransactions>0?"text-red-600":"text-green-600"}`,children:y.suspiciousTransactions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Transparency Score:"}),e.jsxs("span",{className:`font-medium ${f(y.complianceScore)}`,children:[y.complianceScore,"/100"]})]})]})]}),y.suspiciousTransactions>0&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ae,{className:"w-5 h-5 text-red-600"}),e.jsx("h4",{className:"font-semibold text-red-900 dark:text-red-100",children:"Compliance Alert"})]}),e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:["This record contains ",y.suspiciousTransactions," flagged transaction(s) requiring review."]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(Ge,{className:"w-4 h-4"}),"Report Period: ",y.reportingPeriod]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Pa,{targetType:"finance",targetId:y.id,size:"sm"}),e.jsx(E,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:y.sourceUrl,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Elections Canada"]})}),e.jsx(E,{variant:"outline",size:"sm",onClick:()=>d(y),children:"View Details"})]})]})]})]},y.id)),w.length===0&&e.jsx(b,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsxs(N,{className:"p-8 text-center",children:[e.jsx(jt,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"No Financial Records Found"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No campaign finance records match your current filter criteria."})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(b,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(jt,{className:"w-6 h-6 text-blue-600 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Campaign Finance Data Source"}),e.jsx("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"All financial data is sourced directly from Elections Canada and provincial election authorities. Data may be subject to reporting deadlines and verification processes. For official records, please consult Elections Canada directly."})]})]})})})})]})})}function RS(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),i=[{id:1,name:"Earnscliffe Strategy Group",registrationNumber:"55342-364527",address:"Suite 600, 130 Albert St, Ottawa, ON K1P 5G4",clients:["Canadian Association of Petroleum Producers","Shopify Inc.","Tesla Canada","Canadian Bankers Association"],totalRegistrations:127,activeRegistrations:89,sectors:["Energy","Technology","Finance","Transportation"],subjectMatters:["Environment and climate change policies","Digital taxation framework","Electric vehicle incentives","Banking regulations"],governmentContacts:["Prime Minister's Office","Environment and Climate Change Canada","Innovation, Science and Economic Development Canada","Finance Canada"],meetings2024:45,totalValue:25e5,lastActivity:"2024-06-01",complianceStatus:"Compliant",flaggedActivities:0},{id:2,name:"Hill+Knowlton Strategies",registrationNumber:"55342-364528",address:"Suite 1000, 1 Place Ville Marie, Montreal, QC H3B 2C4",clients:["Pharmaceutical Research and Manufacturers of America","Meta Platforms Inc.","Canadian Real Estate Association","Air Canada"],totalRegistrations:98,activeRegistrations:72,sectors:["Healthcare","Technology","Real Estate","Transportation"],subjectMatters:["Drug approval processes","Social media regulation","Housing policy","Aviation safety standards"],governmentContacts:["Health Canada","Canadian Radio-television and Telecommunications Commission","Canada Mortgage and Housing Corporation","Transport Canada"],meetings2024:38,totalValue:18e5,lastActivity:"2024-05-28",complianceStatus:"Compliant",flaggedActivities:0},{id:3,name:"Global Public Affairs",registrationNumber:"55342-364529",address:"Suite 2700, 700 West Georgia St, Vancouver, BC V7Y 1B3",clients:["British Columbia Lottery Corporation","Teck Resources Limited","Loblaws Companies Limited","Canadian National Railway"],totalRegistrations:76,activeRegistrations:54,sectors:["Gaming","Mining","Retail","Transportation"],subjectMatters:["Gaming regulation modernization","Mining environmental standards","Consumer protection legislation","Railway safety protocols"],governmentContacts:["Natural Resources Canada","Canadian Food Inspection Agency","Competition Bureau Canada","Transportation Safety Board"],meetings2024:29,totalValue:12e5,lastActivity:"2024-06-03",complianceStatus:"Under Review",flaggedActivities:2}],n=o=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(o),l=o=>{switch(o){case"Compliant":return"text-green-600 bg-green-50 border-green-200";case"Under Review":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Non-Compliant":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},c=[{lobbyist:"Earnscliffe Strategy Group",minister:"Jonathan Wilkinson",department:"Environment and Climate Change Canada",meetingCount:12,lastMeeting:"2024-05-15",topics:["Carbon pricing","Clean technology funding"]},{lobbyist:"Hill+Knowlton Strategies",minister:"Jean-Yves Duclos",department:"Health Canada",meetingCount:8,lastMeeting:"2024-05-20",topics:["Drug approval timelines","Rare disease strategy"]},{lobbyist:"Global Public Affairs",minister:"Anita Anand",department:"Transport Canada",meetingCount:6,lastMeeting:"2024-04-28",topics:["Railway safety","Infrastructure investments"]}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Lobbyist Influence Mapping"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Track registered lobbyists, their clients, and government interactions"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Registry Data"]})})]}),e.jsxs(Ie,{defaultValue:"lobbyists",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"lobbyists",children:"Registered Lobbyists"}),e.jsx(V,{value:"influence-network",children:"Influence Network"}),e.jsx(V,{value:"analytics",children:"Impact Analytics"})]}),e.jsxs($,{value:"lobbyists",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(te,{placeholder:"Search lobbyists, clients, or registration numbers...",value:s,onChange:o=>t(o.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{placeholder:"Filter by sector"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Sectors"}),e.jsx(D,{value:"Energy",children:"Energy"}),e.jsx(D,{value:"Technology",children:"Technology"}),e.jsx(D,{value:"Healthcare",children:"Healthcare"}),e.jsx(D,{value:"Finance",children:"Finance"}),e.jsx(D,{value:"Transportation",children:"Transportation"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:i.map(o=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:o.name}),e.jsxs(G,{className:"mt-1",children:["Registration: ",o.registrationNumber]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:o.address})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(k,{className:l(o.complianceStatus),children:o.complianceStatus}),o.flaggedActivities>0&&e.jsxs(k,{variant:"destructive",className:"ml-2",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),o.flaggedActivities," Flagged"]})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Registrations"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:o.activeRegistrations}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["of ",o.totalRegistrations," total"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"2024 Meetings"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:o.meetings2024}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"with government"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Estimated Value"}),e.jsx("div",{className:"text-2xl font-bold text-primary",children:n(o.totalValue)}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"annual contracts"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Activity"}),e.jsx("div",{className:"text-sm font-semibold",children:new Date(o.lastActivity).toLocaleDateString()}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"registry update"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Key Clients"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.clients.slice(0,3).map((d,h)=>e.jsx(k,{variant:"outline",className:"text-xs",children:d},h)),o.clients.length>3&&e.jsxs(k,{variant:"outline",className:"text-xs",children:["+",o.clients.length-3," more"]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Focus Sectors"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:o.sectors.map((d,h)=>e.jsx(k,{variant:"secondary",className:"text-xs",children:d},h))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Subject Matters"}),e.jsx("ul",{className:"text-sm space-y-1",children:o.subjectMatters.slice(0,2).map((d,h)=>e.jsxs("li",{className:"text-muted-foreground",children:[" ",d]},h))})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[o.governmentContacts.length," government departments"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Ke,{className:"w-3 h-3 mr-2"}),"Registry Record"]}),e.jsx(E,{variant:"outline",size:"sm",children:"View Network"})]})]})]})]},o.id))})]}),e.jsx($,{value:"influence-network",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:c.map((o,d)=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-lg",children:o.lobbyist}),e.jsxs(G,{children:[" ",o.minister," (",o.department,")"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:o.meetingCount}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"meetings in 2024"})]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Last Meeting"}),e.jsx("div",{className:"font-semibold",children:new Date(o.lastMeeting).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Discussion Topics"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:o.topics.map((h,u)=>e.jsx(k,{variant:"outline",className:"text-xs",children:h},u))})]})]})})]},d))})}),e.jsx($,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Active Lobbyists"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"1,247"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Registered in federal lobbying registry"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Government Meetings"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"2,847"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Documented interactions this year"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{children:"Compliance Issues"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"23"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Under investigation or review"})]})]})]})})]})]})}function ES(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),[i,n]=x.useState("all"),l=[{id:1,contractNumber:"24062-220034/001/CY",title:"Cloud Infrastructure Services - Multi-Year Agreement",department:"Shared Services Canada",supplier:"Amazon Web Services Canada Inc.",value:185e6,startDate:"2024-04-01",endDate:"2029-03-31",status:"Active",contractType:"Standing Offer",procurementMethod:"Competitive - National",commodityType:"Information Technology",gsin:"T000P - Information Technology Services",amendments:2,flaggedIssues:0,originalValue:175e6,changeOrders:[{date:"2024-05-15",amount:5e6,reason:"Scope expansion for AI services"},{date:"2024-06-01",amount:5e6,reason:"Additional security requirements"}]},{id:2,contractNumber:"W6369-23-0028",title:"Naval Ship Maintenance and Repair Services",department:"Department of National Defence",supplier:"Irving Shipbuilding Inc.",value:75e7,startDate:"2023-10-01",endDate:"2028-09-30",status:"Active",contractType:"Contract",procurementMethod:"Sole Source",commodityType:"Military Equipment",gsin:"N7320 - Ship and Marine Equipment",amendments:1,flaggedIssues:2,originalValue:65e7,changeOrders:[{date:"2024-02-15",amount:1e8,reason:"Material cost increases and scope changes"}]},{id:3,contractNumber:"HC1011-234567/001/CY",title:"COVID-19 Vaccine Procurement and Distribution",department:"Health Canada",supplier:"Pfizer Canada ULC",value:425e6,startDate:"2024-01-01",endDate:"2024-12-31",status:"Active",contractType:"Contract",procurementMethod:"Emergency Procurement",commodityType:"Medical Supplies",gsin:"M001A - Vaccines and Pharmaceuticals",amendments:0,flaggedIssues:0,originalValue:425e6,changeOrders:[]},{id:4,contractNumber:"RCMP-2024-IT-001",title:"Cybersecurity Operations Center Modernization",department:"Royal Canadian Mounted Police",supplier:"Microsoft Canada Inc.",value:89e6,startDate:"2024-03-15",endDate:"2027-03-14",status:"Under Review",contractType:"Contract",procurementMethod:"Competitive - Restricted",commodityType:"Information Technology",gsin:"T001C - Cybersecurity Services",amendments:0,flaggedIssues:1,originalValue:89e6,changeOrders:[]}],c=[{supplier:"Amazon Web Services Canada Inc.",totalContracts:47,totalValue:85e7,onTimeDelivery:94,budgetCompliance:87,qualityScore:91,disputes:2,penalties:0},{supplier:"Irving Shipbuilding Inc.",totalContracts:12,totalValue:21e8,onTimeDelivery:78,budgetCompliance:72,qualityScore:85,disputes:8,penalties:3},{supplier:"Microsoft Canada Inc.",totalContracts:89,totalValue:12e8,onTimeDelivery:91,budgetCompliance:89,qualityScore:93,disputes:1,penalties:0}],o=u=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(u),d=u=>{switch(u){case"Active":return"text-green-600 bg-green-50 border-green-200";case"Under Review":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Completed":return"text-blue-600 bg-blue-50 border-blue-200";case"Cancelled":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},h=u=>u>=90?"text-green-600":u>=75?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Government Procurement Tracker"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Monitor federal contracts, supplier performance, and procurement transparency"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(Tt,{className:"w-3 h-3 mr-1"}),"buyandsell.gc.ca"]})})]}),e.jsxs(Ie,{defaultValue:"contracts",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"contracts",children:"Active Contracts"}),e.jsx(V,{value:"suppliers",children:"Supplier Performance"}),e.jsx(V,{value:"analytics",children:"Procurement Analytics"})]}),e.jsxs($,{value:"contracts",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(te,{placeholder:"Search contracts, suppliers, or contract numbers...",value:s,onChange:u=>t(u.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-64",children:e.jsx(ve,{placeholder:"Filter by department"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Departments"}),e.jsx(D,{value:"Shared Services Canada",children:"Shared Services Canada"}),e.jsx(D,{value:"Department of National Defence",children:"National Defence"}),e.jsx(D,{value:"Health Canada",children:"Health Canada"}),e.jsx(D,{value:"Royal Canadian Mounted Police",children:"RCMP"})]})]}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{placeholder:"Filter by status"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Statuses"}),e.jsx(D,{value:"Active",children:"Active"}),e.jsx(D,{value:"Under Review",children:"Under Review"}),e.jsx(D,{value:"Completed",children:"Completed"}),e.jsx(D,{value:"Cancelled",children:"Cancelled"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:l.map(u=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:u.title}),e.jsxs(G,{className:"mt-1",children:["Contract: ",u.contractNumber," | ",u.department]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsx(k,{className:d(u.status),children:u.status}),e.jsx(k,{variant:"outline",children:u.procurementMethod}),u.flaggedIssues>0&&e.jsxs(k,{variant:"destructive",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),u.flaggedIssues," Issues"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:o(u.value)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Contract Value"}),u.value!==u.originalValue&&e.jsxs("div",{className:"text-xs text-yellow-600 mt-1",children:["+",o(u.value-u.originalValue)," from original"]})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Supplier"}),e.jsx("div",{className:"font-semibold",children:u.supplier})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Contract Period"}),e.jsxs("div",{className:"font-semibold",children:[new Date(u.startDate).toLocaleDateString()," - ",new Date(u.endDate).toLocaleDateString()]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Contract Type"}),e.jsx("div",{className:"font-semibold",children:u.contractType})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Amendments"}),e.jsx("div",{className:"font-semibold",children:u.amendments})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Commodity Information"}),e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Type:"})," ",u.commodityType," |",e.jsx("span",{className:"font-medium ml-2",children:"GSIN:"})," ",u.gsin]})]}),u.changeOrders.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Recent Change Orders"}),e.jsx("div",{className:"space-y-1",children:u.changeOrders.slice(0,2).map((m,p)=>e.jsx("div",{className:"text-sm bg-muted/50 p-2 rounded",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:o(m.amount)}),e.jsx("div",{className:"text-muted-foreground",children:m.reason})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(m.date).toLocaleDateString()})]})},p))})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.ceil((new Date(u.endDate).getTime()-new Date().getTime())/(1e3*60*60*24))," days remaining"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Ke,{className:"w-3 h-3 mr-2"}),"buyandsell.gc.ca"]}),e.jsx(E,{variant:"outline",size:"sm",children:"View Details"})]})]})]})]},u.id))})]}),e.jsx($,{value:"suppliers",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:c.map((u,m)=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-xl",children:u.supplier}),e.jsxs(G,{children:[u.totalContracts," contracts  ",o(u.totalValue)," total value"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-primary",children:[u.qualityScore,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Quality Score"})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"On-Time Delivery"}),e.jsxs("div",{className:`text-2xl font-bold ${h(u.onTimeDelivery)}`,children:[u.onTimeDelivery,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Budget Compliance"}),e.jsxs("div",{className:`text-2xl font-bold ${h(u.budgetCompliance)}`,children:[u.budgetCompliance,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Disputes"}),e.jsx("div",{className:`text-2xl font-bold ${u.disputes>0?"text-red-600":"text-green-600"}`,children:u.disputes})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Penalties Applied"}),e.jsx("div",{className:`text-2xl font-bold ${u.penalties>0?"text-red-600":"text-green-600"}`,children:u.penalties})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsx("div",{className:"flex items-center space-x-4",children:u.penalties===0&&u.disputes===0?e.jsx(k,{variant:"outline",className:"text-green-600 border-green-200",children:"Clean Record"}):e.jsx(k,{variant:"destructive",children:"Performance Issues"})}),e.jsx(E,{variant:"outline",size:"sm",children:"View Performance History"})]})]})]},m))})}),e.jsx($,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Total Procurement Value"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"$47.2B"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Federal contracts awarded this fiscal year"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Active Contracts"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"18,456"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contracts currently being executed"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{children:"Under Investigation"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"127"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Contracts flagged for review or audit"})]})]})]})})]})]})}function _S(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),i=[{id:1,politician:"Justin Trudeau",party:"Liberal",promise:"Electoral Reform - Implement proportional representation",datePromised:"2015-08-02",context:"Federal Election Campaign",status:"Broken",actualOutcome:"Abandoned after consultations in 2017",reasoning:"Lack of consensus on preferred system",impactScore:8.5,publicReaction:"Significant backlash from reform advocates",mediaAttention:"High",followUpActions:"None - topic avoided in subsequent campaigns"},{id:2,politician:"Pierre Poilievre",party:"Conservative",promise:"Fire the Bank of Canada Governor",datePromised:"2022-05-10",context:"Conservative Leadership Campaign",status:"Pending",actualOutcome:"Position softened after becoming leader",reasoning:"Constitutional and practical limitations acknowledged",impactScore:6.2,publicReaction:"Mixed - supporters approve, economists concerned",mediaAttention:"High",followUpActions:"Shifted to criticizing monetary policy instead"},{id:3,politician:"Jagmeet Singh",party:"NDP",promise:"Universal Pharmacare by 2020",datePromised:"2019-09-11",context:"Federal Election Campaign",status:"Partially Kept",actualOutcome:"Limited dental and pharmacare programs launched",reasoning:"Negotiated through supply and confidence agreement",impactScore:7.1,publicReaction:"Positive but incomplete",mediaAttention:"Moderate",followUpActions:"Continues to push for full implementation"},{id:4,politician:"Doug Ford",party:"Progressive Conservative",promise:"Buck-a-beer pricing",datePromised:"2018-06-29",context:"Ontario Provincial Election",status:"Failed",actualOutcome:"Few breweries participated, minimal impact",reasoning:"Market forces and production costs",impactScore:3.2,publicReaction:"Mostly ridiculed as gimmick",mediaAttention:"High initially, then mocked",followUpActions:"Quietly dropped from messaging"}],n=d=>{switch(d){case"Kept":return"text-green-600 bg-green-50 border-green-200";case"Partially Kept":return"text-blue-600 bg-blue-50 border-blue-200";case"Broken":return"text-red-600 bg-red-50 border-red-200";case"Pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Failed":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},l=d=>d>=8?"text-red-600":d>=6?"text-yellow-600":d>=4?"text-blue-600":"text-green-600",c=d=>new Date(d).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"}),o=d=>{const h=new Date(d),u=new Date,m=u.getFullYear()-h.getFullYear(),p=u.getMonth()-h.getMonth();if(m>0)return`${m} year${m>1?"s":""} ago`;if(p>0)return`${p} month${p>1?"s":""} ago`;{const j=Math.floor((u.getTime()-h.getTime())/864e5);return`${j} day${j>1?"s":""} ago`}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Political Memory Bank"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Track campaign promises, policy reversals, and political accountability over time"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(k,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[e.jsx(ds,{className:"w-3 h-3 mr-1"}),"Memory Tracking"]})})]}),e.jsxs(Ie,{defaultValue:"promises",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"promises",children:"Promise Tracker"}),e.jsx(V,{value:"reversals",children:"Policy Reversals"}),e.jsx(V,{value:"accountability",children:"Accountability Score"})]}),e.jsxs($,{value:"promises",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(te,{placeholder:"Search promises, politicians, or policies...",value:s,onChange:d=>t(d.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{placeholder:"Filter by timeframe"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Time"}),e.jsx(D,{value:"current",children:"Current Term"}),e.jsx(D,{value:"last-election",children:"Last Election"}),e.jsx(D,{value:"last-5-years",children:"Last 5 Years"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:i.map(d=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:d.promise}),e.jsxs(G,{className:"mt-1",children:[d.politician," (",d.party,")  ",d.context]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[e.jsx(k,{className:n(d.status),children:d.status}),e.jsxs(k,{variant:"outline",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"}),o(d.datePromised)]}),e.jsxs(k,{variant:"outline",children:["Impact: ",d.impactScore,"/10"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${l(d.impactScore)}`,children:d.impactScore}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Impact Score"})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Date Promised"}),e.jsx("div",{className:"text-sm",children:c(d.datePromised)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Media Attention"}),e.jsx("div",{className:"text-sm",children:d.mediaAttention})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"What Actually Happened"}),e.jsxs("div",{className:"text-sm bg-muted/50 p-3 rounded",children:[e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Outcome:"})," ",d.actualOutcome]}),e.jsxs("p",{className:"mb-2",children:[e.jsx("strong",{children:"Reasoning:"})," ",d.reasoning]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Public Reaction:"})," ",d.publicReaction]})]})]}),d.followUpActions&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Follow-up Actions"}),e.jsx("div",{className:"text-sm",children:d.followUpActions})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Promised ",o(d.datePromised)]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(E,{variant:"outline",size:"sm",children:"View Timeline"}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Ga,{className:"w-3 h-3 mr-2"}),"Archive Sources"]})]})]})]})]},d.id))})]}),e.jsx($,{value:"reversals",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Policy Reversal Timeline"}),e.jsx(G,{children:"Track when politicians change their positions on key issues"})]}),e.jsx(N,{children:e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(ds,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Policy reversal tracking coming soon."}),e.jsx("p",{className:"text-sm",children:"This will show position changes over time with evidence."})]})})]})}),e.jsx($,{value:"accountability",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ds,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Promises Tracked"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"2,847"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Campaign promises since 2015"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{children:"Broken Promises"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"387"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Documented promise breaks"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Avg. Follow-through"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"68%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Promises kept or partially kept"})]})]})]})})]})]})}function IS(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),i=[{id:1,caseName:"Reference re Same-Sex Marriage",citation:"[2004] 3 S.C.R. 698",court:"Supreme Court of Canada",dateDecided:"2004-12-09",category:"Charter Rights",significance:"Constitutional",parties:["Government of Canada"],summary:"Reference question on whether Parliament has exclusive jurisdiction to define marriage and whether same-sex marriage violates Charter rights.",ruling:"Parliament has exclusive jurisdiction over marriage definition; same-sex marriage does not violate Charter rights.",chartereections:["Section 15 (Equality Rights)"],precedentValue:"High",currentStatus:"Active precedent",implications:["Established constitutional framework for same-sex marriage","Clarified division of powers between federal and provincial governments","Reinforced equality protections under Charter"]},{id:2,caseName:"R. v. Morgentaler",citation:"[1988] 1 S.C.R. 30",court:"Supreme Court of Canada",dateDecided:"1988-01-28",category:"Charter Rights",significance:"Constitutional",parties:["Dr. Henry Morgentaler","Crown"],summary:"Challenge to Criminal Code provisions restricting access to abortion services.",ruling:"Abortion restrictions under s. 251 of Criminal Code violated Charter rights to life, liberty and security of the person.",charterSections:["Section 7 (Life, Liberty and Security)"],precedentValue:"High",currentStatus:"Active precedent",implications:["Struck down federal abortion restrictions","Established reproductive rights framework","Clarified s. 7 Charter protections"]},{id:3,caseName:"Oakes v. The Queen",citation:"[1986] 1 S.C.R. 103",court:"Supreme Court of Canada",dateDecided:"1986-02-28",category:"Charter Interpretation",significance:"Constitutional",parties:["David Edwin Oakes","Crown"],summary:"Established test for determining when Charter rights can be reasonably limited under s. 1.",ruling:"Created the Oakes test - a two-part analysis for s. 1 justification of Charter violations.",charterSections:["Section 1 (Reasonable Limits)"],precedentValue:"Fundamental",currentStatus:"Active precedent - foundational",implications:["Created framework for all Charter analysis","Established proportionality test","Fundamental to Canadian constitutional law"]},{id:4,caseName:"Eldridge v. British Columbia",citation:"[1997] 3 S.C.R. 624",court:"Supreme Court of Canada",dateDecided:"1997-10-09",category:"Equality Rights",significance:"Constitutional",parties:["Robin Eldridge et al.","British Columbia"],summary:"Challenge to lack of sign language interpretation in medical services for deaf patients.",ruling:"Failure to provide sign language interpretation violated equality rights under s. 15 of Charter.",charterSections:["Section 15 (Equality Rights)"],precedentValue:"High",currentStatus:"Active precedent",implications:["Extended equality rights to government-funded services","Established duty to accommodate disabilities","Clarified scope of s. 15 protections"]}],n=o=>new Date(o).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"}),l=o=>{switch(o){case"Constitutional":return"text-purple-600 bg-purple-50 border-purple-200";case"Landmark":return"text-blue-600 bg-blue-50 border-blue-200";case"Important":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},c=o=>{switch(o){case"Fundamental":return"text-red-600";case"High":return"text-orange-600";case"Medium":return"text-blue-600";case"Low":return"text-green-600";default:return"text-gray-600"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Constitutional Cases"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Landmark Supreme Court decisions shaping Canadian law and Charter interpretation"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(k,{variant:"outline",className:"bg-purple-50 text-purple-700 border-purple-200",children:[e.jsx(lt,{className:"w-3 h-3 mr-1"}),"SCC Decisions"]})})]}),e.jsxs(Ie,{defaultValue:"constitutional",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"constitutional",children:"Constitutional Cases"}),e.jsx(V,{value:"charter",children:"Charter Decisions"}),e.jsx(V,{value:"recent",children:"Recent Rulings"})]}),e.jsxs($,{value:"constitutional",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(te,{placeholder:"Search cases, parties, or legal principles...",value:s,onChange:o=>t(o.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-64",children:e.jsx(ve,{placeholder:"Filter by court"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Courts"}),e.jsx(D,{value:"Supreme Court of Canada",children:"Supreme Court of Canada"}),e.jsx(D,{value:"Federal Court of Appeal",children:"Federal Court of Appeal"}),e.jsx(D,{value:"Provincial Courts of Appeal",children:"Provincial Courts of Appeal"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:i.map(o=>{var d;return e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:o.caseName}),e.jsxs(G,{className:"mt-1",children:[o.citation," | ",o.court]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[e.jsx(k,{className:l(o.significance),children:o.significance}),e.jsxs(k,{variant:"outline",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"}),n(o.dateDecided)]}),e.jsx(k,{variant:"outline",children:o.category})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-lg font-bold ${c(o.precedentValue)}`,children:o.precedentValue}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Precedent Value"})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Case Summary"}),e.jsx("p",{className:"text-sm",children:o.summary})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Court's Ruling"}),e.jsx("div",{className:"text-sm bg-muted/50 p-3 rounded",children:o.ruling})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Charter Sections"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:(d=o.charterSections)==null?void 0:d.map((h,u)=>e.jsx(k,{variant:"secondary",className:"text-xs",children:h},u))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Current Status"}),e.jsx("div",{className:"text-sm font-medium",children:o.currentStatus})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Legal Implications"}),e.jsx("ul",{className:"text-sm space-y-1",children:o.implications.map((h,u)=>e.jsxs("li",{className:"text-muted-foreground",children:[" ",h]},u))})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(zs,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Parties: ",o.parties.join(" v. ")]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Ke,{className:"w-3 h-3 mr-2"}),"Full Decision"]}),e.jsx(E,{variant:"outline",size:"sm",children:"Case Analysis"})]})]})]})]},o.id)})})]}),e.jsx($,{value:"charter",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Charter Rights Jurisprudence"}),e.jsx(G,{children:"Key Supreme Court decisions interpreting Charter of Rights and Freedoms"})]}),e.jsx(N,{children:e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(lt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Charter jurisprudence analysis coming soon."}),e.jsx("p",{className:"text-sm",children:"This will show how Charter rights have evolved through court decisions."})]})})]})}),e.jsx($,{value:"recent",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(lt,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Cases This Year"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"47"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Supreme Court decisions in 2024"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(zs,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Charter Challenges"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"12"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Charter-based appeals heard"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Ge,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Pending Appeals"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"89"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Cases awaiting hearing"})]})]})]})})]})]})}function MS(){const s=[{id:"cbc",name:"CBC News",website:"cbc.ca",type:"government",bias:"center",credibilityScore:85,reach:"national",language:"bilingual",ownership:"Government of Canada",founded:1936},{id:"globe",name:"The Globe and Mail",website:"theglobeandmail.com",type:"mainstream",bias:"center",credibilityScore:88,reach:"national",language:"english",ownership:"Woodbridge Company",founded:1844},{id:"nationalpost",name:"National Post",website:"nationalpost.com",type:"mainstream",bias:"right",credibilityScore:78,reach:"national",language:"english",ownership:"Postmedia Network",founded:1998},{id:"ctv",name:"CTV News",website:"ctvnews.ca",type:"mainstream",bias:"center",credibilityScore:83,reach:"national",language:"english",ownership:"Bell Media",founded:1961},{id:"global",name:"Global News",website:"globalnews.ca",type:"mainstream",bias:"center",credibilityScore:82,reach:"national",language:"english",ownership:"Corus Entertainment",founded:1974},{id:"torontostar",name:"Toronto Star",website:"thestar.com",type:"mainstream",bias:"left",credibilityScore:79,reach:"national",language:"english",ownership:"Torstar Corporation",founded:1892},{id:"ledevoir",name:"Le Devoir",website:"ledevoir.com",type:"mainstream",bias:"center",credibilityScore:84,reach:"regional",language:"french",ownership:"Independent",founded:1910},{id:"lapresse",name:"La Presse",website:"lapresse.ca",type:"mainstream",bias:"center",credibilityScore:82,reach:"regional",language:"french",ownership:"Power Corporation",founded:1884},{id:"radiocanada",name:"Radio-Canada",website:"ici.radio-canada.ca",type:"government",bias:"center",credibilityScore:87,reach:"national",language:"french",ownership:"Government of Canada",founded:1936},{id:"ipolitics",name:"iPolitics",website:"ipolitics.ca",type:"alternative",bias:"center",credibilityScore:81,reach:"national",language:"english",ownership:"Independent",founded:2010,specialization:"Politics & Policy"},{id:"hilltimes",name:"The Hill Times",website:"hilltimes.com",type:"alternative",bias:"center",credibilityScore:86,reach:"national",language:"english",ownership:"Independent",founded:1989,specialization:"Parliamentary Affairs"},{id:"policyoptions",name:"Policy Options",website:"policyoptions.irpp.org",type:"alternative",bias:"center",credibilityScore:89,reach:"national",language:"bilingual",ownership:"Institute for Research on Public Policy",founded:1980,specialization:"Public Policy Analysis"},{id:"blacklocks",name:"Blacklock's Reporter",website:"blacklocks.ca",type:"alternative",bias:"center",credibilityScore:89,reach:"national",language:"english",ownership:"Independent",founded:2012,specialization:"Government Accountability"},{id:"tyee",name:"The Tyee",website:"thetyee.ca",type:"alternative",bias:"left",credibilityScore:82,reach:"regional",language:"english",ownership:"Independent",founded:2003,specialization:"Progressive Politics"},{id:"canadaland",name:"Canadaland",website:"canadaland.com",type:"alternative",bias:"left",credibilityScore:78,reach:"national",language:"english",ownership:"Independent",founded:2013,specialization:"Media Criticism"},{id:"nationalobserver",name:"National Observer",website:"nationalobserver.com",type:"alternative",bias:"left",credibilityScore:81,reach:"national",language:"english",ownership:"Independent",founded:2015,specialization:"Environment & Politics"},{id:"thenarwhal",name:"The Narwhal",website:"thenarwhal.ca",type:"alternative",bias:"left",credibilityScore:85,reach:"national",language:"english",ownership:"Independent",founded:2018,specialization:"Environmental Journalism"},{id:"truenorth",name:"True North",website:"tnc.news",type:"alternative",bias:"right",credibilityScore:65,reach:"national",language:"english",ownership:"Independent",founded:2019,specialization:"Conservative Commentary"},{id:"rebelnews",name:"Rebel News",website:"rebelnews.com",type:"alternative",bias:"right",credibilityScore:45,reach:"national",language:"english",ownership:"Rebel News Network",founded:2015,specialization:"Right-wing Activism"},{id:"aptn",name:"APTN News",website:"aptnnews.ca",type:"alternative",bias:"center",credibilityScore:88,reach:"national",language:"english",ownership:"Aboriginal Peoples Television Network",founded:1999,specialization:"Indigenous Affairs"},{id:"windspeaker",name:"Windspeaker",website:"windspeaker.com",type:"alternative",bias:"center",credibilityScore:84,reach:"national",language:"english",ownership:"Aboriginal Multi-Media Society",founded:1983,specialization:"Indigenous Communities"},{id:"ottawacitizen",name:"Ottawa Citizen",website:"ottawacitizen.com",type:"mainstream",bias:"center",credibilityScore:76,reach:"regional",language:"english",ownership:"Postmedia Network",founded:1845},{id:"montrealgazette",name:"Montreal Gazette",website:"montrealgazette.com",type:"mainstream",bias:"center",credibilityScore:77,reach:"regional",language:"english",ownership:"Postmedia Network",founded:1778},{id:"telegraphjournal",name:"Telegraph-Journal",website:"telegraphjournal.com",type:"mainstream",bias:"center",credibilityScore:75,reach:"regional",language:"english",ownership:"Irving Media",founded:1862},{id:"theguardianpei",name:"The Guardian (PEI)",website:"theguardian.pe.ca",type:"mainstream",bias:"center",credibilityScore:73,reach:"local",language:"english",ownership:"Transcontinental Media",founded:1870},{id:"thetelegram",name:"The Telegram",website:"thetelegram.com",type:"mainstream",bias:"center",credibilityScore:74,reach:"regional",language:"english",ownership:"SaltWire Network",founded:1879},{id:"tvanouvelles",name:"TVA Nouvelles",website:"tvanouvelles.ca",type:"mainstream",bias:"center-right",credibilityScore:75,reach:"regional",language:"french",ownership:"Quebecor Media",founded:1961},{id:"lesoleil",name:"Le Soleil",website:"lesoleil.com",type:"mainstream",bias:"center",credibilityScore:78,reach:"regional",language:"french",ownership:"Capitales Mdias",founded:1896},{id:"whitehorsestar",name:"Whitehorse Star",website:"whitehorsestar.com",type:"mainstream",bias:"center",credibilityScore:72,reach:"local",language:"english",ownership:"Independent",founded:1900,specialization:"Northern Affairs"},{id:"yellowknifer",name:"Yellowknifer",website:"nnsl.com/yellowknifer",type:"mainstream",bias:"center",credibilityScore:71,reach:"local",language:"english",ownership:"Northern News Services",founded:1977,specialization:"Northern Affairs"},{id:"nunavutnews",name:"Nunavut News",website:"nunavutnews.com",type:"mainstream",bias:"center",credibilityScore:70,reach:"local",language:"english",ownership:"Northern News Services",founded:1999,specialization:"Arctic Affairs"},{id:"ricochet",name:"Ricochet",website:"ricochet.media",type:"alternative",bias:"left",credibilityScore:79,reach:"national",language:"bilingual",ownership:"Independent",founded:2014,specialization:"Investigative Journalism"},{id:"theenergymix",name:"The Energy Mix",website:"theenergymix.com",type:"alternative",bias:"left",credibilityScore:83,reach:"national",language:"english",ownership:"Independent",founded:2016,specialization:"Climate & Energy"},{id:"westernstandard",name:"Western Standard",website:"westernstandard.news",type:"alternative",bias:"right",credibilityScore:62,reach:"regional",language:"english",ownership:"Independent",founded:2020,specialization:"Western Canadian Politics"},{id:"postmillennial",name:"The Post Millennial",website:"thepostmillennial.com",type:"alternative",bias:"right",credibilityScore:58,reach:"national",language:"english",ownership:"Independent",founded:2017,specialization:"Conservative Commentary"},{id:"lawtimes",name:"Law Times",website:"lawtimesnews.com",type:"alternative",bias:"center",credibilityScore:85,reach:"national",language:"english",ownership:"Thomson Reuters",founded:1991,specialization:"Legal Affairs"},{id:"canadianlawyermag",name:"Canadian Lawyer",website:"canadianlawyermag.com",type:"alternative",bias:"center",credibilityScore:87,reach:"national",language:"english",ownership:"Key Media",founded:1977,specialization:"Legal Profession"}],t=n=>n==="all"?s:s.filter(l=>l.type===n),a=n=>s.filter(l=>l.language===n||l.language==="bilingual"),i=(()=>{const n=s.length,l=Math.round(s.reduce((o,d)=>o+d.credibilityScore,0)/n),c=s.reduce((o,d)=>(o[d.type]=(o[d.type]||0)+1,o),{});return{total:n,avgCredibility:l,typeDistribution:c}})();return e.jsxs("div",{className:"space-y-6",children:[e.jsx(b,{className:"border-2 border-blue-200 dark:border-blue-800",children:e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center text-blue-900 dark:text-blue-100",children:[e.jsx(Lt,{className:"w-6 h-6 mr-2"}),"Comprehensive Canadian News Media Analysis"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mt-4",children:[e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-950 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-700 dark:text-blue-300",children:i.total}),e.jsx("div",{className:"text-sm text-blue-600 dark:text-blue-400",children:"Total Outlets"})]}),e.jsxs("div",{className:"text-center p-3 bg-green-50 dark:bg-green-950 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-green-700 dark:text-green-300",children:[i.avgCredibility,"%"]}),e.jsx("div",{className:"text-sm text-green-600 dark:text-green-400",children:"Avg Credibility"})]}),e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-950 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-700 dark:text-purple-300",children:i.typeDistribution.mainstream||0}),e.jsx("div",{className:"text-sm text-purple-600 dark:text-purple-400",children:"Mainstream"})]}),e.jsxs("div",{className:"text-center p-3 bg-orange-50 dark:bg-orange-950 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-700 dark:text-orange-300",children:i.typeDistribution.alternative||0}),e.jsx("div",{className:"text-sm text-orange-600 dark:text-orange-400",children:"Independent"})]})]})]})}),e.jsxs(Ie,{defaultValue:"all",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-7",children:[e.jsx(V,{value:"all",children:"All Sources"}),e.jsx(V,{value:"mainstream",children:"Mainstream"}),e.jsx(V,{value:"alternative",children:"Independent"}),e.jsx(V,{value:"government",children:"Government"}),e.jsx(V,{value:"french",children:"French"}),e.jsx(V,{value:"regional",children:"Regional"}),e.jsx(V,{value:"specialist",children:"Specialist"})]}),e.jsx($,{value:"all",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(n=>e.jsx(ia,{outlet:n},n.id))})}),e.jsx($,{value:"mainstream",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t("mainstream").map(n=>e.jsx(ia,{outlet:n},n.id))})}),e.jsx($,{value:"alternative",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t("alternative").map(n=>e.jsx(ia,{outlet:n},n.id))})}),e.jsx($,{value:"government",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t("government").map(n=>e.jsx(ia,{outlet:n},n.id))})}),e.jsx($,{value:"french",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a("french").map(n=>e.jsx(ia,{outlet:n},n.id))})}),e.jsx($,{value:"regional",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.filter(n=>n.reach==="regional"||n.reach==="local").map(n=>e.jsx(ia,{outlet:n},n.id))})}),e.jsx($,{value:"specialist",className:"space-y-4",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.filter(n=>n.specialization).map(n=>e.jsx(ia,{outlet:n},n.id))})})]})]})}function ia({outlet:s}){const t=i=>i>=85?"text-green-600 bg-green-50 dark:bg-green-950":i>=75?"text-blue-600 bg-blue-50 dark:bg-blue-950":i>=65?"text-yellow-600 bg-yellow-50 dark:bg-yellow-950":i>=55?"text-orange-600 bg-orange-50 dark:bg-orange-950":"text-red-600 bg-red-50 dark:bg-red-950",a=i=>{switch(i){case"left":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"center-left":return"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-200";case"center":return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200";case"center-right":return"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200";case"right":return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200";default:return"bg-gray-100 text-gray-800"}},r=i=>{switch(i){case"government":return e.jsx(Tt,{className:"w-4 h-4"});case"mainstream":return e.jsx(_m,{className:"w-4 h-4"});case"alternative":return e.jsx(Wv,{className:"w-4 h-4"});case"independent":return e.jsx(de,{className:"w-4 h-4"});default:return e.jsx(ce,{className:"w-4 h-4"})}};return e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-lg",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:s.website})]}),e.jsx("div",{className:"flex items-center space-x-1",children:r(s.type)})]})}),e.jsxs(N,{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Credibility Score"}),e.jsxs("div",{className:`px-2 py-1 rounded text-sm font-bold ${t(s.credibilityScore)}`,children:[s.credibilityScore,"%"]})]}),e.jsx("div",{className:"space-y-2",children:e.jsx(ft,{value:s.credibilityScore,className:"h-2"})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx(k,{className:a(s.bias),children:s.bias}),e.jsx(k,{variant:"outline",className:"capitalize",children:s.type}),e.jsx(k,{variant:"secondary",className:"capitalize",children:s.language})]}),s.specialization&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-950 p-2 rounded text-sm",children:[e.jsx("span",{className:"font-medium",children:"Focus: "}),s.specialization]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 space-y-1",children:[e.jsxs("div",{children:["Founded: ",s.founded]}),e.jsxs("div",{children:["Ownership: ",s.ownership]}),e.jsxs("div",{className:"capitalize",children:["Reach: ",s.reach]})]})]})]})}function DS(){const[s,t]=x.useState(null),[a,r]=x.useState(""),[i,n]=x.useState(""),l=ss(),{data:c=[],isLoading:o}=Q({queryKey:["/api/news/outlets"]}),{data:d=[],isLoading:h}=Q({queryKey:["/api/news/articles"]}),u=Ne({mutationFn:async f=>await(await ye("/api/news/analyze-credibility","POST",f)).json(),onSuccess:()=>{l.invalidateQueries({queryKey:["/api/news"]})}}),m=f=>f>=80?"text-green-600":f>=70?"text-yellow-600":f>=60?"text-orange-600":"text-red-600",p=f=>f>=80?e.jsx(z,{className:"w-5 h-5 text-green-600"}):f>=70?e.jsx(ae,{className:"w-5 h-5 text-yellow-600"}):e.jsx(ts,{className:"w-5 h-5 text-red-600"}),j=f=>{switch(f.toLowerCase()){case"left":return"bg-blue-100 text-blue-800";case"center-left":return"bg-blue-50 text-blue-700";case"center":return"bg-gray-100 text-gray-800";case"center-right":return"bg-red-50 text-red-700";case"right":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},g=()=>{a&&i&&u.mutate({articleText:a,sourceName:i})};return o?e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-civic-blue mx-auto"}),e.jsx("p",{className:"text-gray-600 mt-4",children:"Loading media credibility data..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"News Analysis & Media Credibility"}),e.jsx("p",{className:"text-gray-600",children:"Analyze media sources, track funding, and evaluate credibility with authentic transparency data"})]}),e.jsxs(Ie,{defaultValue:"outlets",className:"space-y-6",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4",children:[e.jsx(V,{value:"outlets",children:"Media Outlets"}),e.jsx(V,{value:"comprehensive",children:"All Sources"}),e.jsx(V,{value:"analyze",children:"Analyze Article"}),e.jsx(V,{value:"comparison",children:"Outlet Comparison"})]}),e.jsxs($,{value:"outlets",className:"space-y-6",children:[e.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:c.map(f=>e.jsxs(b,{className:"cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>t(f),children:[e.jsx(P,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx(T,{className:"text-lg",children:f.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[p(f.credibilityScore),e.jsxs("span",{className:`font-semibold ${m(f.credibilityScore)}`,children:[f.credibilityScore,"%"]})]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Bias Rating:"}),e.jsx(k,{className:j(f.biasRating),children:f.biasRating})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Factual Reporting:"}),e.jsx(k,{variant:"outline",children:f.factualReporting})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Ownership:"}),e.jsx(k,{variant:"secondary",children:f.ownership.type})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm text-gray-600",children:"Funding Sources:"})]}),e.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.funding.revenue.slice(0,2).map((w,y)=>e.jsx(k,{variant:"outline",className:"text-xs",children:w},y)),f.funding.revenue.length>2&&e.jsxs(k,{variant:"outline",className:"text-xs",children:["+",f.funding.revenue.length-2," more"]})]})]}),f.funding.government_funding.length>0&&e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4 text-yellow-600"}),e.jsx("span",{className:"text-xs text-yellow-800 font-medium",children:"Receives Government Funding"})]})})]})})]},f.id))}),s&&e.jsxs(b,{className:"mt-8",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-2xl",children:s.name}),e.jsx("p",{className:"text-gray-600 mt-1",children:s.website})]}),e.jsx(E,{variant:"outline",onClick:()=>t(null),children:"Close"})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Credibility Metrics"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Credibility Score:"}),e.jsxs("div",{className:"flex items-center gap-2",children:[p(s.credibilityScore),e.jsxs("span",{className:`font-bold ${m(s.credibilityScore)}`,children:[s.credibilityScore,"%"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Transparency Score:"}),e.jsxs("span",{className:"font-semibold",children:[s.transparencyScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Bias Rating:"}),e.jsx(k,{className:j(s.biasRating),children:s.biasRating})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{children:"Factual Reporting:"}),e.jsx(k,{variant:"outline",children:s.factualReporting})]})]}),e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Fact Check Record"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Checked:"}),e.jsx("span",{className:"font-medium",children:s.factCheckRecord.totalChecked})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Accurate:"}),e.jsx("span",{className:"text-green-600 font-medium",children:s.factCheckRecord.accurate})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Misleading:"}),e.jsx("span",{className:"text-yellow-600 font-medium",children:s.factCheckRecord.misleading})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"False:"}),e.jsx("span",{className:"text-red-600 font-medium",children:s.factCheckRecord.false})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Ownership & Funding"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-blue-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(de,{className:"w-4 h-4"}),"Ownership"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Type:"}),e.jsx(k,{variant:"secondary",children:s.ownership.type})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Owners:"}),e.jsx("ul",{className:"mt-1 space-y-1",children:s.ownership.owners.map((f,w)=>e.jsxs("li",{className:"text-gray-700",children:[" ",f]},w))})]}),s.ownership.publiclyTraded&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Stock Symbol:"}),e.jsx("span",{className:"font-medium",children:s.ownership.stockSymbol})]})]})]}),e.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(jt,{className:"w-4 h-4"}),"Funding Sources"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Revenue:"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:s.funding.revenue.map((f,w)=>e.jsx(k,{variant:"outline",className:"text-xs",children:f},w))})]}),s.funding.government_funding.length>0&&e.jsxs("div",{className:"bg-yellow-100 border border-yellow-300 rounded p-2",children:[e.jsx("span",{className:"font-medium text-yellow-800",children:"Government Funding:"}),e.jsx("ul",{className:"mt-1 space-y-1",children:s.funding.government_funding.map((f,w)=>e.jsxs("li",{className:"text-yellow-700 text-xs",children:[" ",f]},w))})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Corporate Sponsors:"}),e.jsx("div",{className:"mt-1 flex flex-wrap gap-1",children:s.funding.corporate_sponsors.slice(0,3).map((f,w)=>e.jsx(k,{variant:"outline",className:"text-xs",children:f},w))})]})]})]}),e.jsxs("div",{className:"bg-purple-50 rounded-lg p-4",children:[e.jsxs("h4",{className:"font-semibold mb-2 flex items-center gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),"Editorial"]}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Editor-in-Chief:"}),e.jsx("span",{className:"ml-2",children:s.editorial.editorInChief})]}),s.editorial.politicalEndorsements.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Recent Endorsements:"}),e.jsx("ul",{className:"mt-1 space-y-1",children:s.editorial.politicalEndorsements.slice(0,2).map((f,w)=>e.jsxs("li",{className:"text-gray-700 text-xs",children:[" ",f.year,": ",f.candidate," (",f.party,") - ",f.position]},w))})]})]})]})]})]})]}),s.retractions.length>0&&e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Recent Retractions"}),e.jsx("div",{className:"space-y-2",children:s.retractions.map((f,w)=>e.jsx("div",{className:"bg-red-50 border border-red-200 rounded p-3",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:f.headline}),e.jsx("p",{className:"text-red-700 text-sm mt-1",children:f.reason})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(k,{variant:f.severity==="major"?"destructive":"outline",children:f.severity}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:new Date(f.date).toLocaleDateString()})]})]})},w))})]})]})]})]}),e.jsx($,{value:"comprehensive",className:"space-y-6",children:e.jsx(MS,{})}),e.jsx($,{value:"analyze",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Article Credibility Analysis"}),e.jsx("p",{className:"text-gray-600",children:"Paste an article and source to analyze credibility, detect bias, and identify propaganda techniques"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Source Name"}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{children:e.jsx(ve,{placeholder:"Select or type media source..."})}),e.jsx(fe,{children:c.map(f=>e.jsx(D,{value:f.name,children:f.name},f.id))})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"Article Text"}),e.jsx(Gs,{value:a,onChange:f=>r(f.target.value),placeholder:"Paste the article content here...",rows:10})]}),e.jsx(E,{onClick:g,disabled:!a||!i||u.isPending,className:"w-full",children:u.isPending?"Analyzing...":"Analyze Credibility"}),u.data&&e.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Analysis Results"}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Credibility Score:"}),e.jsxs("span",{className:`font-bold ${m(u.data.credibilityScore)}`,children:[u.data.credibilityScore,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Factual Accuracy:"}),e.jsxs("span",{className:"font-semibold",children:[u.data.factualAccuracy,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Bias Detected:"}),e.jsx(k,{className:j(u.data.biasDetected),children:u.data.biasDetected})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Propaganda Techniques:"}),e.jsx("div",{className:"mt-1 space-y-1",children:u.data.propagandaTechniques.map((f,w)=>e.jsx(k,{variant:"outline",className:"text-xs mr-1",children:f},w))})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded",children:[e.jsx("h4",{className:"font-medium text-blue-900",children:"Recommendation:"}),e.jsx("p",{className:"text-blue-800 text-sm mt-1",children:u.data.recommendation})]}),e.jsx("div",{className:"mt-6",children:e.jsx(Ra,{targetType:"news",targetId:Date.now(),title:`Analysis: ${i}`,description:"News credibility analysis and fact-checking",showVoting:!0,showComments:!0,showSharing:!0})})]})]})]})}),e.jsx($,{value:"comparison",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Media Outlet Comparison"}),e.jsx("p",{className:"text-gray-600",children:"Compare credibility scores, funding sources, and bias ratings across outlets"})]}),e.jsx(N,{children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"text-left p-2",children:"Outlet"}),e.jsx("th",{className:"text-center p-2",children:"Credibility"}),e.jsx("th",{className:"text-center p-2",children:"Bias"}),e.jsx("th",{className:"text-center p-2",children:"Ownership"}),e.jsx("th",{className:"text-center p-2",children:"Gov't Funding"}),e.jsx("th",{className:"text-center p-2",children:"Transparency"})]})}),e.jsx("tbody",{children:c.map(f=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"p-2 font-medium",children:f.name}),e.jsx("td",{className:"p-2 text-center",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[p(f.credibilityScore),e.jsxs("span",{className:m(f.credibilityScore),children:[f.credibilityScore,"%"]})]})}),e.jsx("td",{className:"p-2 text-center",children:e.jsx(k,{className:j(f.biasRating),children:f.biasRating})}),e.jsx("td",{className:"p-2 text-center",children:e.jsx(k,{variant:"secondary",children:f.ownership.type})}),e.jsx("td",{className:"p-2 text-center",children:f.funding.government_funding.length>0?e.jsx(ae,{className:"w-4 h-4 text-yellow-600 mx-auto"}):e.jsx(z,{className:"w-4 h-4 text-green-600 mx-auto"})}),e.jsxs("td",{className:"p-2 text-center",children:[f.transparencyScore,"%"]})]},f.id))})]})})})]})})]})]})})}function LS(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),[i,n]=x.useState("all"),[l,c]=x.useState("all"),[o,d]=x.useState("all"),[h,u]=x.useState(null),[m,p]=x.useState(null),{data:j=[],isLoading:g}=Q({queryKey:["/api/contacts/comprehensive"]}),{data:f=[]}=Q({queryKey:["/api/contacts/jurisdictions"]}),{data:w=[]}=Q({queryKey:["/api/contacts/parties"]}),v=[{id:"cra",name:"Canada Revenue Agency",abbreviation:"CRA",category:"Tax",description:"Tax filing, benefits, credits, and revenue services",mainPhone:"1-800-959-8281",altPhone:"1-855-284-5946",email:"info@cra-arc.gc.ca",website:"https://www.canada.ca/en/revenue-agency.html",onlineServices:"My Account, My Business Account, Represent a Client",hours:"Monday-Friday 9:00 AM - 5:00 PM",languages:["English","French"],waitTimes:"Average 15-20 minutes",urgentLine:"1-888-863-8662",textService:"Available",appName:"MyCRA",keyServices:["Tax Returns","GST/HST","Payroll","Benefits","Child Care Benefit","Tax Credits"]},{id:"ei",name:"Employment Insurance",abbreviation:"EI",category:"Employment",description:"Unemployment benefits, maternity/parental leave, sickness benefits",mainPhone:"1-800-206-7218",email:"ei-ae@servicecanada.gc.ca",website:"https://www.canada.ca/en/employment-social-development/programs/ei.html",onlineServices:"My Service Canada Account",hours:"Monday-Friday 8:30 AM - 4:30 PM",languages:["English","French"],waitTimes:"Average 25-30 minutes",urgentLine:"1-800-808-6352",textService:"Available",appName:"MSCA Mobile",keyServices:["Regular Benefits","Maternity/Parental Leave","Sickness Benefits","Compassionate Care","Fishing Benefits"]},{id:"wcb",name:"Workers' Compensation Board",abbreviation:"WCB/WSIB",category:"Employment",description:"Workplace injury compensation and prevention services",mainPhone:"1-800-387-0750",altPhone:"416-344-1000",email:"contactcentre@wsib.on.ca",website:"https://www.wsib.on.ca",onlineServices:"My WSIB, Employer Portal",hours:"Monday-Friday 7:30 AM - 6:00 PM",languages:["English","French","Spanish","Italian","Portuguese"],waitTimes:"Average 10-15 minutes",urgentLine:"1-800-387-0750",appName:"My WSIB",keyServices:["Injury Claims","Return to Work","Prevention Services","Premium Payments","Healthcare Provider Services"],regionalOffices:[{region:"Toronto",phone:"416-344-1000",address:"200 Front St W, Toronto, ON"},{region:"Ottawa",phone:"613-238-5972",address:"347 Preston St, Ottawa, ON"},{region:"London",phone:"519-645-7100",address:"148 Fullarton St, London, ON"}]},{id:"msca",name:"My Service Canada Account",abbreviation:"MSCA",category:"Social",description:"Online access to government benefits and services",mainPhone:"1-800-206-7218",email:"nc-msca-msdc-gd@hrsdc-rhdcc.gc.ca",website:"https://www.canada.ca/en/employment-social-development/services/my-account.html",onlineServices:"Full online portal access",hours:"24/7 online, phone support Monday-Friday 8:30 AM - 4:30 PM",languages:["English","French"],waitTimes:"Online instant, phone average 20 minutes",appName:"MSCA Mobile",keyServices:["CPP/OAS","EI Benefits","Social Insurance Number","Employment Records","Direct Deposit"]},{id:"cpp",name:"Canada Pension Plan",abbreviation:"CPP",category:"Social",description:"Retirement, disability, and survivor pension benefits",mainPhone:"1-800-277-9914",email:"cpp-rpc@servicecanada.gc.ca",website:"https://www.canada.ca/en/services/benefits/publicpensions/cpp.html",onlineServices:"My Service Canada Account",hours:"Monday-Friday 8:30 AM - 4:30 PM",languages:["English","French"],waitTimes:"Average 30-35 minutes",appName:"MSCA Mobile",keyServices:["Retirement Pension","Disability Benefits","Survivor Benefits","Children's Benefits","Death Benefits"]},{id:"oas",name:"Old Age Security",abbreviation:"OAS",category:"Social",description:"Monthly pension for seniors 65 and older",mainPhone:"1-800-277-9914",email:"oas-sv@servicecanada.gc.ca",website:"https://www.canada.ca/en/services/benefits/publicpensions/cpp/old-age-security.html",onlineServices:"My Service Canada Account",hours:"Monday-Friday 8:30 AM - 4:30 PM",languages:["English","French"],waitTimes:"Average 25-30 minutes",keyServices:["Old Age Security Pension","Guaranteed Income Supplement","Allowance","Allowance for Survivor"]},{id:"ircc",name:"Immigration, Refugees and Citizenship Canada",abbreviation:"IRCC",category:"Immigration",description:"Immigration, citizenship, and refugee services",mainPhone:"1-888-242-2100",email:"IRCC.ClientPortal-PortailClient.IRCC@cic.gc.ca",website:"https://www.canada.ca/en/immigration-refugees-citizenship.html",onlineServices:"Secure Account, Online Applications",hours:"Monday-Friday 8:00 AM - 4:00 PM",languages:["English","French","Arabic","Mandarin","Spanish"],waitTimes:"Average 45-60 minutes",urgentLine:"1-888-242-2100",keyServices:["Citizenship Applications","Permanent Residence","Work Permits","Study Permits","Visitor Visas","Refugee Claims"]},{id:"vac",name:"Veterans Affairs Canada",abbreviation:"VAC",category:"Veterans",description:"Benefits and services for Canadian veterans",mainPhone:"1-866-522-2122",email:"information@vac-acc.gc.ca",website:"https://www.veterans.gc.ca",onlineServices:"My VAC Account",hours:"Monday-Friday 8:30 AM - 4:00 PM",languages:["English","French"],waitTimes:"Average 20-25 minutes",urgentLine:"1-866-522-2022",appName:"VAC Mobile",keyServices:["Disability Benefits","Rehabilitation","Career Transition","Health Care","Commemorative Services"]},{id:"phac",name:"Public Health Agency of Canada",abbreviation:"PHAC",category:"Health",description:"Public health information and emergency response",mainPhone:"1-833-784-4397",email:"phac.info.aspc@canada.ca",website:"https://www.canada.ca/en/public-health.html",onlineServices:"Health Canada online services",hours:"Monday-Friday 8:00 AM - 8:00 PM",languages:["English","French"],waitTimes:"Average 15-20 minutes",urgentLine:"1-833-784-4397",keyServices:["Disease Surveillance","Emergency Preparedness","Health Promotion","Immunization","Travel Health"]},{id:"transport",name:"Transport Canada",abbreviation:"TC",category:"Transportation",description:"Transportation safety and regulation services",mainPhone:"1-613-990-2309",email:"info@tc.gc.ca",website:"https://www.tc.gc.ca",onlineServices:"Online licensing and permits",hours:"Monday-Friday 8:00 AM - 4:00 PM",languages:["English","French"],waitTimes:"Average 20-25 minutes",keyServices:["Driver's Licenses","Vehicle Registration","Aviation Licenses","Marine Safety","Rail Safety","Dangerous Goods"]},{id:"emergency",name:"Emergency Management Canada",abbreviation:"EMC",category:"Emergency",description:"Emergency preparedness and disaster response",mainPhone:"1-800-830-3118",urgentLine:"911",email:"ps.emergency-urgence.sp@canada.ca",website:"https://www.publicsafety.gc.ca",onlineServices:"Emergency alerts and information",hours:"24/7 emergency line, office Monday-Friday 8:00 AM - 4:00 PM",languages:["English","French"],keyServices:["Emergency Response","Disaster Relief","Emergency Preparedness","Public Alerts","Critical Infrastructure"]},{id:"justice",name:"Department of Justice Canada",abbreviation:"DOJ",category:"Legal",description:"Legal information and court services",mainPhone:"1-613-957-4222",email:"webadmin@justice.gc.ca",website:"https://www.justice.gc.ca",onlineServices:"Legal aid directory, court services",hours:"Monday-Friday 8:30 AM - 5:00 PM",languages:["English","French"],waitTimes:"Average 15-20 minutes",keyServices:["Legal Aid","Court Services","Family Law","Criminal Law","Human Rights","Access to Justice"]},{id:"cbsa",name:"Canada Border Services Agency",abbreviation:"CBSA",category:"Immigration",description:"Border security and customs services",mainPhone:"1-800-461-9999",email:"contact@cbsa-asfc.gc.ca",website:"https://www.cbsa-asfc.gc.ca",onlineServices:"eDeclaration, Customs Online Portal",hours:"Monday-Friday 8:00 AM - 4:00 PM",languages:["English","French"],waitTimes:"Average 25-30 minutes",appName:"ArriveCAN",keyServices:["Customs Declaration","Border Crossing","Commercial Imports","Travel Documents","Detention Review"]},{id:"cic",name:"Citizenship and Immigration Canada",abbreviation:"CIC",category:"Immigration",description:"Citizenship applications and immigration services",mainPhone:"1-888-242-2100",email:"cic.feedback-retroaction.cic@cic.gc.ca",website:"https://www.canada.ca/en/immigration-refugees-citizenship.html",onlineServices:"Online applications and status checking",hours:"Monday-Friday 8:00 AM - 4:00 PM",languages:["English","French","Spanish","Mandarin","Arabic"],waitTimes:"Average 40-50 minutes",keyServices:["Citizenship Test","Passport Services","Status Updates","Application Processing","Document Authentication"]},{id:"esdc",name:"Employment and Social Development Canada",abbreviation:"ESDC",category:"Employment",description:"Employment programs and social development",mainPhone:"1-800-622-6232",email:"nc-pli-lmi-gd@hrsdc-rhdcc.gc.ca",website:"https://www.canada.ca/en/employment-social-development.html",onlineServices:"Job Bank, Grant and Contribution Portal",hours:"Monday-Friday 8:30 AM - 4:30 PM",languages:["English","French"],waitTimes:"Average 20-25 minutes",keyServices:["Job Search","Skills Training","Labour Market Information","Social Programs","Workplace Safety"]},{id:"healthcanada",name:"Health Canada",abbreviation:"HC",category:"Health",description:"Health regulation and public health services",mainPhone:"1-866-225-0709",email:"info@hc-sc.gc.ca",website:"https://www.canada.ca/en/health-canada.html",onlineServices:"MedEffect Canada, Health Product License Database",hours:"Monday-Friday 8:00 AM - 6:00 PM",languages:["English","French"],waitTimes:"Average 15-20 minutes",keyServices:["Drug Approval","Food Safety","Medical Devices","Health Warnings","Clinical Trials","Product Recalls"]},{id:"cfia",name:"Canadian Food Inspection Agency",abbreviation:"CFIA",category:"Health",description:"Food safety and agricultural protection",mainPhone:"1-800-442-2342",email:"cfia.enquiries-demandes.acia@inspection.gc.ca",website:"https://www.inspection.gc.ca",onlineServices:"My CFIA Portal, Food Safety Complaints",hours:"Monday-Friday 8:00 AM - 4:00 PM",languages:["English","French"],waitTimes:"Average 10-15 minutes",keyServices:["Food Safety Inspections","Plant Health","Animal Health","Import/Export Certification","Food Recalls"]},{id:"statcan",name:"Statistics Canada",abbreviation:"StatCan",category:"Business",description:"National statistical information and census data",mainPhone:"1-800-263-1136",email:"infostats@statcan.gc.ca",website:"https://www.statcan.gc.ca",onlineServices:"Census Online, Data Tables, Economic Indicators",hours:"Monday-Friday 8:30 AM - 4:30 PM",languages:["English","French"],waitTimes:"Average 10-15 minutes",keyServices:["Census Data","Economic Statistics","Labour Force Survey","Business Statistics","Population Data"]},{id:"cers",name:"Canada Emergency Response Benefit",abbreviation:"CERB",category:"Emergency",description:"Emergency financial support programs",mainPhone:"1-800-959-2019",email:"cers-ssuc@cra-arc.gc.ca",website:"https://www.canada.ca/en/revenue-agency/services/benefits/emergency-response-benefit.html",onlineServices:"CRA My Account, Direct Deposit",hours:"Monday-Friday 9:00 AM - 5:00 PM",languages:["English","French"],waitTimes:"Average 30-40 minutes",keyServices:["Emergency Benefits","Wage Subsidies","Rent Relief","Student Benefits","Recovery Benefits"]},{id:"innovation",name:"Innovation, Science and Economic Development Canada",abbreviation:"ISED",category:"Business",description:"Business development and innovation support",mainPhone:"1-800-328-6189",email:"ic.contact-contact.ic@canada.ca",website:"https://www.ic.gc.ca",onlineServices:"Business Registration, Corporations Canada Online",hours:"Monday-Friday 8:00 AM - 5:00 PM",languages:["English","French"],waitTimes:"Average 15-20 minutes",keyServices:["Business Registration","Patent Services","Trademark Registration","Corporate Services","Innovation Programs"]},{id:"passport",name:"Passport Canada",abbreviation:"PC",category:"Immigration",description:"Canadian passport services and travel documents",mainPhone:"1-800-567-6868",email:"passport@passportcanada.gc.ca",website:"https://www.canada.ca/en/immigration-refugees-citizenship/services/canadian-passports.html",onlineServices:"Online passport application, Status checking",hours:"Monday-Friday 8:30 AM - 4:30 PM",languages:["English","French"],waitTimes:"Average 20-30 minutes",urgentLine:"1-800-567-6868",keyServices:["Passport Applications","Passport Renewal","Travel Documents","Emergency Passports","Certificate of Identity"]}].filter(_=>{const U=_.name.toLowerCase().includes(s.toLowerCase())||_.abbreviation.toLowerCase().includes(s.toLowerCase())||_.keyServices.some(q=>q.toLowerCase().includes(s.toLowerCase())),L=o==="all"||_.category===o;return U&&L}),A=j.filter(_=>{var R;const U=_.name.toLowerCase().includes(s.toLowerCase())||_.position.toLowerCase().includes(s.toLowerCase())||((R=_.constituency)==null?void 0:R.toLowerCase().includes(s.toLowerCase())),L=a==="all"||_.level===a,q=i==="all"||_.jurisdiction===i,H=l==="all"||_.party===l;return U&&L&&q&&H}),C=_=>{if(!_)return"bg-gray-500";switch(_.toLowerCase()){case"liberal":return"bg-liberal-red";case"conservative":return"bg-conservative-blue";case"ndp":case"new democratic":return"bg-ndp-orange";case"bloc qubcois":case"bloc quebecois":return"bg-bloc-cyan";case"green":return"bg-green-party";default:return"bg-civic-gray"}},O=_=>{switch(_){case"Tax":return jt;case"Employment":return us;case"Health":return Na;case"Social":return de;case"Immigration":return Lt;case"Veterans":return X;case"Transportation":return Lv;case"Emergency":return Bs;case"Legal":return ce;case"Business":return us;default:return us}},M=({service:_})=>{const U=O(_.category);return e.jsxs(b,{className:"glass-card fade-in-up hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>p(_),children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg bg-civic-blue/10",children:e.jsx(U,{className:"h-5 w-5 civic-blue"})}),e.jsxs("div",{children:[e.jsx(T,{className:"text-lg font-semibold civic-blue",children:_.name}),e.jsx("p",{className:"text-sm font-medium civic-green",children:_.abbreviation})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:_.description})]}),e.jsx(k,{variant:"outline",className:"text-xs",children:_.category})]})}),e.jsx(N,{className:"pt-0",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Bs,{className:"h-4 w-4 civic-green"}),e.jsx("span",{className:"font-mono",children:_.mainPhone})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Nt,{className:"h-4 w-4 civic-blue"}),e.jsx("span",{className:"truncate",children:_.email})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Lt,{className:"h-4 w-4 civic-purple"}),e.jsx("span",{className:"truncate",children:_.website})]}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(tt,{className:"h-4 w-4 civic-orange"}),e.jsx("span",{className:"text-xs",children:_.hours})]})]})})]})},I=({contact:_})=>e.jsxs(b,{className:"glass-card fade-in-up hover:shadow-lg transition-all duration-300 cursor-pointer",onClick:()=>u(_),children:[e.jsx(P,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-lg font-semibold civic-blue",children:_.name}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:_.position}),_.constituency&&e.jsx("p",{className:"text-sm civic-green mt-1",children:_.constituency})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(k,{className:`${C(_.party)} text-white`,children:_.party||"Independent"}),e.jsx(k,{variant:"outline",className:"text-xs",children:_.level})]})]})}),e.jsx(N,{className:"pt-0",children:e.jsxs("div",{className:"space-y-2",children:[_.primaryPhone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Bs,{className:"h-4 w-4 civic-green"}),e.jsx("span",{className:"font-mono",children:_.primaryPhone})]}),_.primaryEmail&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Nt,{className:"h-4 w-4 civic-blue"}),e.jsx("span",{className:"truncate",children:_.primaryEmail})]}),_.primaryOffice&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ze,{className:"h-4 w-4 civic-red"}),e.jsx("span",{className:"truncate",children:_.primaryOffice})]})]})})]});return g?e.jsx("div",{className:"container mx-auto p-6 space-y-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-muted rounded w-1/3"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[...Array(6)].map((_,U)=>e.jsx("div",{className:"h-48 bg-muted rounded"},U))})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-civic-blue/5 via-white to-civic-green/5",children:[e.jsx("header",{className:"glass-card border-b border-civic-blue/20 sticky top-0 z-50",children:e.jsx("div",{className:"container mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(St,{href:"/",className:"flex items-center gap-2 text-civic-blue hover:text-civic-green transition-colors",children:[e.jsx(Mv,{className:"h-5 w-5"}),e.jsx("span",{className:"font-medium",children:"Back to Dashboard"})]}),e.jsx("div",{className:"w-px h-6 bg-civic-blue/20"}),e.jsx("h1",{className:"text-xl font-bold civic-blue",children:"Government Directory"})]}),e.jsx("div",{className:"flex items-center gap-4",children:e.jsxs(k,{variant:"outline",className:"civic-green",children:[v.length+A.length," Results"]})})]})})}),e.jsx("div",{className:"container mx-auto p-6 space-y-6",children:!h&&!m?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h2",{className:"text-2xl font-bold civic-blue mb-2",children:"Complete Government Access"}),e.jsx("p",{className:"text-muted-foreground mb-4",children:"Comprehensive directory of government services and elected officials with verified contact information"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:e.jsx(te,{placeholder:"Search services and contacts...",value:s,onChange:_=>t(_.target.value),className:"bg-white/90"})})]}),e.jsxs(Ie,{defaultValue:"services",className:"space-y-6",children:[e.jsxs(Se,{className:"grid w-full grid-cols-2 bg-white/90",children:[e.jsx(V,{value:"services",className:"data-[state=active]:bg-civic-blue data-[state=active]:text-white",children:"Government Services"}),e.jsx(V,{value:"politicians",className:"data-[state=active]:bg-civic-blue data-[state=active]:text-white",children:"Elected Officials"})]}),e.jsx($,{value:"services",className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-4",children:[e.jsx("div",{className:"flex flex-wrap gap-3 mb-4",children:e.jsxs(ge,{value:o,onValueChange:d,children:[e.jsx(xe,{className:"w-48 bg-white/90",children:e.jsx(ve,{placeholder:"Filter by category"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Categories"}),e.jsx(D,{value:"Tax",children:"Tax Services"}),e.jsx(D,{value:"Employment",children:"Employment"}),e.jsx(D,{value:"Health",children:"Health"}),e.jsx(D,{value:"Social",children:"Social Services"}),e.jsx(D,{value:"Immigration",children:"Immigration"}),e.jsx(D,{value:"Veterans",children:"Veterans"}),e.jsx(D,{value:"Transportation",children:"Transportation"}),e.jsx(D,{value:"Emergency",children:"Emergency"}),e.jsx(D,{value:"Legal",children:"Legal"}),e.jsx(D,{value:"Business",children:"Business"})]})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(_=>e.jsx(M,{service:_},_.id))}),v.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(us,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No services found matching your criteria"})]})]})}),e.jsx($,{value:"politicians",className:"space-y-6",children:e.jsxs("div",{className:"glass-card p-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-3 mb-4",children:[e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-48 bg-white/90",children:e.jsx(ve,{placeholder:"Filter by level"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Levels"}),e.jsx(D,{value:"Federal",children:"Federal"}),e.jsx(D,{value:"Provincial",children:"Provincial"}),e.jsx(D,{value:"Municipal",children:"Municipal"})]})]}),e.jsxs(ge,{value:i,onValueChange:n,children:[e.jsx(xe,{className:"w-48 bg-white/90",children:e.jsx(ve,{placeholder:"Filter by jurisdiction"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Jurisdictions"}),f.map(_=>e.jsx(D,{value:_,children:_},_))]})]}),e.jsxs(ge,{value:l,onValueChange:c,children:[e.jsx(xe,{className:"w-48 bg-white/90",children:e.jsx(ve,{placeholder:"Filter by party"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Parties"}),w.map(_=>e.jsx(D,{value:_,children:_},_))]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:A.map(_=>e.jsx(I,{contact:_},_.id))}),A.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(Sn,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"No contacts found matching your criteria"})]})]})})]})]}):m?e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{variant:"ghost",onClick:()=>p(null),className:"mb-4",children:" Back to Services"}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h1",{className:"text-3xl font-bold civic-blue",children:m.name}),e.jsx("p",{className:"text-xl font-semibold civic-green mt-1",children:m.abbreviation}),e.jsx("p",{className:"text-muted-foreground mt-2",children:m.description})]})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsx(E,{variant:"ghost",onClick:()=>u(null),className:"mb-4",children:" Back to Contacts"}),e.jsxs("div",{className:"glass-card p-6",children:[e.jsx("h1",{className:"text-3xl font-bold civic-blue",children:h.name}),e.jsx("p",{className:"text-xl text-muted-foreground mt-1",children:h.position})]})]})})]})}function OS(){var r,i,n,l;const{user:s}=Rt(),t=s,{data:a}=Q({queryKey:["/api/user/stats"]});return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:e.jsxs("div",{className:"grid gap-6 md:grid-cols-3",children:[e.jsxs(b,{className:"md:col-span-1",children:[e.jsxs(P,{className:"text-center",children:[e.jsx("div",{className:"mx-auto mb-4",children:t!=null&&t.profileImageUrl?e.jsx("img",{src:t.profileImageUrl,alt:"Profile",className:"h-24 w-24 rounded-full object-cover border-4 border-civic-blue"}):e.jsx("div",{className:"h-24 w-24 rounded-full bg-civic-blue text-white flex items-center justify-center text-2xl font-bold",children:(((r=t==null?void 0:t.firstName)==null?void 0:r[0])||((i=t==null?void 0:t.email)==null?void 0:i[0])||"U").toUpperCase()})}),e.jsx(T,{className:"text-xl",children:t!=null&&t.firstName&&(t!=null&&t.lastName)?`${t.firstName} ${t.lastName}`:((n=t==null?void 0:t.email)==null?void 0:n.split("@")[0])||"User"}),e.jsx(G,{children:t==null?void 0:t.email})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Trust Score"}),e.jsxs(k,{variant:"secondary",children:[(a==null?void 0:a.trustScore)||"100.00","%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Civic Level"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Yv,{className:"h-4 w-4 text-amber-600"}),e.jsx("span",{className:"font-medium",children:(a==null?void 0:a.civicLevel)||1})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Civic Points"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(pi,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"font-medium",children:(a==null?void 0:a.civicPoints)||0})]})]})]})]}),e.jsxs(b,{className:"md:col-span-2",children:[e.jsxs(P,{children:[e.jsx(T,{children:"Civic Engagement"}),e.jsx(G,{children:"Your participation in democratic processes"})]}),e.jsx(N,{children:e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Votes Cast"})]}),e.jsx("span",{className:"font-medium",children:(a==null?void 0:a.voteCount)||0})]}),e.jsx(ft,{value:((a==null?void 0:a.voteCount)||0)*10,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ur,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Discussions"})]}),e.jsx("span",{className:"font-medium",children:(a==null?void 0:a.discussionCount)||0})]}),e.jsx(ft,{value:((a==null?void 0:a.discussionCount)||0)*5,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:"Petitions Signed"})]}),e.jsx("span",{className:"font-medium",children:(a==null?void 0:a.petitionCount)||0})]}),e.jsx(ft,{value:((a==null?void 0:a.petitionCount)||0)*15,className:"h-2"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-sm",children:"Representatives Contacted"})]}),e.jsx("span",{className:"font-medium",children:(a==null?void 0:a.contactCount)||0})]}),e.jsx(ft,{value:((a==null?void 0:a.contactCount)||0)*20,className:"h-2"})]})]})})]}),e.jsxs(b,{className:"md:col-span-3",children:[e.jsxs(P,{children:[e.jsx(T,{children:"Recent Activity"}),e.jsx(G,{children:"Your latest civic engagement activities"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:(((l=a==null?void 0:a.recentActivity)==null?void 0:l.length)||0)>0?((a==null?void 0:a.recentActivity)||[]).map((c,o)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"h-8 w-8 bg-civic-blue rounded-full flex items-center justify-center",children:e.jsx(Be,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:c.description}),e.jsx("p",{className:"text-sm text-gray-600",children:c.date})]})]},o)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(de,{className:"h-12 w-12 text-gray-400 mx-auto mb-3"}),e.jsx("p",{className:"text-gray-600",children:"Start engaging with civic activities to see your activity here!"})]})})})]})]})})})}var Vn="Switch",[FS,VP]=Ys(Vn),[VS,$S]=FS(Vn),Xp=x.forwardRef((s,t)=>{const{__scopeSwitch:a,name:r,checked:i,defaultChecked:n,required:l,disabled:c,value:o="on",onCheckedChange:d,form:h,...u}=s,[m,p]=x.useState(null),j=De(t,v=>p(v)),g=x.useRef(!1),f=m?h||!!m.closest("form"):!0,[w,y]=or({prop:i,defaultProp:n??!1,onChange:d,caller:Vn});return e.jsxs(VS,{scope:a,checked:w,disabled:c,children:[e.jsx(he.button,{type:"button",role:"switch","aria-checked":w,"aria-required":l,"data-state":sg(w),"data-disabled":c?"":void 0,disabled:c,value:o,...u,ref:j,onClick:se(s.onClick,v=>{y(A=>!A),f&&(g.current=v.isPropagationStopped(),g.current||v.stopPropagation())})}),f&&e.jsx(tg,{control:m,bubbles:!g.current,name:r,value:o,checked:w,required:l,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})});Xp.displayName=Vn;var Zp="SwitchThumb",eg=x.forwardRef((s,t)=>{const{__scopeSwitch:a,...r}=s,i=$S(Zp,a);return e.jsx(he.span,{"data-state":sg(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});eg.displayName=Zp;var US="SwitchBubbleInput",tg=x.forwardRef(({__scopeSwitch:s,control:t,checked:a,bubbles:r=!0,...i},n)=>{const l=x.useRef(null),c=De(l,n),o=Qo(a),d=Pu(t);return x.useEffect(()=>{const h=l.current;if(!h)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"checked").set;if(o!==a&&p){const j=new Event("click",{bubbles:r});p.call(h,a),h.dispatchEvent(j)}},[o,a,r]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...i,tabIndex:-1,ref:c,style:{...i.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});tg.displayName=US;function sg(s){return s?"checked":"unchecked"}var ag=Xp,BS=eg;const nt=x.forwardRef(({className:s,...t},a)=>e.jsx(ag,{className:W("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...t,ref:a,children:e.jsx(BS,{className:W("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));nt.displayName=ag.displayName;function qS(){var O;const{user:s}=Rt(),{toast:t}=dt(),[a,r]=x.useState({email:!0,push:!1,sms:!1,bills:!0,elections:!0,petitions:!1}),[i,n]=x.useState({publicProfile:!1,showVotes:!1,showLocation:!0}),[l,c]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[o,d]=x.useState(""),[h,u]=x.useState(!1),[m,p]=x.useState(null),[j,g]=x.useState(null),f=x.useRef(null),w=Ne({mutationFn:async M=>await(await ye("/api/auth/change-password","POST",M)).json(),onSuccess:()=>{c({currentPassword:"",newPassword:"",confirmPassword:""}),d(""),u(!0),t({title:"Password Changed",description:"Your password has been updated successfully"}),setTimeout(()=>u(!1),3e3)},onError:M=>{d(M.message||"Failed to change password"),u(!1)}}),y=M=>{if(M.preventDefault(),d(""),!l.currentPassword||!l.newPassword||!l.confirmPassword){d("All password fields are required");return}if(l.newPassword!==l.confirmPassword){d("New passwords do not match");return}if(l.newPassword.length<6){d("New password must be at least 6 characters");return}w.mutate({currentPassword:l.currentPassword,newPassword:l.newPassword})},v=Ne({mutationFn:async M=>{const I=new FormData;I.append("profilePicture",M);const _=await fetch("/api/auth/upload-profile-picture",{method:"POST",body:I});if(!_.ok)throw new Error("Failed to upload profile picture");return await _.json()},onSuccess:()=>{t({title:"Profile Picture Updated",description:"Your profile picture has been updated successfully"}),p(null),g(null),window.location.reload()},onError:M=>{t({title:"Upload Failed",description:M.message||"Failed to upload profile picture",variant:"destructive"})}}),A=M=>{var _;const I=(_=M.target.files)==null?void 0:_[0];if(I){if(I.size>5*1024*1024){t({title:"File Too Large",description:"Please select an image smaller than 5MB",variant:"destructive"});return}if(!I.type.startsWith("image/")){t({title:"Invalid File Type",description:"Please select an image file",variant:"destructive"});return}p(I);const U=new FileReader;U.onload=L=>{var q;g((q=L.target)==null?void 0:q.result)},U.readAsDataURL(I)}},C=()=>{m&&v.mutate(m)};return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-4xl mx-auto py-8 px-4",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),e.jsx("p",{className:"text-gray-600",children:"Manage your account preferences and privacy settings"})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Dv,{className:"h-5 w-5"}),e.jsx("span",{children:"Profile Picture"})]}),e.jsx(G,{children:"Update your profile picture"})]}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs(Ye,{className:"w-24 h-24",children:[e.jsx(Dt,{src:j||(s==null?void 0:s.profileImageUrl)}),e.jsx(Xe,{className:"text-2xl",children:((O=s==null?void 0:s.firstName)==null?void 0:O[0])||"U"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("input",{ref:f,type:"file",accept:"image/*",onChange:A,className:"hidden"}),e.jsxs(E,{onClick:()=>{var M;return(M=f.current)==null?void 0:M.click()},variant:"outline",className:"flex items-center space-x-2",children:[e.jsx(Zv,{className:"w-4 h-4"}),e.jsx("span",{children:"Choose New Picture"})]}),m&&e.jsx(E,{onClick:C,disabled:v.isPending,className:"w-full",children:v.isPending?"Uploading...":"Save Profile Picture"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Upload a JPG, PNG, or GIF. Max file size: 5MB"})]})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(X,{className:"h-5 w-5"}),e.jsx("span",{children:"Account Information"})]}),e.jsx(G,{children:"Update your personal information"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"firstName",children:"First Name"}),e.jsx(te,{id:"firstName",defaultValue:(s==null?void 0:s.firstName)||"",placeholder:"Enter your first name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"lastName",children:"Last Name"}),e.jsx(te,{id:"lastName",defaultValue:(s==null?void 0:s.lastName)||"",placeholder:"Enter your last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"email",children:"Email Address"}),e.jsx(te,{id:"email",type:"email",defaultValue:(s==null?void 0:s.email)||"",placeholder:"Enter your email"})]}),e.jsx(E,{children:"Save Changes"})]})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"h-5 w-5"}),e.jsx("span",{children:"Password Security"})]}),e.jsx(G,{children:"Change your account password"})]}),e.jsx(N,{children:e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[o&&e.jsx(ze,{variant:"destructive",children:e.jsx(He,{children:o})}),h&&e.jsxs(ze,{className:"border-green-200 bg-green-50 text-green-800",children:[e.jsx(wn,{className:"h-4 w-4"}),e.jsx(He,{children:"Password changed successfully!"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"currentPassword",children:"Current Password"}),e.jsx(te,{id:"currentPassword",type:"password",value:l.currentPassword,onChange:M=>c(I=>({...I,currentPassword:M.target.value})),placeholder:"Enter current password",disabled:w.isPending})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"newPassword",children:"New Password"}),e.jsx(te,{id:"newPassword",type:"password",value:l.newPassword,onChange:M=>c(I=>({...I,newPassword:M.target.value})),placeholder:"Enter new password (min 6 characters)",disabled:w.isPending})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"confirmPassword",children:"Confirm New Password"}),e.jsx(te,{id:"confirmPassword",type:"password",value:l.confirmPassword,onChange:M=>c(I=>({...I,confirmPassword:M.target.value})),placeholder:"Confirm new password",disabled:w.isPending})]}),e.jsx(E,{type:"submit",disabled:w.isPending,className:"bg-slate-800 hover:bg-slate-700",children:w.isPending?"Updating...":"Change Password"})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(dr,{className:"h-5 w-5"}),e.jsx("span",{children:"Notification Preferences"})]}),e.jsx(G,{children:"Choose how you want to be notified about civic activities"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Notification Methods"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nt,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:"Email notifications"})]}),e.jsx(nt,{checked:a.email,onCheckedChange:M=>r(I=>({...I,email:M}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(dr,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:"Push notifications"})]}),e.jsx(nt,{checked:a.push,onCheckedChange:M=>r(I=>({...I,push:M}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Mm,{className:"h-4 w-4 text-gray-500"}),e.jsx("span",{children:"SMS notifications"})]}),e.jsx(nt,{checked:a.sms,onCheckedChange:M=>r(I=>({...I,sms:M}))})]})]})]}),e.jsx(bs,{}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Content Notifications"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"New bills and legislation"}),e.jsx(nt,{checked:a.bills,onCheckedChange:M=>r(I=>({...I,bills:M}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Election updates"}),e.jsx(nt,{checked:a.elections,onCheckedChange:M=>r(I=>({...I,elections:M}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Petition milestones"}),e.jsx(nt,{checked:a.petitions,onCheckedChange:M=>r(I=>({...I,petitions:M}))})]})]})]})]})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"h-5 w-5"}),e.jsx("span",{children:"Privacy Settings"})]}),e.jsx(G,{children:"Control what information is visible to others"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Public Profile"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Allow others to see your civic engagement stats"})]}),e.jsx(nt,{checked:i.publicProfile,onCheckedChange:M=>n(I=>({...I,publicProfile:M}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Show Voting History"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Display your votes on bills and petitions"})]}),e.jsx(nt,{checked:i.showVotes,onCheckedChange:M=>n(I=>({...I,showVotes:M}))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium",children:"Location-based Features"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Show relevant local politicians and issues"})]}),e.jsx(nt,{checked:i.showLocation,onCheckedChange:M=>n(I=>({...I,showLocation:M}))})]})]})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Lt,{className:"h-5 w-5"}),e.jsx("span",{children:"Regional Preferences"})]}),e.jsx(G,{children:"Customize content for your location"})]}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"province",children:"Province/Territory"}),e.jsx(te,{id:"province",placeholder:"Select your province",defaultValue:"Ontario"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"riding",children:"Federal Riding"}),e.jsx(te,{id:"riding",placeholder:"Enter your riding"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(Re,{htmlFor:"municipality",children:"Municipality"}),e.jsx(te,{id:"municipality",placeholder:"Enter your city/town"})]})]})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{className:"text-red-600",children:"Account Actions"}),e.jsx(G,{children:"Manage your account status"})]}),e.jsx(N,{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-red-900",children:"Delete Account"}),e.jsx("p",{className:"text-sm text-red-700",children:"Permanently delete your account and all associated data"})]}),e.jsx(E,{variant:"destructive",size:"sm",children:"Delete Account"})]})})]})]})})})}function zS(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),i=[{id:1,title:"Phoenix Pay System Total Costs",department:"Treasury Board Secretariat",requestor:"Canadian Taxpayers Federation",dateSubmitted:"2023-06-15",dateResponded:"2023-08-14",status:"Completed",responseType:"Partial Release",pagesRequested:"All documents",pagesReleased:847,pagesWithheld:312,exemptionsUsed:["Cabinet confidence","Third party information"],totalCost:42e8,summary:"Request for all costs related to Phoenix pay system implementation and ongoing maintenance.",keyFindings:["Total project cost exceeded $4.2 billion as of 2023","Ongoing maintenance costs $185M annually","Over 300,000 employees still experiencing pay issues"],publicImpact:8.7,mediaAttention:"High"},{id:2,title:"Prime Minister's Travel Expenses 2022-2023",department:"Privy Council Office",requestor:"Democracy Watch",dateSubmitted:"2023-04-01",dateResponded:"2023-06-30",status:"Completed",responseType:"Full Release",pagesRequested:"Travel manifests and expenses",pagesReleased:234,pagesWithheld:0,exemptionsUsed:[],totalCost:875e4,summary:"Comprehensive breakdown of Prime Minister's official travel costs for fiscal year 2022-23.",keyFindings:["Total travel costs: $8.75 million","Average cost per international trip: $245,000","Security and advance team costs account for 60% of expenses"],publicImpact:6.2,mediaAttention:"Moderate"},{id:3,title:"COVID-19 Vaccine Contract Details",department:"Public Health Agency of Canada",requestor:"Globe and Mail",dateSubmitted:"2022-11-10",dateResponded:"2023-02-08",status:"Completed",responseType:"Heavily Redacted",pagesRequested:"All vaccine procurement contracts",pagesReleased:156,pagesWithheld:890,exemptionsUsed:["Commercial confidentiality","International relations"],totalCost:92e8,summary:"Details of COVID-19 vaccine procurement contracts with pharmaceutical companies.",keyFindings:["Canada paid premium prices for early vaccine access","Liability protections provided to manufacturers","Significant waste due to over-procurement"],publicImpact:7.9,mediaAttention:"High"},{id:4,title:"RCMP Surveillance Equipment Purchases",department:"Royal Canadian Mounted Police",requestor:"Privacy International",dateSubmitted:"2023-09-05",dateResponded:null,status:"Under Review",responseType:"Pending",pagesRequested:"Equipment procurement 2020-2023",pagesReleased:0,pagesWithheld:0,exemptionsUsed:[],totalCost:null,summary:"Request for details on surveillance technology acquisitions including facial recognition and cell tower simulators.",keyFindings:[],publicImpact:8.1,mediaAttention:"Moderate"}],n=d=>{switch(d){case"Completed":return"text-green-600 bg-green-50 border-green-200";case"Under Review":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Rejected":return"text-red-600 bg-red-50 border-red-200";case"Overdue":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},l=d=>{switch(d){case"Full Release":return"text-green-600 bg-green-50 border-green-200";case"Partial Release":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Heavily Redacted":return"text-orange-600 bg-orange-50 border-orange-200";case"Rejected":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},c=d=>d===null?"N/A":new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(d),o=d=>d?new Date(d).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"}):"Pending";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Freedom of Information Repository"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Comprehensive database of FOI requests and government transparency responses"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Public Access"]}),e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(ce,{className:"w-3 h-3 mr-1"}),i.length," Requests"]})]})]}),e.jsxs(Ie,{defaultValue:"requests",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"requests",children:"FOI Requests"}),e.jsx(V,{value:"analytics",children:"Transparency Metrics"}),e.jsx(V,{value:"submit",children:"Submit Request"})]}),e.jsxs($,{value:"requests",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(te,{placeholder:"Search FOI requests, departments, or topics...",value:s,onChange:d=>t(d.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{placeholder:"Filter by status"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Statuses"}),e.jsx(D,{value:"Completed",children:"Completed"}),e.jsx(D,{value:"Under Review",children:"Under Review"}),e.jsx(D,{value:"Rejected",children:"Rejected"}),e.jsx(D,{value:"Overdue",children:"Overdue"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:i.map(d=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:d.title}),e.jsxs(G,{className:"mt-1",children:[d.department,"  Requested by ",d.requestor]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[e.jsxs(k,{className:n(d.status),children:[d.status==="Completed"&&e.jsx(z,{className:"w-3 h-3 mr-1"}),d.status==="Under Review"&&e.jsx(tt,{className:"w-3 h-3 mr-1"}),d.status==="Rejected"&&e.jsx(hs,{className:"w-3 h-3 mr-1"}),d.status]}),d.responseType!=="Pending"&&e.jsx(k,{className:l(d.responseType),children:d.responseType}),e.jsxs(k,{variant:"outline",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"}),o(d.dateSubmitted)]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-primary",children:d.totalCost?c(d.totalCost):"TBD"}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Cost Revealed"})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Request Summary"}),e.jsx("p",{className:"text-sm",children:d.summary})]}),d.status==="Completed"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pages Released"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.pagesReleased})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Pages Withheld"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d.pagesWithheld})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Response Time"}),e.jsxs("div",{className:"text-sm",children:[Math.ceil((new Date(d.dateResponded).getTime()-new Date(d.dateSubmitted).getTime())/(1e3*60*60*24))," days"]})]})]}),d.exemptionsUsed.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Exemptions Applied"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.exemptionsUsed.map((h,u)=>e.jsxs(k,{variant:"secondary",className:"text-xs",children:[e.jsx(ts,{className:"w-3 h-3 mr-1"}),h]},u))})]}),d.keyFindings.length>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Key Findings"}),e.jsx("ul",{className:"text-sm space-y-1",children:d.keyFindings.map((h,u)=>e.jsxs("li",{className:"text-muted-foreground",children:[" ",h]},u))})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Date Submitted"}),e.jsx("div",{className:"text-sm",children:o(d.dateSubmitted)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Response Date"}),e.jsx("div",{className:"text-sm",children:o(d.dateResponded)})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Public Impact: ",d.publicImpact,"/10  ",d.mediaAttention," Media Coverage"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[d.status==="Completed"&&e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Fo,{className:"w-3 h-3 mr-2"}),"Download Response"]}),e.jsx(E,{variant:"outline",size:"sm",children:"View Details"})]})]})]})]},d.id))})]}),e.jsx($,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ce,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Total Requests"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"12,847"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"FOI requests tracked"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Completion Rate"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"73%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Requests completed on time"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(tt,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{children:"Avg Response Time"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"67"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Days (legal limit: 30)"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ts,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{children:"Exemption Rate"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"34%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Requests with exemptions"})]})]})]})}),e.jsx($,{value:"submit",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Submit FOI Request"}),e.jsx(G,{children:"File a Freedom of Information request with any federal department"})]}),e.jsx(N,{children:e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(ce,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"FOI Request Portal"}),e.jsx("p",{className:"text-sm mb-4",children:"Access government information through official channels"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:" Free for most requests"}),e.jsx("p",{children:" 30-day response requirement"}),e.jsx("p",{children:" Appeal process available"})]}),e.jsxs(E,{className:"mt-6",variant:"default",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"Start FOI Request"]})]})})]})})]})]})}function HS(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),i=[{id:1,title:"Phoenix Pay System Internal Documents",category:"Government Failures",dateLeaked:"2023-08-15",source:"Public Service Alliance of Canada",verification:"Verified",severity:"High",description:"Internal government communications revealing extent of Phoenix pay system failures and deliberate concealment of issues from Parliament.",keyFindings:["Senior officials knew of system failures 6 months before launch","Cost overruns hidden from Treasury Board","Employee hardship deliberately downplayed in public statements"],documentsCount:247,publicImpact:8.5,mediaAttention:"Extensive",governmentResponse:"Denied initially, later acknowledged some issues",legalStatus:"Under investigation by Auditor General"},{id:2,title:"SNC-Lavalin Pressure Campaign Documents",category:"Political Interference",dateLeaked:"2019-02-07",source:"Globe and Mail Investigation",verification:"Verified",severity:"Critical",description:"Communications showing PMO pressure on Attorney General regarding prosecution of SNC-Lavalin.",keyFindings:["Multiple meetings between PMO and AG office","Threats of electoral consequences for Quebec","Attempts to circumvent prosecutorial independence"],documentsCount:89,publicImpact:9.2,mediaAttention:"National scandal",governmentResponse:"PM denied wrongdoing, AG resigned",legalStatus:"Ethics Commissioner investigation completed"},{id:3,title:"RCMP Surveillance Program Expansion",category:"Civil Liberties",dateLeaked:"2023-11-22",source:"Whistleblower via CBC",verification:"Partially Verified",severity:"High",description:"Documents revealing expanded domestic surveillance capabilities without parliamentary oversight.",keyFindings:["Mass data collection from telecom providers","Monitoring of environmental and Indigenous activists","Sharing intelligence with foreign agencies"],documentsCount:156,publicImpact:7.8,mediaAttention:"Moderate",governmentResponse:"Claims operations are lawful",legalStatus:"Privacy Commissioner reviewing"},{id:4,title:"ArriveCAN App Development Contracts",category:"Procurement Fraud",dateLeaked:"2022-12-03",source:"Parliamentary Committee Testimony",verification:"Verified",severity:"High",description:"Evidence of inflated contracts and kickbacks in COVID-19 app development.",keyFindings:["Contracts worth $54M for simple app functionality","No-bid contracts to connected companies","False testimony to parliamentary committees"],documentsCount:312,publicImpact:8.1,mediaAttention:"High",governmentResponse:"Launched internal investigation",legalStatus:"RCMP investigating fraud allegations"}],n=o=>{switch(o){case"Critical":return"text-red-600 bg-red-50 border-red-200";case"High":return"text-orange-600 bg-orange-50 border-orange-200";case"Medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},l=o=>{switch(o){case"Verified":return"text-green-600 bg-green-50 border-green-200";case"Partially Verified":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Unverified":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},c=o=>new Date(o).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Government Leak Archive"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Secure repository of verified government documents and transparency disclosures"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Secure Access"]}),e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Ga,{className:"w-3 h-3 mr-1"}),i.length," Documents"]})]})]}),e.jsxs(Ie,{defaultValue:"archive",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"archive",children:"Document Archive"}),e.jsx(V,{value:"analysis",children:"Impact Analysis"}),e.jsx(V,{value:"submit",children:"Submit Leak"})]}),e.jsxs($,{value:"archive",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Ga,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(te,{placeholder:"Search documents, categories, or findings...",value:s,onChange:o=>t(o.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-64",children:e.jsx(ve,{placeholder:"Filter by category"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Categories"}),e.jsx(D,{value:"Government Failures",children:"Government Failures"}),e.jsx(D,{value:"Political Interference",children:"Political Interference"}),e.jsx(D,{value:"Civil Liberties",children:"Civil Liberties"}),e.jsx(D,{value:"Procurement Fraud",children:"Procurement Fraud"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:i.map(o=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow border-l-4 border-l-blue-500",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:o.title}),e.jsxs(G,{className:"mt-1",children:[o.source,"  ",c(o.dateLeaked)]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[e.jsxs(k,{className:n(o.severity),children:[o.severity," Impact"]}),e.jsxs(k,{className:l(o.verification),children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),o.verification]}),e.jsx(k,{variant:"outline",children:o.category}),e.jsxs(k,{variant:"outline",children:[e.jsx(Ge,{className:"w-3 h-3 mr-1"}),o.documentsCount," docs"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[o.publicImpact,"/10"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Impact Score"})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Summary"}),e.jsx("p",{className:"text-sm",children:o.description})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Key Findings"}),e.jsx("ul",{className:"text-sm space-y-1",children:o.keyFindings.map((d,h)=>e.jsxs("li",{className:"text-muted-foreground flex items-start",children:[e.jsx(ae,{className:"w-3 h-3 mr-2 mt-1 text-orange-500 flex-shrink-0"}),d]},h))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Government Response"}),e.jsx("div",{className:"text-sm",children:o.governmentResponse})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Legal Status"}),e.jsx("div",{className:"text-sm",children:o.legalStatus})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Media Coverage"}),e.jsx("div",{className:"text-sm",children:o.mediaAttention})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ot,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Secure  Verified  Protected Source"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Ce,{className:"w-3 h-3 mr-2"}),"View Details"]}),e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Fo,{className:"w-3 h-3 mr-2"}),"Download"]})]})]})]})]},o.id))})]}),e.jsx($,{value:"analysis",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Ga,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Total Leaks"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"847"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Documents in secure archive"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{children:"Critical Issues"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"23"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"High-impact government failures"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(X,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Verified Sources"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"156"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Protected whistleblowers"})]})]})]})}),e.jsx($,{value:"submit",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Secure Document Submission"}),e.jsx(G,{children:"Submit government documents securely with full source protection"})]}),e.jsx(N,{children:e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(X,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Secure Submission Portal"}),e.jsx("p",{className:"text-sm mb-4",children:"End-to-end encrypted document submission with source protection"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:" Anonymous TOR routing"}),e.jsx("p",{children:" Military-grade encryption"}),e.jsx("p",{children:" Legal protection guaranteed"})]}),e.jsxs(E,{className:"mt-6",variant:"default",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Access Secure Portal"]})]})})]})})]})]})}function WS(){const[s,t]=x.useState(""),a=[{id:1,title:"Public Servants Disclosure Protection Act",jurisdiction:"Federal",year:2007,coverage:"Federal public servants",protections:["Protection from reprisal for disclosing wrongdoing","Anonymous disclosure options","Investigation by Public Sector Integrity Commissioner","Remedial measures for victims of reprisal"],limitations:["Limited to federal public service","No monetary compensation for damages","Complex investigation process"],recentCases:12,successRate:23},{id:2,title:"Criminal Code Whistleblower Protections",jurisdiction:"Federal",year:2004,coverage:"Corporate employees reporting securities violations",protections:["Protection from employer retaliation","Criminal penalties for retaliation","Job reinstatement rights"],limitations:["Limited to securities and financial crimes","Must report to designated authorities","High burden of proof"],recentCases:8,successRate:45},{id:3,title:"Ontario Public Service Act",jurisdiction:"Ontario",year:2006,coverage:"Ontario public servants",protections:["Protection from disciplinary action","Anonymous reporting mechanisms","Investigation by Integrity Commissioner","Workplace restoration measures"],limitations:["Provincial jurisdiction only","Limited remedial powers","No financial compensation"],recentCases:34,successRate:31}],r=[{id:1,name:"Public Sector Integrity Commissioner",type:"Federal Agency",jurisdiction:"Federal Government",contact:{phone:"1-866-941-6400",email:"info@psic-ispc.gc.ca",website:"psic-ispc.gc.ca",address:"60 East Block, Parliament Hill"},mandate:"Investigate wrongdoing in federal public sector",anonymousReporting:!0,languages:["English","French"],responseTime:"30 days initial assessment"},{id:2,name:"RCMP National Security Information Network",type:"Law Enforcement",jurisdiction:"National",contact:{phone:"1-800-420-5805",email:"nsin-rnsn@rcmp-grc.gc.ca",website:"rcmp-grc.gc.ca",address:"RCMP National Headquarters"},mandate:"National security and criminal matters",anonymousReporting:!0,languages:["English","French"],responseTime:"Immediate for urgent matters"},{id:3,name:"Ethics Commissioner (Parliament)",type:"Parliamentary Officer",jurisdiction:"Parliament",contact:{phone:"613-995-0721",email:"cse-cce@parl.gc.ca",website:"cse-cce.parl.gc.ca",address:"Centre Block, Parliament Hill"},mandate:"MP and Minister conflict of interest",anonymousReporting:!1,languages:["English","French"],responseTime:"60 days for investigations"}],i=[{title:"Digital Security",icon:X,measures:["Use Tor browser for anonymous browsing","Communicate through encrypted messaging apps","Use VPN services to hide location","Create anonymous email accounts"]},{title:"Document Protection",icon:ce,measures:["Make copies of all evidence before reporting","Store documents in secure, encrypted locations","Don't access sensitive files from work computers","Use personal devices for whistleblowing activities"]},{title:"Legal Preparation",icon:de,measures:["Consult with employment lawyer before proceeding","Understand your organization's internal policies","Document any retaliation attempts","Keep detailed records of all communications"]},{title:"Personal Safety",icon:ae,measures:["Inform trusted family members of your situation","Maintain normal work routines initially","Avoid discussing plans with colleagues","Consider timing of disclosure carefully"]}],n=l=>l<30?{color:"text-red-600",label:"Low"}:l<60?{color:"text-yellow-600",label:"Moderate"}:{color:"text-green-600",label:"High"};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Whistleblower Protection Portal"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Secure reporting channels and legal protections for exposing government wrongdoing"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(k,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),"Protected Disclosure"]}),e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(X,{className:"w-3 h-3 mr-1"}),"Legal Protection"]})]})]}),e.jsxs(Ie,{defaultValue:"protections",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4",children:[e.jsx(V,{value:"protections",children:"Legal Protections"}),e.jsx(V,{value:"reporting",children:"Reporting Channels"}),e.jsx(V,{value:"security",children:"Security Guide"}),e.jsx(V,{value:"submit",children:"Secure Submission"})]}),e.jsx($,{value:"protections",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:a.map(l=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:l.title}),e.jsxs(G,{className:"mt-1",children:[l.jurisdiction,"  Enacted ",l.year,"  Covers: ",l.coverage]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:`text-2xl font-bold ${n(l.successRate).color}`,children:[l.successRate,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Success Rate"})]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Legal Protections"}),e.jsx("ul",{className:"text-sm space-y-1",children:l.protections.map((c,o)=>e.jsxs("li",{className:"text-muted-foreground flex items-start",children:[e.jsx(X,{className:"w-3 h-3 mr-2 mt-1 text-green-500 flex-shrink-0"}),c]},o))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Limitations"}),e.jsx("ul",{className:"text-sm space-y-1",children:l.limitations.map((c,o)=>e.jsxs("li",{className:"text-muted-foreground flex items-start",children:[e.jsx(ae,{className:"w-3 h-3 mr-2 mt-1 text-yellow-500 flex-shrink-0"}),c]},o))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Recent Cases"}),e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l.recentCases})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Protection Effectiveness"}),e.jsx("div",{className:`text-sm font-medium ${n(l.successRate).color}`,children:n(l.successRate).label})]})]})]})})]},l.id))})}),e.jsx($,{value:"reporting",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:r.map(l=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:l.name}),e.jsxs(G,{className:"mt-1",children:[l.type,"  ",l.jurisdiction]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[e.jsx(k,{variant:l.anonymousReporting?"default":"secondary",children:l.anonymousReporting?e.jsxs(e.Fragment,{children:[e.jsx(Ot,{className:"w-3 h-3 mr-1"}),"Anonymous Reporting"]}):"Identity Required"}),e.jsxs(k,{variant:"outline",children:["Response: ",l.responseTime]})]})]})})}),e.jsxs(N,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Mandate"}),e.jsx("p",{className:"text-sm",children:l.mandate})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Bs,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:l.contact.phone})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Nt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:l.contact.email})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm",children:[e.jsx(Lt,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{children:l.contact.website})]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:l.contact.address})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Languages"}),e.jsx("div",{className:"flex space-x-1",children:l.languages.map((c,o)=>e.jsx(k,{variant:"secondary",className:"text-xs",children:c},o))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Anonymous Reporting"}),e.jsx("div",{className:"text-sm",children:l.anonymousReporting?"Available":"Not Available"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Official Government Channel"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(E,{variant:"outline",size:"sm",children:"Visit Website"}),e.jsx(E,{variant:"outline",size:"sm",children:"Contact Info"})]})]})]})]},l.id))})}),e.jsxs($,{value:"security",className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map((l,c)=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(l.icon,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:l.title})]})}),e.jsx(N,{children:e.jsx("ul",{className:"space-y-2",children:l.measures.map((o,d)=>e.jsxs("li",{className:"text-sm flex items-start",children:[e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full mt-2 mr-3 flex-shrink-0"}),o]},d))})})]},c))}),e.jsxs(b,{className:"border-yellow-200 bg-yellow-50",children:[e.jsx(P,{children:e.jsxs(T,{className:"text-yellow-800 flex items-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5"}),e.jsx("span",{children:"Important Security Warning"})]})}),e.jsx(N,{children:e.jsxs("div",{className:"text-yellow-800 space-y-2 text-sm",children:[e.jsx("p",{children:" Never use your work computer or network to research whistleblowing"}),e.jsx("p",{children:" Assume all workplace communications are monitored"}),e.jsx("p",{children:" Consider consulting a lawyer before making any disclosure"}),e.jsx("p",{children:" Document everything but store evidence securely"}),e.jsx("p",{children:" Be prepared for potential retaliation despite legal protections"})]})})]})]}),e.jsx($,{value:"submit",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Secure Anonymous Submission"}),e.jsx(G,{children:"Submit evidence of government wrongdoing through encrypted channels"})]}),e.jsx(N,{children:e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Ot,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{className:"text-lg font-medium mb-2",children:"Maximum Security Portal"}),e.jsx("p",{className:"text-sm mb-4",children:"End-to-end encrypted submission with complete anonymity"}),e.jsxs("div",{className:"space-y-2 text-sm",children:[e.jsx("p",{children:" Zero-knowledge encryption"}),e.jsx("p",{children:" No IP logging or tracking"}),e.jsx("p",{children:" Self-destructing messages"}),e.jsx("p",{children:" Legal protection coordination"})]}),e.jsxs("div",{className:"flex space-x-4 justify-center mt-6",children:[e.jsxs(E,{variant:"default",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Secure Upload"]}),e.jsxs(E,{variant:"outline",children:[e.jsx(Ot,{className:"w-4 h-4 mr-2"}),"Anonymous Chat"]})]})]})})]})})]})]})}function KS(){const[s,t]=x.useState(""),[a,r]=x.useState("all"),i=[{id:1,patternName:"Procurement Kickback Schemes",category:"Contract Fraud",frequency:"High",riskLevel:"Critical",description:"Companies inflate contract prices and share profits with government officials who award the contracts.",commonIndicators:["Sole-source contracts without justification","Unusually high contract values for simple services","Frequent contract amendments increasing value","Same companies winning multiple contracts","Officials with unexplained wealth"],recentCases:[{name:"ArriveCAN App Scandal",amount:54e6,year:2022,status:"Under Investigation"},{name:"Federal IT Services Contracts",amount:25e6,year:2023,status:"Charges Laid"}],preventionMeasures:["Mandatory competitive bidding for contracts over $25,000","Independent oversight of procurement processes","Public disclosure of all contract details","Regular audits of contractor performance"],estimatedLoss:25e7},{id:2,patternName:"Regulatory Capture",category:"Influence Peddling",frequency:"Medium",riskLevel:"High",description:"Industries gain excessive influence over government agencies that regulate them, leading to policies favoring industry over public interest.",commonIndicators:["Revolving door between industry and regulators","Weak enforcement of existing regulations","Industry-friendly policy changes","Limited public consultation on new rules","Regulators with financial ties to regulated industries"],recentCases:[{name:"Telecommunications Regulation Conflicts",amount:5e8,year:2021,status:"Policy Review"},{name:"Pipeline Approval Process Issues",amount:75e7,year:2020,status:"Court Challenge"}],preventionMeasures:["Cooling-off periods for regulators joining industry","Transparent conflict of interest declarations","Independent oversight of regulatory decisions","Enhanced public participation in rule-making"],estimatedLoss:12e8},{id:3,patternName:"Political Expense Fraud",category:"Misuse of Public Funds",frequency:"Medium",riskLevel:"High",description:"Politicians and political parties misuse public funds for personal or partisan purposes through fraudulent expense claims.",commonIndicators:["Vague or missing receipts for large expenses","Personal items claimed as business expenses","Family members on government payroll without clear duties","Unusual travel patterns or destinations","Office expenses for non-office activities"],recentCases:[{name:"Senate Expense Scandal",amount:977e3,year:2019,status:"Concluded"},{name:"MP Housing Allowance Misuse",amount:38e4,year:2023,status:"Under Review"}],preventionMeasures:["Real-time expense monitoring systems","Independent review of all claims over $1,000","Public disclosure of all political expenses","Clear guidelines on allowable expenses"],estimatedLoss:15e6},{id:4,patternName:"Grant and Subsidy Manipulation",category:"Program Abuse",frequency:"High",riskLevel:"High",description:"Government grants and subsidies directed to politically connected organizations or businesses without proper oversight.",commonIndicators:["Grants to organizations with political connections","Weak application review processes","Lack of performance monitoring","Repeated funding to same organizations","Grants that don't meet program objectives"],recentCases:[{name:"WE Charity Controversy",amount:912e6,year:2020,status:"Program Cancelled"},{name:"Green Technology Fund Misuse",amount:156e6,year:2022,status:"Under Investigation"}],preventionMeasures:["Independent review panels for large grants","Public database of all grant recipients","Regular audits of grant program outcomes","Clear conflict of interest guidelines"],estimatedLoss:18e8}],n=d=>{switch(d){case"Critical":return"text-red-600 bg-red-50 border-red-200";case"High":return"text-orange-600 bg-orange-50 border-orange-200";case"Medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},l=d=>{switch(d){case"High":return"text-red-600";case"Medium":return"text-yellow-600";case"Low":return"text-green-600";default:return"text-gray-600"}},c=d=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(d),o=i.reduce((d,h)=>d+h.estimatedLoss,0);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Corruption Pattern Analysis"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Systematic analysis of government corruption patterns, indicators, and prevention strategies"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(k,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[e.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Pattern Detection"]}),e.jsxs(k,{variant:"outline",className:"bg-orange-50 text-orange-700 border-orange-200",children:[e.jsx(ei,{className:"w-3 h-3 mr-1"}),c(o)," Lost"]})]})]}),e.jsxs(Ie,{defaultValue:"patterns",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-3",children:[e.jsx(V,{value:"patterns",children:"Corruption Patterns"}),e.jsx(V,{value:"indicators",children:"Warning Indicators"}),e.jsx(V,{value:"prevention",children:"Prevention Strategies"})]}),e.jsxs($,{value:"patterns",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(ct,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(te,{placeholder:"Search corruption patterns, cases, or indicators...",value:s,onChange:d=>t(d.target.value),className:"pl-10"})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{placeholder:"Filter by pattern"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Patterns"}),e.jsx(D,{value:"Contract Fraud",children:"Contract Fraud"}),e.jsx(D,{value:"Influence Peddling",children:"Influence Peddling"}),e.jsx(D,{value:"Misuse of Public Funds",children:"Misuse of Public Funds"}),e.jsx(D,{value:"Program Abuse",children:"Program Abuse"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:i.map(d=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow border-l-4 border-l-red-500",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-xl",children:d.patternName}),e.jsxs(G,{className:"mt-1",children:[d.category,"  ",d.description]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[e.jsxs(k,{className:n(d.riskLevel),children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),d.riskLevel," Risk"]}),e.jsxs(k,{variant:"outline",className:l(d.frequency),children:["Frequency: ",d.frequency]}),e.jsxs(k,{variant:"outline",children:[d.recentCases.length," Recent Cases"]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:c(d.estimatedLoss)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Estimated Annual Loss"})]})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Common Indicators"}),e.jsx("ul",{className:"text-sm space-y-1",children:d.commonIndicators.map((h,u)=>e.jsxs("li",{className:"text-muted-foreground flex items-start",children:[e.jsx(Ce,{className:"w-3 h-3 mr-2 mt-1 text-orange-500 flex-shrink-0"}),h]},u))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Recent Cases"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.recentCases.map((h,u)=>e.jsxs("div",{className:"bg-muted/50 p-3 rounded",children:[e.jsx("div",{className:"font-medium text-sm",children:h.name}),e.jsxs("div",{className:"text-xs text-muted-foreground mb-1",children:[h.year,"  ",h.status]}),e.jsx("div",{className:"text-lg font-bold text-red-600",children:c(h.amount)})]},u))})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Prevention Measures"}),e.jsx("ul",{className:"text-sm space-y-1",children:d.preventionMeasures.slice(0,3).map((h,u)=>e.jsxs("li",{className:"text-muted-foreground",children:[" ",h]},u))})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t mt-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Yt,{className:"w-4 h-4 text-muted-foreground"}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[d.category," Pattern  Active Monitoring"]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(E,{variant:"outline",size:"sm",children:"View Details"}),e.jsx(E,{variant:"outline",size:"sm",children:"Report Instance"})]})]})]})]},d.id))})]}),e.jsx($,{value:"indicators",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(jt,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{children:"Financial Red Flags"})]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Unexplained wealth of public officials"}),e.jsx("li",{children:" Unusual cash transactions or payments"}),e.jsx("li",{children:" Inflated contract prices without justification"}),e.jsx("li",{children:" Frequent budget overruns on projects"}),e.jsx("li",{children:" Missing or incomplete financial records"})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{children:"Procurement Warning Signs"})]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Sole-source contracts without justification"}),e.jsx("li",{children:" Specifications written for specific vendors"}),e.jsx("li",{children:" Rushed procurement processes"}),e.jsx("li",{children:" Limited competition or bidding"}),e.jsx("li",{children:" Close relationships between officials and vendors"})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Personnel Indicators"})]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Rapid lifestyle changes of public officials"}),e.jsx("li",{children:" Resistance to transparency measures"}),e.jsx("li",{children:" Frequent interactions with industry representatives"}),e.jsx("li",{children:" Employment of family members without merit"}),e.jsx("li",{children:" Reluctance to follow established procedures"})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{children:"Process Vulnerabilities"})]})}),e.jsx(N,{children:e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Weak internal controls and oversight"}),e.jsx("li",{children:" Lack of segregation of duties"}),e.jsx("li",{children:" Inadequate record keeping"}),e.jsx("li",{children:" Limited public access to information"}),e.jsx("li",{children:" Insufficient audit and monitoring"})]})})]})]})}),e.jsxs($,{value:"prevention",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Yt,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Detected Patterns"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"47"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Corruption patterns identified"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{children:"High-Risk Areas"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-red-600 mb-2",children:"12"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Government departments flagged"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(ei,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Prevention Success"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"67%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Reduction in detected fraud"})]})]})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Comprehensive Prevention Framework"}),e.jsx(G,{children:"Multi-layered approach to preventing government corruption"})]}),e.jsx(N,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Institutional Measures"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Independent anti-corruption agencies"}),e.jsx("li",{children:" Transparent procurement processes"}),e.jsx("li",{children:" Regular auditing and oversight"}),e.jsx("li",{children:" Whistleblower protection programs"}),e.jsx("li",{children:" Conflict of interest regulations"})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-3",children:"Technology Solutions"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsx("li",{children:" Real-time monitoring systems"}),e.jsx("li",{children:" Public disclosure databases"}),e.jsx("li",{children:" Digital audit trails"}),e.jsx("li",{children:" AI-powered pattern detection"}),e.jsx("li",{children:" Blockchain for contract transparency"})]})]})]})})]})]})]})]})}function GS(){const[s,t]=x.useState("24h"),a={overall:{score:74,change:3.2,status:"Active"},engagement:{activeUsers:18429,newRegistrations:347,dailyLogins:12847,avgSessionTime:"14m 32s"},participation:{votescast:2847,discussionPosts:1204,petitionsSigned:567,foiRequests:89},sentiment:{positive:42,neutral:38,negative:20,trending:"stable"}},r=[{id:1,type:"vote",action:"voted on Bill C-27 discussion",user:"Anonymous User",location:"Toronto, ON",timestamp:"2 minutes ago",impact:"medium"},{id:2,type:"petition",action:"signed petition for healthcare funding",user:"Anonymous User",location:"Vancouver, BC",timestamp:"4 minutes ago",impact:"high"},{id:3,type:"discussion",action:"started discussion on municipal budget",user:"Anonymous User",location:"Calgary, AB",timestamp:"7 minutes ago",impact:"medium"},{id:4,type:"foi",action:"submitted FOI request to Health Canada",user:"Anonymous User",location:"Ottawa, ON",timestamp:"12 minutes ago",impact:"high"},{id:5,type:"report",action:"reported potential procurement irregularity",user:"Anonymous User",location:"Montreal, QC",timestamp:"18 minutes ago",impact:"critical"}],i=[{province:"Ontario",score:78,activeUsers:6847,change:2.1,topIssues:["Healthcare","Housing","Education"]},{province:"Quebec",score:71,activeUsers:4023,change:1.8,topIssues:["Language Rights","Environment","Economy"]},{province:"British Columbia",score:76,activeUsers:3456,change:-.5,topIssues:["Housing Crisis","Environment","Indigenous Rights"]},{province:"Alberta",score:69,activeUsers:2134,change:4.2,topIssues:["Energy Policy","Healthcare","Economy"]},{province:"Saskatchewan",score:64,activeUsers:890,change:1.2,topIssues:["Agriculture","Healthcare","Infrastructure"]}],n=d=>{switch(d){case"vote":return Be;case"petition":return de;case"discussion":return ur;case"foi":return Ce;case"report":return ae;default:return Yt}},l=d=>{switch(d){case"vote":return"text-blue-600 bg-blue-50";case"petition":return"text-green-600 bg-green-50";case"discussion":return"text-purple-600 bg-purple-50";case"foi":return"text-orange-600 bg-orange-50";case"report":return"text-red-600 bg-red-50";default:return"text-gray-600 bg-gray-50"}},c=d=>{switch(d){case"critical":return"text-red-600";case"high":return"text-orange-600";case"medium":return"text-yellow-600";case"low":return"text-green-600";default:return"text-gray-600"}},o=d=>d>=80?"text-green-600":d>=70?"text-blue-600":d>=60?"text-yellow-600":"text-red-600";return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Civic Pulse Monitor"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Real-time tracking of civic engagement and democratic participation across Canada"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(Yt,{className:"w-3 h-3 mr-1"}),"Live Monitoring"]}),e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(de,{className:"w-3 h-3 mr-1"}),a.engagement.activeUsers.toLocaleString()," Active"]})]})]}),e.jsxs(Ie,{defaultValue:"overview",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4",children:[e.jsx(V,{value:"overview",children:"Live Overview"}),e.jsx(V,{value:"activity",children:"Activity Feed"}),e.jsx(V,{value:"regional",children:"Regional Pulse"}),e.jsx(V,{value:"trends",children:"Trends Analysis"})]}),e.jsxs($,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(b,{className:"border-l-4 border-l-green-500",children:[e.jsx(P,{className:"pb-3",children:e.jsx(T,{className:"text-lg",children:"Overall Pulse Score"})}),e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:`text-3xl font-bold ${o(a.overall.score)}`,children:a.overall.score}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ee,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-600",children:["+",a.overall.change]})]})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[a.overall.status," civic engagement"]})]})]}),e.jsxs(b,{children:[e.jsx(P,{className:"pb-3",children:e.jsx(T,{className:"text-lg",children:"Active Citizens"})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:a.engagement.activeUsers.toLocaleString()}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["+",a.engagement.newRegistrations," new today"]})]})]}),e.jsxs(b,{children:[e.jsx(P,{className:"pb-3",children:e.jsx(T,{className:"text-lg",children:"Daily Engagement"})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:a.engagement.dailyLogins.toLocaleString()}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Avg session: ",a.engagement.avgSessionTime]})]})]}),e.jsxs(b,{children:[e.jsx(P,{className:"pb-3",children:e.jsx(T,{className:"text-lg",children:"Actions Today"})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-orange-600 mb-1",children:(a.participation.votescast+a.participation.discussionPosts+a.participation.petitionsSigned).toLocaleString()}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Democratic actions taken"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Participation Breakdown"}),e.jsx(G,{children:"Democratic actions in the last 24 hours"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm",children:"Votes Cast"})]}),e.jsx("span",{className:"font-bold text-blue-600",children:a.participation.votescast.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ur,{className:"w-4 h-4 text-purple-600"}),e.jsx("span",{className:"text-sm",children:"Discussion Posts"})]}),e.jsx("span",{className:"font-bold text-purple-600",children:a.participation.discussionPosts.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm",children:"Petitions Signed"})]}),e.jsx("span",{className:"font-bold text-green-600",children:a.participation.petitionsSigned.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ce,{className:"w-4 h-4 text-orange-600"}),e.jsx("span",{className:"text-sm",children:"FOI Requests"})]}),e.jsx("span",{className:"font-bold text-orange-600",children:a.participation.foiRequests.toLocaleString()})]})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Public Sentiment"}),e.jsx(G,{children:"Overall mood and engagement quality"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Positive"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:`${a.sentiment.positive}%`}})}),e.jsxs("span",{className:"text-sm font-medium",children:[a.sentiment.positive,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Neutral"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${a.sentiment.neutral}%`}})}),e.jsxs("span",{className:"text-sm font-medium",children:[a.sentiment.neutral,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Negative"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${a.sentiment.negative}%`}})}),e.jsxs("span",{className:"text-sm font-medium",children:[a.sentiment.negative,"%"]})]})]}),e.jsx("div",{className:"pt-2 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Trend"}),e.jsx(k,{variant:"outline",className:"text-blue-600",children:a.sentiment.trending})]})})]})})]})]})]}),e.jsx($,{value:"activity",className:"space-y-6",children:e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Live Activity Feed"}),e.jsx(G,{children:"Real-time civic actions across Canada"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:r.map(d=>{const h=n(d.type);return e.jsxs("div",{className:"flex items-start space-x-3 p-3 rounded-lg hover:bg-muted/50 transition-colors",children:[e.jsx("div",{className:`p-2 rounded-full ${l(d.type)}`,children:e.jsx(h,{className:"w-4 h-4"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm font-medium",children:d.user}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{variant:"outline",className:c(d.impact),children:d.impact}),e.jsx("span",{className:"text-xs text-muted-foreground",children:d.timestamp})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:d.action}),e.jsx("p",{className:"text-xs text-muted-foreground",children:d.location})]})]},d.id)})})})]})}),e.jsx($,{value:"regional",className:"space-y-6",children:e.jsx("div",{className:"grid gap-4",children:i.map(d=>e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:d.province}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[d.activeUsers.toLocaleString()," active users"]})]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:d.topIssues.map((h,u)=>e.jsx(k,{variant:"secondary",className:"text-xs",children:h},u))})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:`text-2xl font-bold ${o(d.score)}`,children:d.score}),e.jsxs("div",{className:"flex items-center space-x-1",children:[d.change>0?e.jsx(Ee,{className:"w-3 h-3 text-green-600"}):e.jsx(ei,{className:"w-3 h-3 text-red-600"}),e.jsxs("span",{className:`text-xs ${d.change>0?"text-green-600":"text-red-600"}`,children:[d.change>0?"+":"",d.change]})]})]})]})})},d.province))})}),e.jsx($,{value:"trends",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Peak Engagement"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"8-10 PM"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Daily peak hours for civic participation"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Growth Rate"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"+12.3%"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Month-over-month user growth"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Yt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Avg Session"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"14m 32s"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average time spent engaging"})]})]})]})})]})]})}function QS(){const[s,t]=x.useState("12months"),a={federal:{overall:34,change:-2.3,parliament:28,primeMinister:41,cabinet:32,publicService:58},provincial:{overall:42,change:1.8,premiers:39,legislatures:45,publicService:62},municipal:{overall:67,change:.5,mayors:64,councils:69,publicService:71},institutions:{judiciary:72,police:58,military:81,elections:76,media:34,publicHealth:69}},r=[{province:"British Columbia",federalTrust:31,provincialTrust:45,municipalTrust:69,keyIssues:["Housing Crisis","Cost of Living","Healthcare"],trendDirection:"down",change:-3.2},{province:"Alberta",federalTrust:22,provincialTrust:48,municipalTrust:64,keyIssues:["Energy Policy","Federal Relations","Healthcare"],trendDirection:"down",change:-5.1},{province:"Saskatchewan",federalTrust:28,provincialTrust:52,municipalTrust:71,keyIssues:["Agriculture","Infrastructure","Healthcare"],trendDirection:"stable",change:.8},{province:"Manitoba",federalTrust:36,provincialTrust:41,municipalTrust:65,keyIssues:["Economy","Crime","Healthcare"],trendDirection:"up",change:2.1},{province:"Ontario",federalTrust:38,provincialTrust:39,municipalTrust:66,keyIssues:["Housing","Healthcare","Education"],trendDirection:"stable",change:-.3},{province:"Quebec",federalTrust:29,provincialTrust:47,municipalTrust:70,keyIssues:["Autonomy","Language Rights","Healthcare"],trendDirection:"down",change:-1.9},{province:"Nova Scotia",federalTrust:42,provincialTrust:51,municipalTrust:73,keyIssues:["Healthcare","Economy","Fisheries"],trendDirection:"up",change:1.7},{province:"New Brunswick",federalTrust:39,provincialTrust:48,municipalTrust:69,keyIssues:["Healthcare","Education","Economic Development"],trendDirection:"stable",change:.4},{province:"Prince Edward Island",federalTrust:44,provincialTrust:56,municipalTrust:78,keyIssues:["Healthcare","Tourism","Agriculture"],trendDirection:"up",change:2.3},{province:"Newfoundland and Labrador",federalTrust:35,provincialTrust:43,municipalTrust:67,keyIssues:["Economy","Healthcare","Population Decline"],trendDirection:"down",change:-2.8},{province:"Yukon",federalTrust:38,provincialTrust:49,municipalTrust:72,keyIssues:["Indigenous Rights","Mining","Cost of Living"],trendDirection:"stable",change:.6},{province:"Northwest Territories",federalTrust:41,provincialTrust:52,municipalTrust:74,keyIssues:["Indigenous Self-Government","Mining","Infrastructure"],trendDirection:"up",change:1.9},{province:"Nunavut",federalTrust:37,provincialTrust:45,municipalTrust:71,keyIssues:["Food Security","Housing","Indigenous Rights"],trendDirection:"stable",change:-.2}],i=[{factor:"Transparency",impact:87,description:"Open government data and decision-making processes",currentScore:42,trend:"improving"},{factor:"Accountability",impact:91,description:"Consequences for misconduct and policy failures",currentScore:38,trend:"declining"},{factor:"Competence",impact:83,description:"Effective policy implementation and service delivery",currentScore:56,trend:"stable"},{factor:"Responsiveness",impact:79,description:"Acting on citizen concerns and feedback",currentScore:45,trend:"improving"},{factor:"Integrity",impact:94,description:"Ethical behavior and freedom from corruption",currentScore:51,trend:"declining"}],n=o=>o>=70?"text-green-600":o>=50?"text-blue-600":o>=30?"text-yellow-600":"text-red-600",l=o=>{switch(o){case"up":return Ee;case"down":return ei;default:return gs}},c=o=>{switch(o){case"up":return"text-green-600";case"down":return"text-red-600";default:return"text-gray-600"}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Government Trust Metrics"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Comprehensive analysis of public trust in Canadian democratic institutions"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(gs,{className:"w-3 h-3 mr-1"}),"Public Polling Data"]}),e.jsxs(ge,{value:s,onValueChange:t,children:[e.jsx(xe,{className:"w-32",children:e.jsx(ve,{})}),e.jsxs(fe,{children:[e.jsx(D,{value:"3months",children:"3 Months"}),e.jsx(D,{value:"6months",children:"6 Months"}),e.jsx(D,{value:"12months",children:"12 Months"}),e.jsx(D,{value:"24months",children:"24 Months"})]})]})]})]}),e.jsxs(Ie,{defaultValue:"overview",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4",children:[e.jsx(V,{value:"overview",children:"Trust Overview"}),e.jsx(V,{value:"levels",children:"Government Levels"}),e.jsx(V,{value:"regional",children:"Regional Analysis"}),e.jsx(V,{value:"factors",children:"Trust Factors"})]}),e.jsxs($,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{className:"border-l-4 border-l-red-500",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(hr,{className:"w-5 h-5 text-red-600"}),e.jsx("span",{children:"Federal Government"})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:`text-3xl font-bold ${n(a.federal.overall)}`,children:[a.federal.overall,"%"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(ei,{className:"w-4 h-4 text-red-600"}),e.jsx("span",{className:"text-sm text-red-600",children:a.federal.change})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Public trust in federal institutions"})]})]}),e.jsxs(b,{className:"border-l-4 border-l-yellow-500",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Tt,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{children:"Provincial Government"})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:`text-3xl font-bold ${n(a.provincial.overall)}`,children:[a.provincial.overall,"%"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ee,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-600",children:["+",a.provincial.change]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average provincial trust levels"})]})]}),e.jsxs(b,{className:"border-l-4 border-l-green-500",children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Municipal Government"})]})}),e.jsxs(N,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{className:`text-3xl font-bold ${n(a.municipal.overall)}`,children:[a.municipal.overall,"%"]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(Ee,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-sm text-green-600",children:["+",a.municipal.change]})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Local government trust ratings"})]})]})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Institutional Trust Comparison"}),e.jsx(G,{children:"Public confidence in key Canadian institutions"})]}),e.jsx(N,{children:e.jsx("div",{className:"space-y-4",children:Object.entries(a.institutions).map(([o,d])=>e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm capitalize font-medium",children:o.replace(/([A-Z])/g," $1").trim()}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${d>=70?"bg-green-500":d>=50?"bg-blue-500":d>=30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${d}%`}})}),e.jsxs("span",{className:`text-sm font-bold w-8 ${n(d)}`,children:[d,"%"]})]})]},o))})})]})]}),e.jsx($,{value:"levels",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Federal Level"}),e.jsx(G,{children:"Trust in federal institutions and leadership"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Parliament"}),e.jsxs("span",{className:`font-bold ${n(a.federal.parliament)}`,children:[a.federal.parliament,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Prime Minister"}),e.jsxs("span",{className:`font-bold ${n(a.federal.primeMinister)}`,children:[a.federal.primeMinister,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Cabinet"}),e.jsxs("span",{className:`font-bold ${n(a.federal.cabinet)}`,children:[a.federal.cabinet,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Public Service"}),e.jsxs("span",{className:`font-bold ${n(a.federal.publicService)}`,children:[a.federal.publicService,"%"]})]})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Provincial Level"}),e.jsx(G,{children:"Provincial government trust metrics"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Premiers"}),e.jsxs("span",{className:`font-bold ${n(a.provincial.premiers)}`,children:[a.provincial.premiers,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Legislatures"}),e.jsxs("span",{className:`font-bold ${n(a.provincial.legislatures)}`,children:[a.provincial.legislatures,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Public Service"}),e.jsxs("span",{className:`font-bold ${n(a.provincial.publicService)}`,children:[a.provincial.publicService,"%"]})]})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Municipal Level"}),e.jsx(G,{children:"Local government trust ratings"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Mayors"}),e.jsxs("span",{className:`font-bold ${n(a.municipal.mayors)}`,children:[a.municipal.mayors,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"City Councils"}),e.jsxs("span",{className:`font-bold ${n(a.municipal.councils)}`,children:[a.municipal.councils,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm",children:"Public Service"}),e.jsxs("span",{className:`font-bold ${n(a.municipal.publicService)}`,children:[a.municipal.publicService,"%"]})]})]})})]})]})}),e.jsx($,{value:"regional",className:"space-y-6",children:e.jsx("div",{className:"grid gap-4",children:r.map(o=>{const d=l(o.trendDirection);return e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(N,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-semibold text-lg",children:o.province}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Federal"}),e.jsxs("div",{className:`text-lg font-bold ${n(o.federalTrust)}`,children:[o.federalTrust,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Provincial"}),e.jsxs("div",{className:`text-lg font-bold ${n(o.provincialTrust)}`,children:[o.provincialTrust,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Municipal"}),e.jsxs("div",{className:`text-lg font-bold ${n(o.municipalTrust)}`,children:[o.municipalTrust,"%"]})]})]}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:o.keyIssues.map((h,u)=>e.jsx(k,{variant:"secondary",className:"text-xs",children:h},u))})]}),e.jsxs("div",{className:"text-right ml-4",children:[e.jsxs("div",{className:"flex items-center space-x-1 mb-1",children:[e.jsx(d,{className:`w-4 h-4 ${c(o.trendDirection)}`}),e.jsxs("span",{className:`text-sm ${c(o.trendDirection)}`,children:[o.change>0?"+":"",o.change]})]}),e.jsx("div",{className:"text-xs text-muted-foreground capitalize",children:o.trendDirection})]})]})})},o.province)})})}),e.jsx($,{value:"factors",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:i.map(o=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(T,{className:"text-lg",children:o.factor}),e.jsx(G,{className:"mt-1",children:o.description})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Impact Weight"}),e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[o.impact,"%"]})]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-muted-foreground",children:"Current Score"}),e.jsxs("div",{className:`text-xl font-bold ${n(o.currentScore)}`,children:[o.currentScore,"%"]})]}),e.jsx("div",{className:"w-48 h-3 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full ${o.currentScore>=70?"bg-green-500":o.currentScore>=50?"bg-blue-500":o.currentScore>=30?"bg-yellow-500":"bg-red-500"}`,style:{width:`${o.currentScore}%`}})})]}),e.jsx(k,{variant:"outline",className:o.trend==="improving"?"text-green-600 border-green-200":o.trend==="declining"?"text-red-600 border-red-200":"text-gray-600 border-gray-200",children:o.trend})]})})]},o.factor))})})]})]})}function JS(){const[s,t]=x.useState("all"),[a,r]=x.useState("all"),i=[{province:"Ontario",abbreviation:"ON",population:15109293,activeUsers:234567,engagementRate:1.6,topIssues:["Healthcare","Housing","Education"],recentActivity:8934,politicalActivity:{discussions:3456,petitions:1789,foiRequests:234,votes:3455},demographics:{"18-34":31,"35-54":40,"55+":29},urbanRural:{urban:86,rural:14}},{province:"Quebec",abbreviation:"QC",population:8604495,activeUsers:167834,engagementRate:1.9,topIssues:["Language Rights","Healthcare","Environment"],recentActivity:6234,politicalActivity:{discussions:2891,petitions:1234,foiRequests:178,votes:2931},demographics:{"18-34":29,"35-54":39,"55+":32},urbanRural:{urban:81,rural:19}},{province:"British Columbia",abbreviation:"BC",population:5214805,activeUsers:78429,engagementRate:1.5,topIssues:["Housing Crisis","Climate Change","Healthcare"],recentActivity:2847,politicalActivity:{discussions:1204,petitions:567,foiRequests:89,votes:987},demographics:{"18-34":32,"35-54":41,"55+":27},urbanRural:{urban:87,rural:13}},{province:"Alberta",abbreviation:"AB",population:4428112,activeUsers:52134,engagementRate:1.2,topIssues:["Energy Policy","Healthcare","Economy"],recentActivity:1823,politicalActivity:{discussions:789,petitions:234,foiRequests:67,votes:733},demographics:{"18-34":35,"35-54":38,"55+":27},urbanRural:{urban:83,rural:17}},{province:"Nova Scotia",abbreviation:"NS",population:992055,activeUsers:14567,engagementRate:1.5,topIssues:["Healthcare","Economy","Immigration"],recentActivity:567,politicalActivity:{discussions:234,petitions:123,foiRequests:34,votes:176},demographics:{"18-34":26,"35-54":37,"55+":37},urbanRural:{urban:56,rural:44}},{province:"New Brunswick",abbreviation:"NB",population:789225,activeUsers:9876,engagementRate:1.2,topIssues:["Healthcare","Economy","Bilingualism"],recentActivity:345,politicalActivity:{discussions:156,petitions:78,foiRequests:23,votes:88},demographics:{"18-34":25,"35-54":36,"55+":39},urbanRural:{urban:51,rural:49}},{province:"Manitoba",abbreviation:"MB",population:1386333,activeUsers:18934,engagementRate:1.4,topIssues:["Healthcare","Indigenous Rights","Economy"],recentActivity:634,politicalActivity:{discussions:287,petitions:145,foiRequests:45,votes:157},demographics:{"18-34":30,"35-54":38,"55+":32},urbanRural:{urban:72,rural:28}},{province:"Saskatchewan",abbreviation:"SK",population:1196994,activeUsers:8934,engagementRate:.7,topIssues:["Agriculture","Healthcare","Infrastructure"],recentActivity:412,politicalActivity:{discussions:178,petitions:89,foiRequests:23,votes:122},demographics:{"18-34":28,"35-54":42,"55+":30},urbanRural:{urban:66,rural:34}},{province:"Manitoba",abbreviation:"MB",population:1380935,activeUsers:12847,engagementRate:.9,topIssues:["Healthcare","Indigenous Rights","Economy"],recentActivity:534,politicalActivity:{discussions:234,petitions:123,foiRequests:34,votes:143},demographics:{"18-34":31,"35-54":39,"55+":30},urbanRural:{urban:72,rural:28}},{province:"Ontario",abbreviation:"ON",population:15109293,activeUsers:189234,engagementRate:1.3,topIssues:["Housing","Healthcare","Education"],recentActivity:6847,politicalActivity:{discussions:2934,petitions:1456,foiRequests:278,votes:2179},demographics:{"18-34":33,"35-54":40,"55+":27},urbanRural:{urban:86,rural:14}},{province:"Quebec",abbreviation:"QC",population:8575779,activeUsers:94567,engagementRate:1.1,topIssues:["Language Rights","Healthcare","Environment"],recentActivity:3456,politicalActivity:{discussions:1567,petitions:789,foiRequests:134,votes:966},demographics:{"18-34":29,"35-54":41,"55+":30},urbanRural:{urban:81,rural:19}},{province:"Prince Edward Island",abbreviation:"PE",population:164318,activeUsers:2456,engagementRate:1.5,topIssues:["Healthcare","Tourism","Agriculture"],recentActivity:89,politicalActivity:{discussions:43,petitions:21,foiRequests:7,votes:18},demographics:{"18-34":24,"35-54":35,"55+":41},urbanRural:{urban:47,rural:53}},{province:"Newfoundland and Labrador",abbreviation:"NL",population:520553,activeUsers:6789,engagementRate:1.3,topIssues:["Economy","Outmigration","Healthcare"],recentActivity:234,politicalActivity:{discussions:123,petitions:67,foiRequests:18,votes:26},demographics:{"18-34":23,"35-54":36,"55+":41},urbanRural:{urban:58,rural:42}},{province:"Yukon",abbreviation:"YT",population:42986,activeUsers:567,engagementRate:1.3,topIssues:["Indigenous Rights","Mining","Climate"],recentActivity:23,politicalActivity:{discussions:12,petitions:5,foiRequests:2,votes:4},demographics:{"18-34":28,"35-54":42,"55+":30},urbanRural:{urban:68,rural:32}},{province:"Northwest Territories",abbreviation:"NT",population:45504,activeUsers:612,engagementRate:1.3,topIssues:["Indigenous Rights","Mining","Cost of Living"],recentActivity:28,politicalActivity:{discussions:15,petitions:7,foiRequests:3,votes:3},demographics:{"18-34":31,"35-54":41,"55+":28},urbanRural:{urban:47,rural:53}},{province:"Nunavut",abbreviation:"NU",population:39403,activeUsers:423,engagementRate:1.1,topIssues:["Indigenous Rights","Housing","Education"],recentActivity:18,politicalActivity:{discussions:9,petitions:4,foiRequests:2,votes:3},demographics:{"18-34":38,"35-54":35,"55+":27},urbanRural:{urban:32,rural:68}}],n=[{city:"Toronto",province:"ON",population:2794356,activeUsers:42847,engagementRate:1.5,topIssues:["Housing","Transit","Development"],politicalLean:"Progressive"},{city:"Montreal",province:"QC",population:1762949,activeUsers:28934,engagementRate:1.6,topIssues:["Language","Infrastructure","Environment"],politicalLean:"Progressive"},{city:"Vancouver",province:"BC",population:675218,activeUsers:19456,engagementRate:2.9,topIssues:["Housing Crisis","Climate","Transit"],politicalLean:"Progressive"},{city:"Calgary",province:"AB",population:1336e3,activeUsers:15678,engagementRate:1.2,topIssues:["Economy","Energy","Healthcare"],politicalLean:"Conservative"},{city:"Edmonton",province:"AB",population:1010899,activeUsers:11234,engagementRate:1.1,topIssues:["Healthcare","Economy","Education"],politicalLean:"Mixed"},{city:"Ottawa",province:"ON",population:1017449,activeUsers:23456,engagementRate:2.3,topIssues:["Government","Transit","Housing"],politicalLean:"Progressive"}],l={totalActiveUsers:i.reduce((h,u)=>h+u.activeUsers,0),totalActivities:i.reduce((h,u)=>h+u.recentActivity,0)},c=h=>h>=2?"text-green-600 bg-green-50":h>=1?"text-blue-600 bg-blue-50":h>=.5?"text-yellow-600 bg-yellow-50":"text-red-600 bg-red-50",o=h=>{switch(h){case"Progressive":return"text-blue-600 bg-blue-50";case"Conservative":return"text-red-600 bg-red-50";case"Mixed":return"text-purple-600 bg-purple-50";default:return"text-gray-600 bg-gray-50"}},d=h=>new Intl.NumberFormat("en-CA").format(h);return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Civic Engagement Maps"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Geographic visualization of democratic participation and political engagement across Canada"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(k,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(Ze,{className:"w-3 h-3 mr-1"}),"Geographic Data"]}),e.jsxs(k,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(de,{className:"w-3 h-3 mr-1"}),d(l.totalActiveUsers)," Users"]})]})]}),e.jsxs(Ie,{defaultValue:"provincial",className:"w-full",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4",children:[e.jsx(V,{value:"provincial",children:"Provincial Overview"}),e.jsx(V,{value:"cities",children:"Major Cities"}),e.jsx(V,{value:"demographics",children:"Demographics"}),e.jsx(V,{value:"trends",children:"Engagement Trends"})]}),e.jsxs($,{value:"provincial",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[e.jsxs(ge,{value:s,onValueChange:t,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{placeholder:"Select province"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Provinces"}),i.map(h=>e.jsx(D,{value:h.abbreviation,children:h.province},h.abbreviation))]})]}),e.jsxs(ge,{value:a,onValueChange:r,children:[e.jsx(xe,{className:"w-48",children:e.jsx(ve,{placeholder:"Engagement type"})}),e.jsxs(fe,{children:[e.jsx(D,{value:"all",children:"All Activities"}),e.jsx(D,{value:"discussions",children:"Discussions"}),e.jsx(D,{value:"petitions",children:"Petitions"}),e.jsx(D,{value:"foi",children:"FOI Requests"}),e.jsx(D,{value:"votes",children:"Voting"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:i.map(h=>e.jsxs(b,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(P,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(T,{className:"text-lg",children:h.province}),e.jsxs(G,{children:["Population: ",d(h.population)]})]}),e.jsxs(k,{className:c(h.engagementRate),children:[h.engagementRate,"% engaged"]})]})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Users"}),e.jsx("span",{className:"font-bold text-blue-600",children:d(h.activeUsers)})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Recent Activity"}),e.jsx("span",{className:"font-bold text-green-600",children:d(h.recentActivity)})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Top Issues"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.topIssues.map((u,m)=>e.jsx(k,{variant:"secondary",className:"text-xs",children:u},m))})]}),e.jsxs("div",{className:"pt-2 border-t",children:[e.jsx("div",{className:"text-sm font-medium text-muted-foreground mb-2",children:"Activity Breakdown"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Discussions"}),e.jsx("span",{className:"font-medium",children:h.politicalActivity.discussions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Petitions"}),e.jsx("span",{className:"font-medium",children:h.politicalActivity.petitions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"FOI Requests"}),e.jsx("span",{className:"font-medium",children:h.politicalActivity.foiRequests})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Votes"}),e.jsx("span",{className:"font-medium",children:h.politicalActivity.votes})]})]})]})]})})]},h.abbreviation))})]}),e.jsx($,{value:"cities",className:"space-y-6",children:e.jsx("div",{className:"grid gap-4",children:n.map(h=>e.jsx(b,{className:"hover:shadow-lg transition-shadow",children:e.jsx(N,{className:"p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-lg",children:h.city}),e.jsx(k,{variant:"outline",className:"text-xs",children:h.province}),e.jsx(k,{className:o(h.politicalLean),children:h.politicalLean})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Population"}),e.jsx("div",{className:"font-bold",children:d(h.population)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Active Users"}),e.jsx("div",{className:"font-bold text-blue-600",children:d(h.activeUsers)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Engagement Rate"}),e.jsxs("div",{className:`font-bold ${h.engagementRate>=2?"text-green-600":h.engagementRate>=1?"text-blue-600":"text-yellow-600"}`,children:[h.engagementRate,"%"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Top Issues"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:h.topIssues.slice(0,2).map((u,m)=>e.jsx(k,{variant:"secondary",className:"text-xs",children:u},m))})]})]})]})})})},h.city))})}),e.jsx($,{value:"demographics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Age Distribution"}),e.jsx(G,{children:"Civic engagement by age group across Canada"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"18-34 years"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"32%"}})}),e.jsx("span",{className:"text-sm font-medium w-8",children:"32%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"35-54 years"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:"40%"}})}),e.jsx("span",{className:"text-sm font-medium w-8",children:"40%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"55+ years"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-purple-500 rounded-full",style:{width:"28%"}})}),e.jsx("span",{className:"text-sm font-medium w-8",children:"28%"})]})]})]})})]}),e.jsxs(b,{children:[e.jsxs(P,{children:[e.jsx(T,{children:"Urban vs Rural"}),e.jsx(G,{children:"Geographic distribution of civic engagement"})]}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Urban Areas"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:"82%"}})}),e.jsx("span",{className:"text-sm font-medium w-8",children:"82%"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm",children:"Rural Areas"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-500 rounded-full",style:{width:"18%"}})}),e.jsx("span",{className:"text-sm font-medium w-8",children:"18%"})]})]})]})})]})]})}),e.jsx($,{value:"trends",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Highest Engagement"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600 mb-2",children:"Vancouver"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"2.9% engagement rate"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(de,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Most Active Users"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-2",children:"Ontario"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[d(189234)," active users"]})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Yt,{className:"w-5 h-5 text-purple-600"}),e.jsx("span",{children:"Growth Leader"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 mb-2",children:"Quebec"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"+23% month-over-month"})]})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(gs,{className:"w-5 h-5 text-orange-600"}),e.jsx("span",{children:"Total Activities"})]})}),e.jsxs(N,{children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600 mb-2",children:d(l.totalActivities)}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Democratic actions this month"})]})]})]})})]})]})}function YS(){const[s,t]=x.useState("all"),[a,r]=x.useState(!1);Rt();const i=ss(),{toast:n}=dt(),{data:l=[]}=Q({queryKey:["/api/notifications"],enabled:!0}),{data:c}=Q({queryKey:["/api/notifications/preferences"],enabled:!0});Ne({mutationFn:f=>ye(`/api/notifications/${f}`,"DELETE"),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications"]}),n({title:"Notification deleted",description:"The notification has been removed."})},onError:()=>{n({title:"Error",description:"Failed to delete notification.",variant:"destructive"})}});const o=Ne({mutationFn:()=>ye("/api/notifications","DELETE"),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications"]}),n({title:"All notifications cleared",description:"All notifications have been removed."})},onError:()=>{n({title:"Error",description:"Failed to clear notifications.",variant:"destructive"})}});Ne({mutationFn:f=>ye(`/api/notifications/${f}/read`,"PATCH"),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications"]})}});const d=Ne({mutationFn:f=>ye("/api/notifications/preferences","PUT",f),onSuccess:()=>{i.invalidateQueries({queryKey:["/api/notifications/preferences"]}),n({title:"Preferences updated",description:"Your notification preferences have been saved."})},onError:()=>{n({title:"Error",description:"Failed to update preferences.",variant:"destructive"})}}),h=l.length>0?l:[{id:1,type:"bill",title:"Bill C-11 Update",message:"Online Streaming Act has passed second reading in Parliament",timestamp:new Date(Date.now()-2*60*60*1e3).toISOString(),read:!1,priority:"high"},{id:2,type:"petition",title:"Petition Milestone",message:"Climate Action petition has reached 10,000 signatures",timestamp:new Date(Date.now()-4*60*60*1e3).toISOString(),read:!1,priority:"medium"},{id:3,type:"politician",title:"New MP Statement",message:"Chrystia Freeland released statement on economic policy",timestamp:new Date(Date.now()-6*60*60*1e3).toISOString(),read:!0,priority:"medium"},{id:4,type:"election",title:"Electoral Boundary Update",message:"New federal electoral boundaries finalized for 2025",timestamp:new Date(Date.now()-24*60*60*1e3).toISOString(),read:!0,priority:"low"},{id:5,type:"system",title:"Data Update Complete",message:"Weekly sync of government data completed - 342 MPs updated",timestamp:new Date(Date.now()-2*24*60*60*1e3).toISOString(),read:!1,priority:"low"}],u=h.filter(f=>s==="bill"?f.type==="bill":s==="petition"?f.type==="petition":s==="foi"?f.type==="foi":s==="system"?f.type==="system":!0),m=h.filter(f=>!f.read).length,p=f=>{switch(f){case"bill":return e.jsx(ce,{className:"w-4 h-4"});case"petition":return e.jsx(Be,{className:"w-4 h-4"});case"politician":return e.jsx(de,{className:"w-4 h-4"});case"election":return e.jsx(Be,{className:"w-4 h-4"});default:return e.jsx(dr,{className:"w-4 h-4"})}},j=f=>{switch(f){case"high":return"destructive";case"medium":return"default";case"low":return"secondary";default:return"default"}},g=f=>{const w=new Date(f),v=Math.floor((new Date().getTime()-w.getTime())/(1e3*60*60));return v<1?"Just now":v<24?`${v}h ago`:`${Math.floor(v/24)}d ago`};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Notifications"}),e.jsx("p",{className:"text-muted-foreground",children:"Stay updated on civic activities and government changes"})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs(k,{variant:"outline",className:"text-sm",children:[m," unread"]}),e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>o.mutate(),disabled:o.isPending||l.length===0,children:[e.jsx(Ws,{className:"w-4 h-4 mr-2"}),"Clear All"]}),e.jsxs(Ks,{open:a,onOpenChange:r,children:[e.jsx(Ho,{asChild:!0,children:e.jsxs(E,{variant:"outline",size:"sm",children:[e.jsx(Cn,{className:"w-4 h-4 mr-2"}),"Preferences"]})}),e.jsxs(vs,{className:"max-w-md",children:[e.jsx(js,{children:e.jsx(ys,{children:"Notification Preferences"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Petition Alerts"}),e.jsx(nt,{checked:(c==null?void 0:c.petitionAlerts)??!0,onCheckedChange:f=>d.mutate({petitionAlerts:f})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Bill Updates"}),e.jsx(nt,{checked:(c==null?void 0:c.billUpdates)??!0,onCheckedChange:f=>d.mutate({billUpdates:f})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"FOI Responses"}),e.jsx(nt,{checked:(c==null?void 0:c.foiResponses)??!0,onCheckedChange:f=>d.mutate({foiResponses:f})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"System News"}),e.jsx(nt,{checked:(c==null?void 0:c.systemNews)??!0,onCheckedChange:f=>d.mutate({systemNews:f})})]})]}),e.jsx(bs,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Email Notifications"}),e.jsx(nt,{checked:(c==null?void 0:c.emailNotifications)??!0,onCheckedChange:f=>d.mutate({emailNotifications:f})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:"Push Notifications"}),e.jsx(nt,{checked:(c==null?void 0:c.pushNotifications)??!0,onCheckedChange:f=>d.mutate({pushNotifications:f})})]})]})]})]})]})]})]}),e.jsx(b,{children:e.jsx(N,{className:"p-6",children:e.jsx("div",{className:"flex space-x-2",children:[{key:"all",label:"All",count:h.length},{key:"unread",label:"Unread",count:m},{key:"bills",label:"Bills",count:h.filter(f=>f.type==="bill").length},{key:"petitions",label:"Petitions",count:h.filter(f=>f.type==="petition").length}].map(f=>e.jsxs(E,{variant:s===f.key?"default":"ghost",size:"sm",onClick:()=>t(f.key),className:"space-x-2",children:[e.jsx("span",{children:f.label}),e.jsx(k,{variant:"secondary",className:"text-xs",children:f.count})]},f.key))})})}),e.jsx("div",{className:"space-y-4",children:u.length===0?e.jsx(b,{children:e.jsxs(N,{className:"flex flex-col items-center justify-center py-12",children:[e.jsx(dr,{className:"w-12 h-12 text-muted-foreground mb-4"}),e.jsx("h3",{className:"text-lg font-medium mb-2",children:"No notifications"}),e.jsx("p",{className:"text-muted-foreground text-center",children:"You're all caught up! Check back later for updates on civic activities."})]})}):u.map(f=>e.jsx(b,{className:`${f.read?"":"border-l-4 border-l-blue-500"}`,children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-start space-x-4 flex-1",children:[e.jsx("div",{className:`p-2 rounded-full ${f.read?"bg-gray-100 text-gray-600":"bg-blue-100 text-blue-600"}`,children:p(f.type)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[e.jsx("h3",{className:`text-sm font-medium ${f.read?"text-gray-600":"text-gray-900"}`,children:f.title}),e.jsx(k,{variant:j(f.priority),className:"text-xs",children:f.priority}),!f.read&&e.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:f.message}),e.jsx("p",{className:"text-xs text-muted-foreground",children:g(f.timestamp)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[!f.read&&e.jsx(E,{variant:"ghost",size:"sm",children:e.jsx(wn,{className:"w-4 h-4"})}),e.jsx(E,{variant:"ghost",size:"sm",children:e.jsx(Ws,{className:"w-4 h-4"})})]})]})})},f.id))})]})}function XS(){var h,u;const{userId:s}=Vu(),{data:t,isLoading:a}=Q({queryKey:[`/api/users/${s}/profile`],enabled:!!s});if(a)return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-6xl mx-auto py-8 px-4",children:e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})})})});if(!t)return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsx("div",{className:"max-w-6xl mx-auto py-8 px-4",children:e.jsx(b,{children:e.jsxs(N,{className:"p-12 text-center",children:[e.jsx(Sn,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"User Not Found"}),e.jsx("p",{className:"text-gray-600",children:"The requested user profile could not be found."})]})})})});const{user:r,interactions:i,posts:n,votes:l}=t,c=m=>{switch(m){case"champion":return"bg-purple-100 text-purple-800";case"expert":return"bg-blue-100 text-blue-800";case"advocate":return"bg-green-100 text-green-800";case"active":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},o=m=>{switch(m){case"platinum":return"bg-gradient-to-r from-purple-400 to-purple-600";case"gold":return"bg-gradient-to-r from-yellow-400 to-yellow-600";case"silver":return"bg-gradient-to-r from-gray-400 to-gray-600";default:return"bg-gradient-to-r from-orange-400 to-orange-600"}},d=m=>new Date(m).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"});return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-6xl mx-auto py-8 px-4 space-y-8",children:[e.jsx(b,{children:e.jsx(N,{className:"p-8",children:e.jsxs("div",{className:"flex items-start space-x-6",children:[e.jsxs(Ye,{className:"w-24 h-24",children:[e.jsx(Dt,{src:r.profile_image_url}),e.jsxs(Xe,{className:"text-2xl",children:[(h=r.first_name)==null?void 0:h[0],(u=r.last_name)==null?void 0:u[0]]})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:[r.first_name," ",r.last_name]}),e.jsx("p",{className:"text-gray-600 mb-4",children:r.email}),e.jsxs("div",{className:"flex flex-wrap gap-2 mb-4",children:[e.jsx(k,{variant:"outline",className:c(r.engagement_level),children:r.engagement_level}),e.jsxs(k,{className:`text-white ${o(r.achievement_tier)}`,children:[r.achievement_tier," tier"]}),e.jsxs(k,{variant:"secondary",children:["Level ",r.current_level]})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.civic_points}),e.jsx("div",{className:"text-sm text-gray-500",children:"Civic Points"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[parseFloat(r.trust_score).toFixed(0),"%"]}),e.jsx("div",{className:"text-sm text-gray-500",children:"Trust Score"})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:n.length}),e.jsx("div",{className:"text-sm text-gray-500",children:"Forum Posts"})]})]})]})]})})}),e.jsxs(Ie,{defaultValue:"posts",className:"space-y-6",children:[e.jsxs(Se,{className:"grid w-full grid-cols-4",children:[e.jsx(V,{value:"posts",children:"Forum Posts"}),e.jsx(V,{value:"votes",children:"Voting Record"}),e.jsx(V,{value:"interactions",children:"Recent Activity"}),e.jsx(V,{value:"stats",children:"Statistics"})]}),e.jsx($,{value:"posts",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(bt,{className:"w-5 h-5"}),e.jsxs("span",{children:["Forum Posts (",n.length,")"]})]})}),e.jsx(N,{children:n.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No forum posts yet"}):e.jsx("div",{className:"space-y-4",children:n.map(m=>e.jsxs("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:[e.jsx("h4",{className:"font-medium text-gray-900",children:m.title}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[m.content.substring(0,150),"..."]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[e.jsxs("span",{children:["in ",m.category_name]}),e.jsx("span",{children:d(m.created_at)})]})]},m.id))})})]})}),e.jsx($,{value:"votes",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Be,{className:"w-5 h-5"}),e.jsxs("span",{children:["Voting Record (",l.length,")"]})]})}),e.jsx(N,{children:l.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No votes cast yet"}):e.jsx("div",{className:"space-y-4",children:l.map(m=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:m.bill_title}),e.jsxs("p",{className:"text-sm text-gray-600",children:["Bill ",m.bill_number]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx(k,{variant:m.vote_choice==="yes"?"default":"destructive",children:m.vote_choice}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:d(m.created_at)})]})]},m.id))})})]})}),e.jsx($,{value:"interactions",className:"space-y-4",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center space-x-2",children:[e.jsx(Ee,{className:"w-5 h-5"}),e.jsxs("span",{children:["Recent Activity (",i.length,")"]})]})}),e.jsx(N,{children:i.length===0?e.jsx("p",{className:"text-gray-500 text-center py-8",children:"No recent activity"}):e.jsx("div",{className:"space-y-3",children:i.slice(0,20).map((m,p)=>e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:[m.interaction_type==="vote"&&e.jsx(Be,{className:"w-4 h-4 text-blue-600"}),m.interaction_type==="comment"&&e.jsx(bt,{className:"w-4 h-4 text-blue-600"}),m.interaction_type==="post"&&e.jsx(ce,{className:"w-4 h-4 text-blue-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[m.interaction_type==="vote"&&`Voted ${m.content} on`,m.interaction_type==="comment"&&"Commented on",m.interaction_type==="post"&&"Created post:"," ",m.target_type]}),e.jsx("p",{className:"text-xs text-gray-500",children:d(m.created_at)})]})]},p))})})]})}),e.jsx($,{value:"stats",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{children:"Engagement Metrics"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Forum Posts"}),e.jsx("span",{className:"font-bold",children:n.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Votes Cast"}),e.jsx("span",{className:"font-bold",children:l.length})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Activity"}),e.jsx("span",{className:"font-bold",children:i.length})]})]})})]}),e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{children:"Account Info"})}),e.jsx(N,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Member Since"}),e.jsx("span",{className:"font-bold",children:d(r.created_at)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Civic Level"}),e.jsx("span",{className:"font-bold",children:r.civic_level})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Current Level"}),e.jsxs("span",{className:"font-bold",children:["Level ",r.current_level]})]})]})})]})]})})]})]})})}function ZS(){const[s,t]=x.useState(null),[a,r]=x.useState(!1),[i,n]=x.useState(""),{toast:l}=dt(),c=async()=>{r(!0);try{const h=await ye("/api/auth/canadian-methods","GET");t(h.methods)}catch(h){l({title:"Error",description:h.message||"Failed to load authentication methods",variant:"destructive"})}finally{r(!1)}},o=async()=>{r(!0);try{const h=await ye("/api/auth/gckey/init","POST",{}),u=window.open(h.authUrl,"gckey_auth","width=600,height=700,scrollbars=yes"),m=setInterval(()=>{u!=null&&u.closed&&(clearInterval(m),l({title:"GCKey Authentication",description:"Please complete authentication in the popup window"}))},1e3)}catch(h){l({title:"GCKey Error",description:h.message||"Failed to start GCKey authentication",variant:"destructive"})}finally{r(!1)}},d=async h=>{r(!0),n(h);try{const u=await ye("/api/auth/banking/init","POST",{provider:h}),m=window.open(u.authUrl,"banking_auth","width=800,height=600,scrollbars=yes"),p=setInterval(()=>{m!=null&&m.closed&&(clearInterval(p),l({title:"Banking Authentication",description:`Complete authentication with ${h.toUpperCase()}`}))},1e3)}catch(u){l({title:"Banking Error",description:u.message||"Failed to start banking authentication",variant:"destructive"})}finally{r(!1),n("")}};return s?e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Canadian Identity Verification"]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(us,{className:"w-5 h-5 text-red-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.gckey.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.gckey.description})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(k,{variant:"default",className:"bg-red-600",children:[e.jsx(Xi,{className:"w-3 h-3 mr-1"}),s.gckey.trustScore,"% Trust"]})})]}),e.jsxs(ze,{children:[e.jsx(z,{className:"h-4 w-4"}),e.jsxs(He,{children:[e.jsx("strong",{children:s.gckey.verificationLevel})," - Authenticate using your Government of Canada account"]})]}),e.jsxs(E,{onClick:o,disabled:a,className:"w-full bg-red-600 hover:bg-red-700",children:[e.jsx(Ke,{className:"w-4 h-4 mr-2"}),"Authenticate with GCKey"]})]}),e.jsx(bs,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ad,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:s.banking.name}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.banking.description})]})]}),e.jsxs(k,{variant:"secondary",children:[e.jsx(Xi,{className:"w-3 h-3 mr-1"}),s.banking.trustScore,"% Trust"]})]}),e.jsxs(ze,{children:[e.jsx(z,{className:"h-4 w-4"}),e.jsxs(He,{children:[e.jsx("strong",{children:s.banking.verificationLevel})," - Verify through your Canadian bank account"]})]}),e.jsx("div",{className:"grid grid-cols-1 gap-2",children:s.banking.providers.map(h=>e.jsxs(E,{variant:"outline",onClick:()=>d(h.id),disabled:a,className:"justify-start h-auto p-3",children:[e.jsx(ad,{className:"w-4 h-4 mr-3"}),e.jsxs("div",{className:"text-left",children:[e.jsx("div",{className:"font-medium",children:h.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:i===h.id&&a?"Connecting...":"Secure banking verification"})]}),e.jsx(Ke,{className:"w-4 h-4 ml-auto"})]},h.id))})]}),e.jsx(bs,{}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ze,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold",children:"Provincial Government ID"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Authenticate through your provincial government account"})]})]}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:s.provincial.slice(0,4).map(h=>e.jsx(E,{variant:"outline",onClick:()=>window.open(h.endpoint,"_blank"),className:"h-auto p-3 text-left",children:e.jsxs("div",{className:"w-full",children:[e.jsx("div",{className:"font-medium text-sm",children:h.province}),e.jsx("div",{className:"text-xs text-muted-foreground",children:h.name}),e.jsxs(k,{variant:"secondary",className:"text-xs mt-1",children:[h.trustScore,"% Trust"]})]})},h.province))})]}),e.jsxs(ze,{children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx(He,{children:"All authentication methods use official Canadian government and financial institution infrastructure. Your data is processed securely according to Canadian privacy laws."})]})]})]}):e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"w-5 h-5"}),"Canadian Government & Banking Verification"]})}),e.jsxs(N,{children:[e.jsx(ze,{className:"mb-4",children:e.jsx(He,{children:"Verify your identity using official Canadian government services or your banking credentials. This provides the highest level of trust and verification."})}),e.jsx(E,{onClick:c,disabled:a,className:"w-full",children:a?"Loading Methods...":"View Authentication Options"})]})]})}function ek(){const[s,t]=x.useState("pending"),[a,r]=x.useState(null),[i,n]=x.useState(""),{toast:l}=dt(),c=(o,d)=>{r(o),n(d),t("verified"),l({title:"Identity Verified",description:`Successfully verified through ${d}`})};return s==="verified"?e.jsx("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:e.jsxs(b,{children:[e.jsx(P,{className:"text-center",children:e.jsxs(T,{className:"flex items-center justify-center gap-2 text-green-600",children:[e.jsx(z,{className:"w-6 h-6"}),"Identity Verification Complete"]})}),e.jsxs(N,{className:"space-y-4",children:[e.jsxs(ze,{children:[e.jsx(z,{className:"h-4 w-4"}),e.jsxs(He,{children:["Your identity has been successfully verified through ",e.jsx("strong",{children:i}),". You now have full access to all CivicOS features including voting, petitions, and civic engagement."]})]}),a&&e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Verification Details"}),e.jsxs("div",{className:"text-sm space-y-1",children:[a.gcKeyId&&e.jsxs("p",{children:[e.jsx("strong",{children:"GCKey ID:"})," ",a.gcKeyId]}),a.bankId&&e.jsxs("p",{children:[e.jsx("strong",{children:"Bank ID:"})," ",a.bankId]}),a.firstName&&e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",a.firstName," ",a.lastName]}),a.verificationLevel&&e.jsxs("p",{children:[e.jsx("strong",{children:"Level:"})," ",a.verificationLevel]})]})]})]})]})}):e.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[e.jsxs(ze,{className:"border-orange-200 bg-orange-50",children:[e.jsx(ae,{className:"h-4 w-4 text-orange-600"}),e.jsxs(He,{className:"text-orange-700",children:[e.jsx("strong",{children:"TEMPORARY VERIFICATION SYSTEM:"})," Government integrations are currently in development. All users are granted temporary verified access until official GCKey and banking integrations are complete."]})]}),e.jsxs(b,{children:[e.jsxs(P,{className:"text-center",children:[e.jsxs(T,{className:"flex items-center justify-center gap-2",children:[e.jsx(X,{className:"w-6 h-6"}),"Canadian Identity Verification"]}),e.jsx("p",{className:"text-muted-foreground",children:"Verify your identity using official Canadian government or banking credentials"})]}),e.jsxs(N,{children:[e.jsxs(ze,{className:"mb-6",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsx(He,{children:"CivicOS uses official Canadian government and banking infrastructure for secure identity verification. This provides the highest level of trust and security for democratic participation."})]}),e.jsx(ZS,{}),e.jsxs("div",{className:"mt-6 pt-6 border-t",children:[e.jsx(E,{onClick:()=>c({tempVerified:!0,verificationLevel:"Temporary",trustScore:50},"Temporary System"),className:"w-full bg-orange-600 hover:bg-orange-700",children:"Grant Temporary Verification Access"}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2 text-center",children:"Temporary access until government integrations are complete"})]})]})]})]})}const rg=x.forwardRef(({className:s,...t},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:W("w-full caption-bottom text-sm",s),...t})}));rg.displayName="Table";const ig=x.forwardRef(({className:s,...t},a)=>e.jsx("thead",{ref:a,className:W("[&_tr]:border-b",s),...t}));ig.displayName="TableHeader";const ng=x.forwardRef(({className:s,...t},a)=>e.jsx("tbody",{ref:a,className:W("[&_tr:last-child]:border-0",s),...t}));ng.displayName="TableBody";const tk=x.forwardRef(({className:s,...t},a)=>e.jsx("tfoot",{ref:a,className:W("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...t}));tk.displayName="TableFooter";const jo=x.forwardRef(({className:s,...t},a)=>e.jsx("tr",{ref:a,className:W("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...t}));jo.displayName="TableRow";const Va=x.forwardRef(({className:s,...t},a)=>e.jsx("th",{ref:a,className:W("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...t}));Va.displayName="TableHead";const $a=x.forwardRef(({className:s,...t},a)=>e.jsx("td",{ref:a,className:W("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...t}));$a.displayName="TableCell";const sk=x.forwardRef(({className:s,...t},a)=>e.jsx("caption",{ref:a,className:W("mt-4 text-sm text-muted-foreground",s),...t}));sk.displayName="TableCaption";function ak(){const[s,t]=x.useState(null),{toast:a}=dt(),{data:r=[],isLoading:i}=Q({queryKey:["/api/pending-verifications"],retry:!1}),n=Ne({mutationFn:async d=>ye(`/api/admin/identity-verifications/${d}/approve`,"POST"),onSuccess:()=>{ka.invalidateQueries({queryKey:["/api/admin/identity-verifications"]}),a({title:"Verification Approved",description:"User has been granted full platform access"}),t(null)},onError:d=>{a({title:"Approval Failed",description:d.message,variant:"destructive"})}}),l=Ne({mutationFn:async({verificationId:d,reason:h})=>ye(`/api/admin/identity-verifications/${d}/reject`,"POST",{reason:h}),onSuccess:()=>{ka.invalidateQueries({queryKey:["/api/admin/identity-verifications"]}),a({title:"Verification Rejected",description:"User will need to re-submit verification"}),t(null)},onError:d=>{a({title:"Rejection Failed",description:d.message,variant:"destructive"})}}),c=d=>d>=80?e.jsx(k,{variant:"destructive",children:"High Risk"}):d>=50?e.jsx(k,{variant:"outline",className:"border-yellow-500 text-yellow-700",children:"Medium Risk"}):e.jsx(k,{variant:"default",className:"bg-green-600",children:"Low Risk"}),o=d=>{switch(d){case"pending":return e.jsxs(k,{variant:"outline",children:[e.jsx(tt,{className:"w-3 h-3 mr-1"}),"Pending"]});case"reviewing":return e.jsxs(k,{variant:"outline",className:"border-blue-500 text-blue-700",children:[e.jsx(Ce,{className:"w-3 h-3 mr-1"}),"Reviewing"]});case"approved":return e.jsxs(k,{variant:"default",className:"bg-green-600",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Approved"]});case"rejected":return e.jsxs(k,{variant:"destructive",children:[e.jsx(hs,{className:"w-3 h-3 mr-1"}),"Rejected"]});default:return e.jsx(k,{variant:"outline",children:"Unknown"})}};return i?e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"animate-pulse space-y-4",children:[e.jsx("div",{className:"h-8 bg-slate-200 rounded w-1/4"}),e.jsx("div",{className:"h-64 bg-slate-200 rounded"})]})}):e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("h1",{className:"text-2xl font-bold text-slate-900 flex items-center space-x-2",children:[e.jsx(X,{className:"w-6 h-6"}),e.jsx("span",{children:"Identity Verification Review"})]}),e.jsx("p",{className:"text-slate-600 mt-1",children:"Review and approve pending identity verifications for CivicOS access"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsxs(T,{children:["Pending Verifications (",r.length,")"]})}),e.jsx(N,{children:r.length===0?e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(X,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No pending verifications"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(rg,{children:[e.jsx(ig,{children:e.jsxs(jo,{children:[e.jsx(Va,{children:"User"}),e.jsx(Va,{children:"Submitted"}),e.jsx(Va,{children:"Risk Score"}),e.jsx(Va,{children:"Status"}),e.jsx(Va,{children:"Actions"})]})}),e.jsx(ng,{children:r.map(d=>e.jsxs(jo,{className:(s==null?void 0:s.id)===d.id?"bg-blue-50":"",children:[e.jsx($a,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:d.email}),e.jsxs("p",{className:"text-sm text-slate-500",children:["ID: ",d.userId]})]})}),e.jsx($a,{children:e.jsxs("div",{className:"text-sm",children:[new Date(d.submittedAt).toLocaleDateString(),e.jsx("br",{}),new Date(d.submittedAt).toLocaleTimeString()]})}),e.jsxs($a,{children:[c(d.riskScore),e.jsx("br",{}),e.jsxs("span",{className:"text-sm text-slate-500",children:[d.riskScore,"%"]})]}),e.jsx($a,{children:o(d.status)}),e.jsx($a,{children:e.jsxs(E,{variant:"outline",size:"sm",onClick:()=>t(d),children:[e.jsx(Ce,{className:"w-4 h-4 mr-1"}),"Review"]})})]},d.id))})]})})})]})}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs(b,{children:[e.jsx(P,{children:e.jsx(T,{children:"Verification Details"})}),e.jsx(N,{children:s?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"User Information"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Email:"})," ",s.email]}),e.jsxs("p",{children:[e.jsx("strong",{children:"User ID:"})," ",s.userId]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Submitted:"})," ",new Date(s.submittedAt).toLocaleString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"IP:"})," ",s.metadata.ipAddress]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Location:"})," ",s.metadata.geolocation]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Risk Assessment"}),e.jsxs("div",{className:"space-y-2",children:[c(s.riskScore),s.flaggedReasons.length>0&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-red-600 mb-1",children:"Flagged Issues:"}),e.jsx("ul",{className:"text-sm space-y-1",children:s.flaggedReasons.map((d,h)=>e.jsxs("li",{className:"flex items-center space-x-1",children:[e.jsx(ae,{className:"w-3 h-3 text-red-500"}),e.jsx("span",{children:d})]},h))})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Duplicate Checks"}),e.jsxs("div",{className:"space-y-1 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.metadata.duplicateChecks.idHash?e.jsx(hs,{className:"w-4 h-4 text-red-500"}):e.jsx(z,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"ID Hash Check"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.metadata.duplicateChecks.faceVector?e.jsx(hs,{className:"w-4 h-4 text-red-500"}):e.jsx(z,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"Face Vector Check"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[s.metadata.duplicateChecks.ipMatch?e.jsx(hs,{className:"w-4 h-4 text-red-500"}):e.jsx(z,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{children:"IP Match Check"})]})]})]}),s.faceMatchScore&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Face Verification"}),e.jsxs("div",{className:"text-sm",children:[e.jsxs("p",{children:["Match Score: ",e.jsxs("strong",{children:[s.faceMatchScore.toFixed(1),"%"]})]}),s.faceMatchScore>=75?e.jsxs(k,{variant:"default",className:"bg-green-600 mt-1",children:[e.jsx(z,{className:"w-3 h-3 mr-1"}),"Match Verified"]}):e.jsxs(k,{variant:"destructive",className:"mt-1",children:[e.jsx(ae,{className:"w-3 h-3 mr-1"}),"Low Match Score"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Uploaded Documents"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(E,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"View ID Front"]}),e.jsxs(E,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"View ID Back"]}),e.jsxs(E,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"View Selfie"]}),s.documents.livenessVideo&&e.jsxs(E,{variant:"outline",size:"sm",className:"w-full",children:[e.jsx(ce,{className:"w-4 h-4 mr-2"}),"View Liveness Video"]})]})]}),e.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[e.jsxs(E,{onClick:()=>n.mutate(s.id.toString()),disabled:n.isPending,className:"w-full bg-green-600 hover:bg-green-700",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Approve Verification"]}),e.jsxs(E,{onClick:()=>l.mutate({verificationId:s.id.toString(),reason:"Failed manual review"}),disabled:l.isPending,variant:"destructive",className:"w-full",children:[e.jsx(hs,{className:"w-4 h-4 mr-2"}),"Reject Verification"]})]})]}):e.jsxs("div",{className:"text-center py-8 text-slate-500",children:[e.jsx(Ce,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a verification to review"})]})})]})})]})]})}var $n="Checkbox",[rk,$P]=Ys($n),[ik,Ac]=rk($n);function nk(s){const{__scopeCheckbox:t,checked:a,children:r,defaultChecked:i,disabled:n,form:l,name:c,onCheckedChange:o,required:d,value:h="on",internal_do_not_use_render:u}=s,[m,p]=or({prop:a,defaultProp:i??!1,onChange:o,caller:$n}),[j,g]=x.useState(null),[f,w]=x.useState(null),y=x.useRef(!1),v=j?!!l||!!j.closest("form"):!0,A={checked:m,disabled:n,setChecked:p,control:j,setControl:g,name:c,form:l,value:h,hasConsumerStoppedPropagationRef:y,required:d,defaultChecked:qs(i)?!1:i,isFormControl:v,bubbleInput:f,setBubbleInput:w};return e.jsx(ik,{scope:t,...A,children:lk(u)?u(A):r})}var lg="CheckboxTrigger",og=x.forwardRef(({__scopeCheckbox:s,onKeyDown:t,onClick:a,...r},i)=>{const{control:n,value:l,disabled:c,checked:o,required:d,setControl:h,setChecked:u,hasConsumerStoppedPropagationRef:m,isFormControl:p,bubbleInput:j}=Ac(lg,s),g=De(i,h),f=x.useRef(o);return x.useEffect(()=>{const w=n==null?void 0:n.form;if(w){const y=()=>u(f.current);return w.addEventListener("reset",y),()=>w.removeEventListener("reset",y)}},[n,u]),e.jsx(he.button,{type:"button",role:"checkbox","aria-checked":qs(o)?"mixed":o,"aria-required":d,"data-state":mg(o),"data-disabled":c?"":void 0,disabled:c,value:l,...r,ref:g,onKeyDown:se(t,w=>{w.key==="Enter"&&w.preventDefault()}),onClick:se(a,w=>{u(y=>qs(y)?!0:!y),j&&p&&(m.current=w.isPropagationStopped(),m.current||w.stopPropagation())})})});og.displayName=lg;var Rc=x.forwardRef((s,t)=>{const{__scopeCheckbox:a,name:r,checked:i,defaultChecked:n,required:l,disabled:c,value:o,onCheckedChange:d,form:h,...u}=s;return e.jsx(nk,{__scopeCheckbox:a,checked:i,defaultChecked:n,disabled:c,required:l,onCheckedChange:d,name:r,form:h,value:o,internal_do_not_use_render:({isFormControl:m})=>e.jsxs(e.Fragment,{children:[e.jsx(og,{...u,ref:t,__scopeCheckbox:a}),m&&e.jsx(ug,{__scopeCheckbox:a})]})})});Rc.displayName=$n;var cg="CheckboxIndicator",dg=x.forwardRef((s,t)=>{const{__scopeCheckbox:a,forceMount:r,...i}=s,n=Ac(cg,a);return e.jsx(Ea,{present:r||qs(n.checked)||n.checked===!0,children:e.jsx(he.span,{"data-state":mg(n.checked),"data-disabled":n.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...s.style}})})});dg.displayName=cg;var hg="CheckboxBubbleInput",ug=x.forwardRef(({__scopeCheckbox:s,...t},a)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:n,defaultChecked:l,required:c,disabled:o,name:d,value:h,form:u,bubbleInput:m,setBubbleInput:p}=Ac(hg,s),j=De(a,p),g=Qo(n),f=Pu(r);x.useEffect(()=>{const y=m;if(!y)return;const v=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(v,"checked").set,O=!i.current;if(g!==n&&C){const M=new Event("click",{bubbles:O});y.indeterminate=qs(n),C.call(y,qs(n)?!1:n),y.dispatchEvent(M)}},[m,g,n,i]);const w=x.useRef(qs(n)?!1:n);return e.jsx(he.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??w.current,required:c,disabled:o,name:d,value:h,form:u,...t,tabIndex:-1,ref:j,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});ug.displayName=hg;function lk(s){return typeof s=="function"}function qs(s){return s==="indeterminate"}function mg(s){return qs(s)?"indeterminate":s?"checked":"unchecked"}const xg=x.forwardRef(({className:s,...t},a)=>e.jsx(Rc,{ref:a,className:W("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:e.jsx(dg,{className:W("flex items-center justify-center text-current"),children:e.jsx(wn,{className:"h-4 w-4"})})}));xg.displayName=Rc.displayName;function ok({onAgree:s}){const[t,a]=x.useState(!1),[,r]=mi(),i=()=>{t&&(localStorage.setItem("civicos-manifesto-agreed","true"),localStorage.setItem("civicos-manifesto-date",new Date().toISOString()),s?s():r("/dashboard"))};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-800",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-4",children:[e.jsx(X,{className:"w-8 h-8 text-blue-400"}),e.jsx("h1",{className:"text-4xl font-bold text-white",children:"CivicOS"})]}),e.jsx(k,{className:"bg-blue-600 text-white px-4 py-1",children:"Sovereign Intelligence Platform"})]}),e.jsxs(b,{className:"bg-white/95 dark:bg-slate-800/95 backdrop-blur-sm border-slate-200 dark:border-slate-700 mb-8",children:[e.jsxs(P,{className:"text-center pb-6",children:[e.jsx(T,{className:"text-3xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Why I Built CivicOS"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg",children:"A Message from the Creator"})]}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"prose prose-slate dark:prose-invert max-w-none",children:[e.jsxs("p",{className:"text-lg leading-relaxed",children:["CivicOS was born from ",e.jsx("strong",{children:"necessity"}),", not theory."]}),e.jsx("p",{className:"leading-relaxed",children:"I built this system because I was tired of watching institutions lie with impunity, elected officials escape scrutiny, and everyday citizens being gaslit by the very mechanisms meant to serve them. Our current information environment rewards confusion, not clarity. Distraction, not decision. Obedience, not ownership."}),e.jsx("p",{className:"text-xl font-semibold text-center py-4 text-blue-600 dark:text-blue-400",children:"CivicOS exists to reverse that."}),e.jsxs("p",{className:"leading-relaxed",children:["This is not just another political dashboard. CivicOS is a ",e.jsx("strong",{children:"sovereign intelligence interface"}),"a platform designed to track, decode, and expose the true behavior of governments, lobbyists, lawmakers, and media narratives in real time. It empowers citizens with structured truth: verified data, legislative transparency, and behavioral accountability."]}),e.jsx("p",{className:"leading-relaxed",children:"I didn't build CivicOS because I believed the system could be fixed. I built it because I know the people still deserve tools that let them see it clearly, navigate it precisely, andif necessarystand against it fully informed."}),e.jsx("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6 my-6",children:e.jsx("p",{className:"leading-relaxed mb-4",children:"This project is part of a larger ecosystem I'm building. CivicOS connects to the same core philosophy that drives PrometheOS, PersonaOS, and ScheduleOS: systems that return power to the individual by removing confusion, cutting through noise, and enforcing clarity of action."})}),e.jsx("p",{className:"leading-relaxed",children:"If you've ever felt like your voice didn't matter, your vote didn't count, or your government didn't hear youthis platform was built for you. Not to convince you. But to arm you."}),e.jsxs("div",{className:"text-center py-6",children:[e.jsx("h3",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100 mb-2",children:"Welcome to CivicOS."}),e.jsx("p",{className:"text-xl font-semibold text-red-600 dark:text-red-400",children:"Transparency is no longer optional."})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-8",children:[e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[e.jsx(Ce,{className:"w-6 h-6 text-blue-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Radical Transparency"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Real-time tracking of all government actions and decisions"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[e.jsx(Hs,{className:"w-6 h-6 text-green-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Behavioral Accountability"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tracking actions vs. promises with verification systems"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg",children:[e.jsx(pi,{className:"w-6 h-6 text-purple-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Sovereign Intelligence"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Independent analysis free from institutional bias"})]})]}),e.jsxs("div",{className:"flex items-start space-x-3 p-4 bg-orange-50 dark:bg-orange-900/20 rounded-lg",children:[e.jsx(de,{className:"w-6 h-6 text-orange-600 mt-1"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-slate-900 dark:text-slate-100",children:"Citizen Empowerment"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Tools that give individuals real democratic power"})]})]})]}),e.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6 mt-8",children:e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"Built by Jordan Kenneth Boisclair"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Founder & Chief Architect   2025 CivicOS"}),e.jsx("p",{className:"text-xs text-slate-500 dark:text-slate-500 mt-2",children:"All rights reserved. CivicOS is a trademark of Jordan Kenneth Boisclair."})]})}),e.jsx("div",{className:"border-t border-slate-200 dark:border-slate-700 pt-6 mt-8",children:e.jsxs("div",{className:"bg-slate-50 dark:bg-slate-700 rounded-lg p-6",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(xg,{id:"manifesto-agreement",checked:t,onCheckedChange:n=>a(n),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{htmlFor:"manifesto-agreement",className:"text-sm font-medium text-slate-900 dark:text-slate-100 cursor-pointer",children:"I understand the purpose and philosophy of CivicOS"}),e.jsx("p",{className:"text-xs text-slate-600 dark:text-slate-400 mt-1",children:"By checking this box, you acknowledge that you understand CivicOS is designed to provide transparent access to government data and democratic tools for citizen engagement."})]})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(E,{onClick:i,disabled:!t,className:"bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 text-lg",children:t?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{className:"w-5 h-5"}),e.jsx("span",{children:"Enter CivicOS"})]}):"Agree to Continue"})})]})})]})]})]})})}function Oh(){return e.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:e.jsx(b,{className:"w-full max-w-md mx-4",children:e.jsxs(N,{className:"pt-6",children:[e.jsxs("div",{className:"flex mb-4 gap-2",children:[e.jsx(ts,{className:"h-8 w-8 text-red-500"}),e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),e.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const ck="modulepreload",dk=function(s){return"/"+s},Fh={},bi=function(t,a,r){let i=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(a.map(o=>{if(o=dk(o),o in Fh)return;Fh[o]=!0;const d=o.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${h}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":ck,d||(u.as="script"),u.crossOrigin="",u.href=o,c&&u.setAttribute("nonce",c),document.head.appendChild(u),d)return new Promise((m,p)=>{u.addEventListener("load",m),u.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${o}`)))})}))}function n(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&n(c.reason);return t().catch(n)})},hk=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...a)=>bi(async()=>{const{default:r}=await Promise.resolve().then(()=>Pr);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)};class Ec extends Error{constructor(t,a="FunctionsError",r){super(t),this.name=a,this.context=r}}class uk extends Ec{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Vh extends Ec{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $h extends Ec{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var yo;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(yo||(yo={}));var mk=function(s,t,a,r){function i(n){return n instanceof a?n:new a(function(l){l(n)})}return new(a||(a=Promise))(function(n,l){function c(h){try{d(r.next(h))}catch(u){l(u)}}function o(h){try{d(r.throw(h))}catch(u){l(u)}}function d(h){h.done?n(h.value):i(h.value).then(c,o)}d((r=r.apply(s,t||[])).next())})};class xk{constructor(t,{headers:a={},customFetch:r,region:i=yo.Any}={}){this.url=t,this.headers=a,this.region=i,this.fetch=hk(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,a={}){var r;return mk(this,void 0,void 0,function*(){try{const{headers:i,method:n,body:l}=a;let c={},{region:o}=a;o||(o=this.region);const d=new URL(`${this.url}/${t}`);o&&o!=="any"&&(c["x-region"]=o,d.searchParams.set("forceFunctionRegion",o));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(c["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(c["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(c["Content-Type"]="application/json",h=JSON.stringify(l)));const u=yield this.fetch(d.toString(),{method:n||"POST",headers:Object.assign(Object.assign(Object.assign({},c),this.headers),i),body:h}).catch(g=>{throw new uk(g)}),m=u.headers.get("x-relay-error");if(m&&m==="true")throw new Vh(u);if(!u.ok)throw new $h(u);let p=((r=u.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),j;return p==="application/json"?j=yield u.json():p==="application/octet-stream"?j=yield u.blob():p==="text/event-stream"?j=u:p==="multipart/form-data"?j=yield u.formData():j=yield u.text(),{data:j,error:null,response:u}}catch(i){return{data:null,error:i,response:i instanceof $h||i instanceof Vh?i.context:void 0}}})}}var yt={},_c={},Un={},Ni={},Bn={},qn={},fk=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},yr=fk();const pk=yr.fetch,fg=yr.fetch.bind(yr),pg=yr.Headers,gk=yr.Request,vk=yr.Response,Pr=Object.freeze(Object.defineProperty({__proto__:null,Headers:pg,Request:gk,Response:vk,default:fg,fetch:pk},Symbol.toStringTag,{value:"Module"})),jk=Yg(Pr);var zn={};Object.defineProperty(zn,"__esModule",{value:!0});let yk=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};zn.default=yk;var gg=Ft&&Ft.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(qn,"__esModule",{value:!0});const bk=gg(jk),Nk=gg(zn);let wk=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=bk.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,a){return this.headers=Object.assign({},this.headers),this.headers[t]=a,this}then(t,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async n=>{var l,c,o;let d=null,h=null,u=null,m=n.status,p=n.statusText;if(n.ok){if(this.method!=="HEAD"){const w=await n.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?h=w:h=JSON.parse(w))}const g=(l=this.headers.Prefer)===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),f=(c=n.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&f&&f.length>1&&(u=parseInt(f[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,u=null,m=406,p="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const g=await n.text();try{d=JSON.parse(g),Array.isArray(d)&&n.status===404&&(h=[],d=null,m=200,p="OK")}catch{n.status===404&&g===""?(m=204,p="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((o=d==null?void 0:d.details)===null||o===void 0)&&o.includes("0 rows"))&&(d=null,m=200,p="OK"),d&&this.shouldThrowOnError)throw new Nk.default(d)}return{error:d,data:h,count:u,status:m,statusText:p}});return this.shouldThrowOnError||(i=i.catch(n=>{var l,c,o;return{error:{message:`${(l=n==null?void 0:n.name)!==null&&l!==void 0?l:"FetchError"}: ${n==null?void 0:n.message}`,details:`${(c=n==null?void 0:n.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(o=n==null?void 0:n.code)!==null&&o!==void 0?o:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,a)}returns(){return this}overrideTypes(){return this}};qn.default=wk;var Ck=Ft&&Ft.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Bn,"__esModule",{value:!0});const Sk=Ck(qn);let kk=class extends Sk.default{select(t){let a=!1;const r=(t??"*").split("").map(i=>/\s/.test(i)&&!a?"":(i==='"'&&(a=!a),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:a=!0,nullsFirst:r,foreignTable:i,referencedTable:n=i}={}){const l=n?`${n}.order`:"order",c=this.url.searchParams.get(l);return this.url.searchParams.set(l,`${c?`${c},`:""}${t}.${a?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:a,referencedTable:r=a}={}){const i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,a,{foreignTable:r,referencedTable:i=r}={}){const n=typeof i>"u"?"offset":`${i}.offset`,l=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(n,`${t}`),this.url.searchParams.set(l,`${a-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:a=!1,settings:r=!1,buffers:i=!1,wal:n=!1,format:l="text"}={}){var c;const o=[t?"analyze":null,a?"verbose":null,r?"settings":null,i?"buffers":null,n?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.Accept)!==null&&c!==void 0?c:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${l}; for="${d}"; options=${o};`,l==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Bn.default=kk;var Pk=Ft&&Ft.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Ni,"__esModule",{value:!0});const Tk=Pk(Bn);let Ak=class extends Tk.default{eq(t,a){return this.url.searchParams.append(t,`eq.${a}`),this}neq(t,a){return this.url.searchParams.append(t,`neq.${a}`),this}gt(t,a){return this.url.searchParams.append(t,`gt.${a}`),this}gte(t,a){return this.url.searchParams.append(t,`gte.${a}`),this}lt(t,a){return this.url.searchParams.append(t,`lt.${a}`),this}lte(t,a){return this.url.searchParams.append(t,`lte.${a}`),this}like(t,a){return this.url.searchParams.append(t,`like.${a}`),this}likeAllOf(t,a){return this.url.searchParams.append(t,`like(all).{${a.join(",")}}`),this}likeAnyOf(t,a){return this.url.searchParams.append(t,`like(any).{${a.join(",")}}`),this}ilike(t,a){return this.url.searchParams.append(t,`ilike.${a}`),this}ilikeAllOf(t,a){return this.url.searchParams.append(t,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(t,a){return this.url.searchParams.append(t,`ilike(any).{${a.join(",")}}`),this}is(t,a){return this.url.searchParams.append(t,`is.${a}`),this}in(t,a){const r=Array.from(new Set(a)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cs.{${a.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(a)}`),this}containedBy(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cd.{${a.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(a)}`),this}rangeGt(t,a){return this.url.searchParams.append(t,`sr.${a}`),this}rangeGte(t,a){return this.url.searchParams.append(t,`nxl.${a}`),this}rangeLt(t,a){return this.url.searchParams.append(t,`sl.${a}`),this}rangeLte(t,a){return this.url.searchParams.append(t,`nxr.${a}`),this}rangeAdjacent(t,a){return this.url.searchParams.append(t,`adj.${a}`),this}overlaps(t,a){return typeof a=="string"?this.url.searchParams.append(t,`ov.${a}`):this.url.searchParams.append(t,`ov.{${a.join(",")}}`),this}textSearch(t,a,{config:r,type:i}={}){let n="";i==="plain"?n="pl":i==="phrase"?n="ph":i==="websearch"&&(n="w");const l=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${n}fts${l}.${a}`),this}match(t){return Object.entries(t).forEach(([a,r])=>{this.url.searchParams.append(a,`eq.${r}`)}),this}not(t,a,r){return this.url.searchParams.append(t,`not.${a}.${r}`),this}or(t,{foreignTable:a,referencedTable:r=a}={}){const i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,a,r){return this.url.searchParams.append(t,`${a}.${r}`),this}};Ni.default=Ak;var Rk=Ft&&Ft.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Un,"__esModule",{value:!0});const Lr=Rk(Ni);let Ek=class{constructor(t,{headers:a={},schema:r,fetch:i}){this.url=t,this.headers=a,this.schema=r,this.fetch=i}select(t,{head:a=!1,count:r}={}){const i=a?"HEAD":"GET";let n=!1;const l=(t??"*").split("").map(c=>/\s/.test(c)&&!n?"":(c==='"'&&(n=!n),c)).join("");return this.url.searchParams.set("select",l),r&&(this.headers.Prefer=`count=${r}`),new Lr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:a,defaultToNull:r=!0}={}){const i="POST",n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),a&&n.push(`count=${a}`),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(t)){const l=t.reduce((c,o)=>c.concat(Object.keys(o)),[]);if(l.length>0){const c=[...new Set(l)].map(o=>`"${o}"`);this.url.searchParams.set("columns",c.join(","))}}return new Lr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:a,ignoreDuplicates:r=!1,count:i,defaultToNull:n=!0}={}){const l="POST",c=[`resolution=${r?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&c.push(this.headers.Prefer),i&&c.push(`count=${i}`),n||c.push("missing=default"),this.headers.Prefer=c.join(","),Array.isArray(t)){const o=t.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(o.length>0){const d=[...new Set(o)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new Lr.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:a}={}){const r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),a&&i.push(`count=${a}`),this.headers.Prefer=i.join(","),new Lr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const a="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Lr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Un.default=Ek;var Hn={},Wn={};Object.defineProperty(Wn,"__esModule",{value:!0});Wn.version=void 0;Wn.version="0.0.0-automated";Object.defineProperty(Hn,"__esModule",{value:!0});Hn.DEFAULT_HEADERS=void 0;const _k=Wn;Hn.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${_k.version}`};var vg=Ft&&Ft.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(_c,"__esModule",{value:!0});const Ik=vg(Un),Mk=vg(Ni),Dk=Hn;let Lk=class jg{constructor(t,{headers:a={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Dk.DEFAULT_HEADERS),a),this.schemaName=r,this.fetch=i}from(t){const a=new URL(`${this.url}/${t}`);return new Ik.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new jg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:r=!1,get:i=!1,count:n}={}){let l;const c=new URL(`${this.url}/rpc/${t}`);let o;r||i?(l=r?"HEAD":"GET",Object.entries(a).filter(([h,u])=>u!==void 0).map(([h,u])=>[h,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([h,u])=>{c.searchParams.append(h,u)})):(l="POST",o=a);const d=Object.assign({},this.headers);return n&&(d.Prefer=`count=${n}`),new Mk.default({method:l,url:c,headers:d,schema:this.schemaName,body:o,fetch:this.fetch,allowEmpty:!1})}};_c.default=Lk;var Tr=Ft&&Ft.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(yt,"__esModule",{value:!0});yt.PostgrestError=yt.PostgrestBuilder=yt.PostgrestTransformBuilder=yt.PostgrestFilterBuilder=yt.PostgrestQueryBuilder=yt.PostgrestClient=void 0;const yg=Tr(_c);yt.PostgrestClient=yg.default;const bg=Tr(Un);yt.PostgrestQueryBuilder=bg.default;const Ng=Tr(Ni);yt.PostgrestFilterBuilder=Ng.default;const wg=Tr(Bn);yt.PostgrestTransformBuilder=wg.default;const Cg=Tr(qn);yt.PostgrestBuilder=Cg.default;const Sg=Tr(zn);yt.PostgrestError=Sg.default;var Ok=yt.default={PostgrestClient:yg.default,PostgrestQueryBuilder:bg.default,PostgrestFilterBuilder:Ng.default,PostgrestTransformBuilder:wg.default,PostgrestBuilder:Cg.default,PostgrestError:Sg.default};const{PostgrestClient:Fk,PostgrestQueryBuilder:WP,PostgrestFilterBuilder:KP,PostgrestTransformBuilder:GP,PostgrestBuilder:QP,PostgrestError:JP}=Ok;function Vk(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const $k=Vk(),Uk="2.11.15",Bk=`realtime-js/${Uk}`,qk="1.0.0",kg=1e4,zk=1e3;var Qr;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Qr||(Qr={}));var at;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(at||(at={}));var Wt;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Wt||(Wt={}));var bo;(function(s){s.websocket="websocket"})(bo||(bo={}));var ha;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(ha||(ha={}));class Hk{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,a,r)}_decodeBroadcast(t,a,r){const i=a.getUint8(1),n=a.getUint8(2);let l=this.HEADER_LENGTH+2;const c=r.decode(t.slice(l,l+i));l=l+i;const o=r.decode(t.slice(l,l+n));l=l+n;const d=JSON.parse(r.decode(t.slice(l,t.byteLength)));return{ref:null,topic:c,event:o,payload:d}}}class Pg{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var we;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(we||(we={}));const Uh=(s,t,a={})=>{var r;const i=(r=a.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((n,l)=>(n[l]=Wk(l,s,t,i),n),{})},Wk=(s,t,a,r)=>{const i=t.find(c=>c.name===s),n=i==null?void 0:i.type,l=a[s];return n&&!r.includes(n)?Tg(n,l):No(l)},Tg=(s,t)=>{if(s.charAt(0)==="_"){const a=s.slice(1,s.length);return Jk(t,a)}switch(s){case we.bool:return Kk(t);case we.float4:case we.float8:case we.int2:case we.int4:case we.int8:case we.numeric:case we.oid:return Gk(t);case we.json:case we.jsonb:return Qk(t);case we.timestamp:return Yk(t);case we.abstime:case we.date:case we.daterange:case we.int4range:case we.int8range:case we.money:case we.reltime:case we.text:case we.time:case we.timestamptz:case we.timetz:case we.tsrange:case we.tstzrange:return No(t);default:return No(t)}},No=s=>s,Kk=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},Gk=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},Qk=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch(t){return console.log(`JSON parse error: ${t}`),s}return s},Jk=(s,t)=>{if(typeof s!="string")return s;const a=s.length-1,r=s[a];if(s[0]==="{"&&r==="}"){let n;const l=s.slice(1,a);try{n=JSON.parse("["+l+"]")}catch{n=l?l.split(","):[]}return n.map(c=>Tg(t,c))}return s},Yk=s=>typeof s=="string"?s.replace(" ","T"):s,Ag=s=>{let t=s;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class Nl{constructor(t,a,r={},i=kg){this.channel=t,this.event=a,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var r;return this._hasReceived(t)&&a((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bh;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Bh||(Bh={}));class Jr{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:n,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Jr.syncState(this.state,i,n,l),this.pendingDiffs.forEach(o=>{this.state=Jr.syncDiff(this.state,o,n,l)}),this.pendingDiffs=[],c()}),this.channel._on(r.diff,{},i=>{const{onJoin:n,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Jr.syncDiff(this.state,i,n,l),c())}),this.onJoin((i,n,l)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:n,newPresences:l})}),this.onLeave((i,n,l)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:n,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,r,i){const n=this.cloneDeep(t),l=this.transformState(a),c={},o={};return this.map(n,(d,h)=>{l[d]||(o[d]=h)}),this.map(l,(d,h)=>{const u=n[d];if(u){const m=h.map(f=>f.presence_ref),p=u.map(f=>f.presence_ref),j=h.filter(f=>p.indexOf(f.presence_ref)<0),g=u.filter(f=>m.indexOf(f.presence_ref)<0);j.length>0&&(c[d]=j),g.length>0&&(o[d]=g)}else c[d]=h}),this.syncDiff(n,{joins:c,leaves:o},r,i)}static syncDiff(t,a,r,i){const{joins:n,leaves:l}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(n,(c,o)=>{var d;const h=(d=t[c])!==null&&d!==void 0?d:[];if(t[c]=this.cloneDeep(o),h.length>0){const u=t[c].map(p=>p.presence_ref),m=h.filter(p=>u.indexOf(p.presence_ref)<0);t[c].unshift(...m)}r(c,h,o)}),this.map(l,(c,o)=>{let d=t[c];if(!d)return;const h=o.map(u=>u.presence_ref);d=d.filter(u=>h.indexOf(u.presence_ref)<0),t[c]=d,i(c,d,o),d.length===0&&delete t[c]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(r=>a(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,r)=>{const i=t[r];return"metas"in i?a[r]=i.metas.map(n=>(n.presence_ref=n.phx_ref,delete n.phx_ref,delete n.phx_ref_prev,n)):a[r]=i,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qh;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(qh||(qh={}));var zh;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(zh||(zh={}));var ls;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(ls||(ls={}));class Ic{constructor(t,a={config:{}},r){this.topic=t,this.params=a,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new Nl(this,Wt.join,this.params,this.timeout),this.rejoinTimer=new Pg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Wt.reply,{},(i,n)=>{this._trigger(this._replyEventName(n),i)}),this.presence=new Jr(this),this.broadcastEndpointURL=Ag(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,a=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:n,presence:l,private:c}}=this.params;this._onError(h=>t==null?void 0:t(ls.CHANNEL_ERROR,h)),this._onClose(()=>t==null?void 0:t(ls.CLOSED));const o={},d={broadcast:n,presence:l,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],private:c};this.socket.accessTokenValue&&(o.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},o)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:h})=>{var u;if(this.socket.setAuth(),h===void 0){t==null||t(ls.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,p=(u=m==null?void 0:m.length)!==null&&u!==void 0?u:0,j=[];for(let g=0;g<p;g++){const f=m[g],{filter:{event:w,schema:y,table:v,filter:A}}=f,C=h&&h[g];if(C&&C.event===w&&C.schema===y&&C.table===v&&C.filter===A)j.push(Object.assign(Object.assign({},f),{id:C.id}));else{this.unsubscribe(),this.state=at.errored,t==null||t(ls.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,t&&t(ls.SUBSCRIBED);return}}).receive("error",h=>{this.state=at.errored,t==null||t(ls.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(ls.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,r){return this._on(t,a,r)}async send(t,a={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){const{event:n,payload:l}=t,o={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:l,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(n=>{var l,c,o;const d=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((o=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||o===void 0)&&o.ack)&&n("ok"),d.receive("ok",()=>n("ok")),d.receive("error",()=>n("error")),d.receive("timeout",()=>n("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Wt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Nl(this,Wt.leave,{},t),r.receive("ok",()=>{a(),i("ok")}).receive("timeout",()=>{a(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,a,r){const i=new AbortController,n=setTimeout(()=>i.abort(),r),l=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:i.signal}));return clearTimeout(n),l}_push(t,a,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Nl(this,t,a,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,a,r){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,r){var i,n;const l=t.toLocaleLowerCase(),{close:c,error:o,leave:d,join:h}=Wt;if(r&&[c,o,d,h].indexOf(l)>=0&&r!==this._joinRef())return;let m=this._onMessage(l,a,r);if(a&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(p=>{var j,g,f;return((j=p.filter)===null||j===void 0?void 0:j.event)==="*"||((f=(g=p.filter)===null||g===void 0?void 0:g.event)===null||f===void 0?void 0:f.toLocaleLowerCase())===l}).map(p=>p.callback(m,r)):(n=this.bindings[l])===null||n===void 0||n.filter(p=>{var j,g,f,w,y,v;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in p){const A=p.id,C=(j=p.filter)===null||j===void 0?void 0:j.event;return A&&((g=a.ids)===null||g===void 0?void 0:g.includes(A))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((f=a.data)===null||f===void 0?void 0:f.type.toLocaleLowerCase()))}else{const A=(y=(w=p==null?void 0:p.filter)===null||w===void 0?void 0:w.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return A==="*"||A===((v=a==null?void 0:a.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===l}).map(p=>{if(typeof m=="object"&&"ids"in m){const j=m.data,{schema:g,table:f,commit_timestamp:w,type:y,errors:v}=j;m=Object.assign(Object.assign({},{schema:g,table:f,commit_timestamp:w,eventType:y,new:{},old:{},errors:v}),this._getPayloadRecords(j))}p.callback(m,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,r){const i=t.toLocaleLowerCase(),n={type:i,filter:a,callback:r};return this.bindings[i]?this.bindings[i].push(n):this.bindings[i]=[n],this}_off(t,a){const r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var n;return!(((n=i.type)===null||n===void 0?void 0:n.toLocaleLowerCase())===r&&Ic.isEqual(i.filter,a))}),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const r in t)if(t[r]!==a[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Wt.close,{},t)}_onError(t){this._on(Wt.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Uh(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Uh(t.columns,t.old_record)),a}}const Hh=()=>{},Xk=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zk{constructor(t,a){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=kg,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Hh,this.ref=0,this.logger=Hh,this.conn=null,this.sendBuffer=[],this.serializer=new Hk,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=n=>{let l;return n?l=n:typeof fetch>"u"?l=(...c)=>bi(async()=>{const{default:o}=await Promise.resolve().then(()=>Pr);return{default:o}},void 0).then(({default:o})=>o(...c)):l=fetch,(...c)=>l(...c)},this.endPoint=`${t}/${bo.websocket}`,this.httpEndpoint=Ag(t),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const i=(r=a==null?void 0:a.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:n=>[1e3,2e3,5e3,1e4][n-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(n,l)=>l(JSON.stringify(n)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pg(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=$k),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qk}))}disconnect(t,a){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,r){this.logger(t,a,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qr.connecting:return ha.Connecting;case Qr.open:return ha.Open;case Qr.closing:return ha.Closing;default:return ha.Closed}}isConnected(){return this.connectionState()===ha.Open}channel(t,a={config:{}}){const r=`realtime:${t}`,i=this.getChannels().find(n=>n.topic===r);if(i)return i;{const n=new Ic(`realtime:${t}`,a,this);return this.channels.push(n),n}}push(t){const{topic:a,event:r,payload:i,ref:n}=t,l=()=>{this.encode(t,c=>{var o;(o=this.conn)===null||o===void 0||o.send(c)})};this.log("push",`${a} ${r} (${n})`,i),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){let a=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(r=>{const i={access_token:a,version:Bk};a&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Wt.access_token,{access_token:a})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(zk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,a=>{let{topic:r,event:i,payload:n,ref:l}=a;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),l&&l===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${n.status||""} ${r} ${i} ${l&&"("+l+")"||""}`,n),Array.from(this.channels).filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,n,l)),this.stateChangeCallbacks.message.forEach(c=>c(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Wt.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const r=t.match(/\?/)?"&":"?",i=new URLSearchParams(a);return`${t}${r}${i}`}_workerObjectUrl(t){let a;if(t)a=t;else{const r=new Blob([Xk],{type:"application/javascript"});a=URL.createObjectURL(r)}return a}}class Mc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function We(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}class e4 extends Mc{constructor(t,a){super(t),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class wo extends Mc{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}var t4=function(s,t,a,r){function i(n){return n instanceof a?n:new a(function(l){l(n)})}return new(a||(a=Promise))(function(n,l){function c(h){try{d(r.next(h))}catch(u){l(u)}}function o(h){try{d(r.throw(h))}catch(u){l(u)}}function d(h){h.done?n(h.value):i(h.value).then(c,o)}d((r=r.apply(s,t||[])).next())})};const Rg=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...a)=>bi(async()=>{const{default:r}=await Promise.resolve().then(()=>Pr);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)},s4=()=>t4(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield bi(()=>Promise.resolve().then(()=>Pr),void 0)).Response:Response}),Co=s=>{if(Array.isArray(s))return s.map(a=>Co(a));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([a,r])=>{const i=a.replace(/([-_][a-z])/gi,n=>n.toUpperCase().replace(/[-_]/g,""));t[i]=Co(r)}),t};var Ia=function(s,t,a,r){function i(n){return n instanceof a?n:new a(function(l){l(n)})}return new(a||(a=Promise))(function(n,l){function c(h){try{d(r.next(h))}catch(u){l(u)}}function o(h){try{d(r.throw(h))}catch(u){l(u)}}function d(h){h.done?n(h.value):i(h.value).then(c,o)}d((r=r.apply(s,t||[])).next())})};const wl=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),a4=(s,t,a)=>Ia(void 0,void 0,void 0,function*(){const r=yield s4();s instanceof r&&!(a!=null&&a.noResolveJson)?s.json().then(i=>{t(new e4(wl(i),s.status||500))}).catch(i=>{t(new wo(wl(i),i))}):t(new wo(wl(s),s))}),r4=(s,t,a,r)=>{const i={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),a))};function wi(s,t,a,r,i,n){return Ia(this,void 0,void 0,function*(){return new Promise((l,c)=>{s(a,r4(t,r,i,n)).then(o=>{if(!o.ok)throw o;return r!=null&&r.noResolveJson?o:o.json()}).then(o=>l(o)).catch(o=>a4(o,c,r))})})}function hn(s,t,a,r){return Ia(this,void 0,void 0,function*(){return wi(s,"GET",t,a,r)})}function As(s,t,a,r,i){return Ia(this,void 0,void 0,function*(){return wi(s,"POST",t,r,i,a)})}function i4(s,t,a,r,i){return Ia(this,void 0,void 0,function*(){return wi(s,"PUT",t,r,i,a)})}function n4(s,t,a,r){return Ia(this,void 0,void 0,function*(){return wi(s,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),r)})}function Eg(s,t,a,r,i){return Ia(this,void 0,void 0,function*(){return wi(s,"DELETE",t,r,i,a)})}var pt=function(s,t,a,r){function i(n){return n instanceof a?n:new a(function(l){l(n)})}return new(a||(a=Promise))(function(n,l){function c(h){try{d(r.next(h))}catch(u){l(u)}}function o(h){try{d(r.throw(h))}catch(u){l(u)}}function d(h){h.done?n(h.value):i(h.value).then(c,o)}d((r=r.apply(s,t||[])).next())})};const l4={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class o4{constructor(t,a={},r,i){this.url=t,this.headers=a,this.bucketId=r,this.fetch=Rg(i)}uploadOrUpdate(t,a,r,i){return pt(this,void 0,void 0,function*(){try{let n;const l=Object.assign(Object.assign({},Wh),i);let c=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(l.upsert)});const o=l.metadata;typeof Blob<"u"&&r instanceof Blob?(n=new FormData,n.append("cacheControl",l.cacheControl),o&&n.append("metadata",this.encodeMetadata(o)),n.append("",r)):typeof FormData<"u"&&r instanceof FormData?(n=r,n.append("cacheControl",l.cacheControl),o&&n.append("metadata",this.encodeMetadata(o))):(n=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,o&&(c["x-metadata"]=this.toBase64(this.encodeMetadata(o)))),i!=null&&i.headers&&(c=Object.assign(Object.assign({},c),i.headers));const d=this._removeEmptyFolders(a),h=this._getFinalPath(d),u=yield this.fetch(`${this.url}/object/${h}`,Object.assign({method:t,body:n,headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{})),m=yield u.json();return u.ok?{data:{path:d,id:m.Id,fullPath:m.Key},error:null}:{data:null,error:m}}catch(n){if(We(n))return{data:null,error:n};throw n}})}upload(t,a,r){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,r)})}uploadToSignedUrl(t,a,r,i){return pt(this,void 0,void 0,function*(){const n=this._removeEmptyFolders(t),l=this._getFinalPath(n),c=new URL(this.url+`/object/upload/sign/${l}`);c.searchParams.set("token",a);try{let o;const d=Object.assign({upsert:Wh.upsert},i),h=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",d.cacheControl),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",d.cacheControl)):(o=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType);const u=yield this.fetch(c.toString(),{method:"PUT",body:o,headers:h}),m=yield u.json();return u.ok?{data:{path:n,fullPath:m.Key},error:null}:{data:null,error:m}}catch(o){if(We(o))return{data:null,error:o};throw o}})}createSignedUploadUrl(t,a){return pt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t);const i=Object.assign({},this.headers);a!=null&&a.upsert&&(i["x-upsert"]="true");const n=yield As(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),l=new URL(this.url+n.url),c=l.searchParams.get("token");if(!c)throw new Mc("No token returned by API");return{data:{signedUrl:l.toString(),path:t,token:c},error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}update(t,a,r){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,r)})}move(t,a,r){return pt(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}copy(t,a,r){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield As(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}createSignedUrl(t,a,r){return pt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),n=yield As(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:a},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return n={signedUrl:encodeURI(`${this.url}${n.signedURL}${l}`)},{data:n,error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}createSignedUrls(t,a,r){return pt(this,void 0,void 0,function*(){try{const i=yield As(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),n=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${n}`):null})),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}download(t,a){return pt(this,void 0,void 0,function*(){const i=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),l=n?`?${n}`:"";try{const c=this._getFinalPath(t);return{data:yield(yield hn(this.fetch,`${this.url}/${i}/${c}${l}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(c){if(We(c))return{data:null,error:c};throw c}})}info(t){return pt(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const r=yield hn(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Co(r),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}exists(t){return pt(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield n4(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(We(r)&&r instanceof wo){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,a){const r=this._getFinalPath(t),i=[],n=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";n!==""&&i.push(n);const c=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",o=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});o!==""&&i.push(o);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${r}${d}`)}}}remove(t){return pt(this,void 0,void 0,function*(){try{return{data:yield Eg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}list(t,a,r){return pt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},l4),a),{prefix:t||""});return{data:yield As(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(We(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const c4="2.7.1",d4={"X-Client-Info":`storage-js/${c4}`};var Ma=function(s,t,a,r){function i(n){return n instanceof a?n:new a(function(l){l(n)})}return new(a||(a=Promise))(function(n,l){function c(h){try{d(r.next(h))}catch(u){l(u)}}function o(h){try{d(r.throw(h))}catch(u){l(u)}}function d(h){h.done?n(h.value):i(h.value).then(c,o)}d((r=r.apply(s,t||[])).next())})};class h4{constructor(t,a={},r){this.url=t,this.headers=Object.assign(Object.assign({},d4),a),this.fetch=Rg(r)}listBuckets(){return Ma(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(We(t))return{data:null,error:t};throw t}})}getBucket(t){return Ma(this,void 0,void 0,function*(){try{return{data:yield hn(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}createBucket(t,a={public:!1}){return Ma(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}updateBucket(t,a){return Ma(this,void 0,void 0,function*(){try{return{data:yield i4(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(We(r))return{data:null,error:r};throw r}})}emptyBucket(t){return Ma(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}deleteBucket(t){return Ma(this,void 0,void 0,function*(){try{return{data:yield Eg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(We(a))return{data:null,error:a};throw a}})}}class u4 extends h4{constructor(t,a={},r){super(t,a,r)}from(t){return new o4(this.url,this.headers,t,this.fetch)}}const m4="2.51.0";let qr="";typeof Deno<"u"?qr="deno":typeof document<"u"?qr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qr="react-native":qr="node";const x4={"X-Client-Info":`supabase-js-${qr}/${m4}`},f4={headers:x4},p4={schema:"public"},g4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},v4={};var j4=function(s,t,a,r){function i(n){return n instanceof a?n:new a(function(l){l(n)})}return new(a||(a=Promise))(function(n,l){function c(h){try{d(r.next(h))}catch(u){l(u)}}function o(h){try{d(r.throw(h))}catch(u){l(u)}}function d(h){h.done?n(h.value):i(h.value).then(c,o)}d((r=r.apply(s,t||[])).next())})};const y4=s=>{let t;return s?t=s:typeof fetch>"u"?t=fg:t=fetch,(...a)=>t(...a)},b4=()=>typeof Headers>"u"?pg:Headers,N4=(s,t,a)=>{const r=y4(a),i=b4();return(n,l)=>j4(void 0,void 0,void 0,function*(){var c;const o=(c=yield t())!==null&&c!==void 0?c:s;let d=new i(l==null?void 0:l.headers);return d.has("apikey")||d.set("apikey",s),d.has("Authorization")||d.set("Authorization",`Bearer ${o}`),r(n,Object.assign(Object.assign({},l),{headers:d}))})};var w4=function(s,t,a,r){function i(n){return n instanceof a?n:new a(function(l){l(n)})}return new(a||(a=Promise))(function(n,l){function c(h){try{d(r.next(h))}catch(u){l(u)}}function o(h){try{d(r.throw(h))}catch(u){l(u)}}function d(h){h.done?n(h.value):i(h.value).then(c,o)}d((r=r.apply(s,t||[])).next())})};function C4(s){return s.endsWith("/")?s:s+"/"}function S4(s,t){var a,r;const{db:i,auth:n,realtime:l,global:c}=s,{db:o,auth:d,realtime:h,global:u}=t,m={db:Object.assign(Object.assign({},o),i),auth:Object.assign(Object.assign({},d),n),realtime:Object.assign(Object.assign({},h),l),global:Object.assign(Object.assign(Object.assign({},u),c),{headers:Object.assign(Object.assign({},(a=u==null?void 0:u.headers)!==null&&a!==void 0?a:{}),(r=c==null?void 0:c.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>w4(this,void 0,void 0,function*(){return""})};return s.accessToken?m.accessToken=s.accessToken:delete m.accessToken,m}const _g="2.71.0",Ua=30*1e3,So=3,Cl=So*Ua,k4="http://localhost:9999",P4="supabase.auth.token",T4={"X-Client-Info":`gotrue-js/${_g}`},ko="X-Supabase-Api-Version",Ig={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},A4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R4=10*60*1e3;class Dc extends Error{constructor(t,a,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=r}}function re(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class E4 extends Dc{constructor(t,a,r){super(t,a,r),this.name="AuthApiError",this.status=a,this.code=r}}function _4(s){return re(s)&&s.name==="AuthApiError"}class Mg extends Dc{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ta extends Dc{constructor(t,a,r,i){super(t,r,i),this.name=a,this.status=r}}class Ts extends ta{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function I4(s){return re(s)&&s.name==="AuthSessionMissingError"}class Di extends ta{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Li extends ta{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Oi extends ta{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function M4(s){return re(s)&&s.name==="AuthImplicitGrantRedirectError"}class Kh extends ta{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Po extends ta{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Sl(s){return re(s)&&s.name==="AuthRetryableFetchError"}class Gh extends ta{constructor(t,a,r){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=r}}class To extends ta{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const un="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Qh=` 	
\r=`.split(""),D4=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<Qh.length;t+=1)s[Qh[t].charCodeAt(0)]=-2;for(let t=0;t<un.length;t+=1)s[un[t].charCodeAt(0)]=t;return s})();function Jh(s,t,a){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(un[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;a(un[r]),t.queuedBits-=6}}function Dg(s,t,a){const r=D4[s];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Yh(s){const t=[],a=l=>{t.push(String.fromCodePoint(l))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},n=l=>{F4(l,r,a)};for(let l=0;l<s.length;l+=1)Dg(s.charCodeAt(l),i,n);return t.join("")}function L4(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function O4(s,t){for(let a=0;a<s.length;a+=1){let r=s.charCodeAt(a);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(s.charCodeAt(a+1)-56320&65535|i)+65536,a+=1}L4(r,t)}}function F4(s,t,a){if(t.utf8seq===0){if(s<=127){a(s);return}for(let r=1;r<6;r+=1)if(!(s>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function V4(s){const t=[],a={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<s.length;i+=1)Dg(s.charCodeAt(i),a,r);return new Uint8Array(t)}function $4(s){const t=[];return O4(s,a=>t.push(a)),new Uint8Array(t)}function U4(s){const t=[],a={queue:0,queuedBits:0},r=i=>{t.push(i)};return s.forEach(i=>Jh(i,a,r)),Jh(null,a,r),t.join("")}function B4(s){return Math.round(Date.now()/1e3)+s}function q4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(s){const t=Math.random()*16|0;return(s=="x"?t:t&3|8).toString(16)})}const Ut=()=>typeof window<"u"&&typeof document<"u",na={tested:!1,writable:!1},Lg=()=>{if(!Ut())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(na.tested)return na.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),na.tested=!0,na.writable=!0}catch{na.tested=!0,na.writable=!1}return na.writable};function z4(s){const t={},a=new URL(s);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((i,n)=>{t[n]=i})}catch{}return a.searchParams.forEach((r,i)=>{t[i]=r}),t}const Og=s=>{let t;return s?t=s:typeof fetch>"u"?t=(...a)=>bi(async()=>{const{default:r}=await Promise.resolve().then(()=>Pr);return{default:r}},void 0).then(({default:r})=>r(...a)):t=fetch,(...a)=>t(...a)},H4=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Ba=async(s,t,a)=>{await s.setItem(t,JSON.stringify(a))},la=async(s,t)=>{const a=await s.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Ss=async(s,t)=>{await s.removeItem(t)};class Kn{constructor(){this.promise=new Kn.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}Kn.promiseConstructor=Promise;function kl(s){const t=s.split(".");if(t.length!==3)throw new To("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!A4.test(t[r]))throw new To("JWT not in base64url format");return{header:JSON.parse(Yh(t[0])),payload:JSON.parse(Yh(t[1])),signature:V4(t[2]),raw:{header:t[0],payload:t[1]}}}async function W4(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function K4(s,t){return new Promise((r,i)=>{(async()=>{for(let n=0;n<1/0;n++)try{const l=await s(n);if(!t(n,null,l)){r(l);return}}catch(l){if(!t(n,l)){i(l);return}}})()})}function G4(s){return("0"+s.toString(16)).substr(-2)}function Q4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=a.length;let i="";for(let n=0;n<56;n++)i+=a.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,G4).join("")}async function J4(s){const a=new TextEncoder().encode(s),r=await crypto.subtle.digest("SHA-256",a),i=new Uint8Array(r);return Array.from(i).map(n=>String.fromCharCode(n)).join("")}async function Y4(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const a=await J4(s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Da(s,t,a=!1){const r=Q4();let i=r;a&&(i+="/PASSWORD_RECOVERY"),await Ba(s,`${t}-code-verifier`,i);const n=await Y4(r);return[n,r===n?"plain":"s256"]}const X4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z4(s){const t=s.headers.get(ko);if(!t||!t.match(X4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function eP(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function tP(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sP=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function La(s){if(!sP.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pl(){const s={};return new Proxy(s,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const r=a.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}var aP=function(s,t){var a={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(a[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(a[r[i]]=s[r[i]]);return a};const da=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),rP=[502,503,504];async function Xh(s){var t;if(!H4(s))throw new Po(da(s),0);if(rP.includes(s.status))throw new Po(da(s),s.status);let a;try{a=await s.json()}catch(n){throw new Mg(da(n),n)}let r;const i=Z4(s);if(i&&i.getTime()>=Ig["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?r=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(r=a.error_code),r){if(r==="weak_password")throw new Gh(da(a),s.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Ts}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((n,l)=>n&&typeof l=="string",!0))throw new Gh(da(a),s.status,a.weak_password.reasons);throw new E4(da(a),s.status||500,r)}const iP=(s,t,a,r)=>{const i={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),a))};async function me(s,t,a,r){var i;const n=Object.assign({},r==null?void 0:r.headers);n[ko]||(n[ko]=Ig["2024-01-01"].name),r!=null&&r.jwt&&(n.Authorization=`Bearer ${r.jwt}`);const l=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(l.redirect_to=r.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",o=await nP(s,t,a+c,{headers:n,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(o):{data:Object.assign({},o),error:null}}async function nP(s,t,a,r,i,n){const l=iP(t,r,i,n);let c;try{c=await s(a,Object.assign({},l))}catch(o){throw console.error(o),new Po(da(o),0)}if(c.ok||await Xh(c),r!=null&&r.noResolveJson)return c;try{return await c.json()}catch(o){await Xh(o)}}function ns(s){var t;let a=null;dP(s)&&(a=Object.assign({},s),s.expires_at||(a.expires_at=B4(s.expires_in)));const r=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:a,user:r},error:null}}function Zh(s){const t=ns(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((a,r)=>a&&typeof r=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Rs(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function lP(s){return{data:s,error:null}}function oP(s){const{action_link:t,email_otp:a,hashed_token:r,redirect_to:i,verification_type:n}=s,l=aP(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:a,hashed_token:r,redirect_to:i,verification_type:n},o=Object.assign({},l);return{data:{properties:c,user:o},error:null}}function cP(s){return s}function dP(s){return s.access_token&&s.refresh_token&&s.expires_in}const Tl=["global","local","others"];var hP=function(s,t){var a={};for(var r in s)Object.prototype.hasOwnProperty.call(s,r)&&t.indexOf(r)<0&&(a[r]=s[r]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(s);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(s,r[i])&&(a[r[i]]=s[r[i]]);return a};class uP{constructor({url:t="",headers:a={},fetch:r}){this.url=t,this.headers=a,this.fetch=Og(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,a=Tl[0]){if(Tl.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Tl.join(", ")}`);try{return await me(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,a={}){try{return await me(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Rs})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:a}=t,r=hP(t,["options"]),i=Object.assign(Object.assign({},r),a);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await me(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:oP,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(re(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await me(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Rs})}catch(a){if(re(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,r,i,n,l,c,o;try{const d={nextPage:null,lastPage:0,total:0},h=await me(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&r!==void 0?r:"",per_page:(n=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&n!==void 0?n:""},xform:cP});if(h.error)throw h.error;const u=await h.json(),m=(l=h.headers.get("x-total-count"))!==null&&l!==void 0?l:0,p=(o=(c=h.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&o!==void 0?o:[];return p.length>0&&(p.forEach(j=>{const g=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),f=JSON.parse(j.split(";")[1].split("=")[1]);d[`${f}Page`]=g}),d.total=parseInt(m)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(re(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){La(t);try{return await me(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Rs})}catch(a){if(re(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){La(t);try{return await me(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Rs})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,a=!1){La(t);try{return await me(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Rs})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){La(t.userId);try{const{data:a,error:r}=await me(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:a,error:r}}catch(a){if(re(a))return{data:null,error:a};throw a}}async _deleteFactor(t){La(t.userId),La(t.id);try{return{data:await me(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}}}function eu(s={}){return{getItem:t=>s[t]||null,setItem:(t,a)=>{s[t]=a},removeItem:t=>{delete s[t]}}}function mP(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Oa={debug:!!(globalThis&&Lg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Fg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class xP extends Fg{}async function fP(s,t,a){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,i.name);try{return await a()}finally{Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,i.name)}}else{if(t===0)throw Oa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new xP(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Oa.debug)try{const n=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(n,null,"  "))}catch(n){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",n)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}mP();const pP={url:k4,storageKey:P4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tu(s,t,a){return await a()}const Fa={};class li{constructor(t){var a,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=li.nextInstanceID,li.nextInstanceID+=1,this.instanceID>0&&Ut()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},pP),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new uP({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Og(i.fetch),this.lock=i.lock||tu,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Ut()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=fP:this.lock=tu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Lg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=eu(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=eu(this.memoryStorage)),Ut()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(n){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",n)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async n=>{this._debug("received broadcast notification from other tab or client",n),await this._notifyAllSubscribers(n.data.event,n.data.session,!1)})}this.initialize()}get jwks(){var t,a;return(a=(t=Fa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Fa[this.storageKey]=Object.assign(Object.assign({},Fa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Fa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Fa[this.storageKey]=Object.assign(Object.assign({},Fa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_g}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const a=z4(window.location.href);let r="none";if(this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce"),Ut()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:n}=await this._getSessionFromURL(a,r);if(n){if(this._debug("#_initialize()","error detecting session from URL",n),M4(n)){const o=(t=n.details)===null||t===void 0?void 0:t.code;if(o==="identity_already_exists"||o==="identity_not_found"||o==="single_identity_not_deletable")return{error:n}}return await this._removeSession(),{error:n}}const{session:l,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return re(a)?{error:a}:{error:new Mg("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,r,i;try{const n=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:ns}),{data:l,error:c}=n;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:d,session:o},error:null}}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signUp(t){var a,r,i;try{let n;if("email"in t){const{email:h,password:u,options:m}=t;let p=null,j=null;this.flowType==="pkce"&&([p,j]=await Da(this.storage,this.storageKey)),n=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:h,password:u,data:(a=m==null?void 0:m.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:j},xform:ns})}else if("phone"in t){const{phone:h,password:u,options:m}=t;n=await me(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:u,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},channel:(i=m==null?void 0:m.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:ns})}else throw new Li("You must provide either an email or phone number and a password");const{data:l,error:c}=n;if(c||!l)return{data:{user:null,session:null},error:c};const o=l.session,d=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",o)),{data:{user:d,session:o},error:null}}catch(n){if(re(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithPassword(t){try{let a;if("email"in t){const{email:n,password:l,options:c}=t;a=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:n,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Zh})}else if("phone"in t){const{phone:n,password:l,options:c}=t;a=await me(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:n,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Zh})}else throw new Li("You must provide either an email or phone number and a password");const{data:r,error:i}=a;return i?{data:{user:null,session:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Di}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(t){var a,r,i,n;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(n=t.options)===null||n===void 0?void 0:n.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;if(a==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(t){var a,r,i,n,l,c,o,d,h,u,m,p;let j,g;if("message"in t)j=t.message,g=t.signature;else{const{chain:f,wallet:w,statement:y,options:v}=t;let A;if(Ut())if(typeof w=="object")A=w;else{const O=window;if("solana"in O&&typeof O.solana=="object"&&("signIn"in O.solana&&typeof O.solana.signIn=="function"||"signMessage"in O.solana&&typeof O.solana.signMessage=="function"))A=O.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const C=new URL((a=v==null?void 0:v.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in A&&A.signIn){const O=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),y?{statement:y}:null));let M;if(Array.isArray(O)&&O[0]&&typeof O[0]=="object")M=O[0];else if(O&&typeof O=="object"&&"signedMessage"in O&&"signature"in O)M=O;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)j=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),g=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${C.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(i=(r=v==null?void 0:v.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((n=v==null?void 0:v.signInWithSolana)===null||n===void 0)&&n.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((c=v==null?void 0:v.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((d=v==null?void 0:v.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((u=(h=v==null?void 0:v.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||u===void 0)&&u.length?["Resources",...v.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const O=await A.signMessage(new TextEncoder().encode(j),"utf8");if(!O||!(O instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=O}}try{const{data:f,error:w}=await me(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:U4(g)},!((m=t.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:ns});if(w)throw w;return!f||!f.session||!f.user?{data:{user:null,session:null},error:new Di}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:Object.assign({},f),error:w})}catch(f){if(re(f))return{data:{user:null,session:null},error:f};throw f}}async _exchangeCodeForSession(t){const a=await la(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(a??"").split("/");try{const{data:n,error:l}=await me(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:ns});if(await Ss(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!n||!n.session||!n.user?{data:{user:null,session:null,redirectType:null},error:new Di}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign(Object.assign({},n),{redirectType:i??null}),error:l})}catch(n){if(re(n))return{data:{user:null,session:null,redirectType:null},error:n};throw n}}async signInWithIdToken(t){try{const{options:a,provider:r,token:i,access_token:n,nonce:l}=t,c=await me(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:n,nonce:l,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:ns}),{data:o,error:d}=c;return d?{data:{user:null,session:null},error:d}:!o||!o.session||!o.user?{data:{user:null,session:null},error:new Di}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:o,error:d})}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(t){var a,r,i,n,l;try{if("email"in t){const{email:c,options:o}=t;let d=null,h=null;this.flowType==="pkce"&&([d,h]=await Da(this.storage,this.storageKey));const{error:u}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(a=o==null?void 0:o.data)!==null&&a!==void 0?a:{},create_user:(r=o==null?void 0:o.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},code_challenge:d,code_challenge_method:h},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:u}}if("phone"in t){const{phone:c,options:o}=t,{data:d,error:h}=await me(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=o==null?void 0:o.data)!==null&&i!==void 0?i:{},create_user:(n=o==null?void 0:o.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken},channel:(l=o==null?void 0:o.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Li("You must provide either an email or phone number.")}catch(c){if(re(c))return{data:{user:null,session:null},error:c};throw c}}async verifyOtp(t){var a,r;try{let i,n;"options"in t&&(i=(a=t.options)===null||a===void 0?void 0:a.redirectTo,n=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:n}}),redirectTo:i,xform:ns});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const o=l.session,d=l.user;return o!=null&&o.access_token&&(await this._saveSession(o),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",o)),{data:{user:d,session:o},error:null}}catch(i){if(re(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var a,r,i;try{let n=null,l=null;return this.flowType==="pkce"&&([n,l]=await Da(this.storage,this.storageKey)),await me(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:n,code_challenge_method:l}),headers:this.headers,xform:lP})}catch(n){if(re(n))return{data:null,error:n};throw n}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:r}=t;if(r)throw r;if(!a)throw new Ts;const{error:i}=await me(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:r,type:i,options:n}=t,{error:l}=await me(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},redirectTo:n==null?void 0:n.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in t){const{phone:r,type:i,options:n}=t,{data:l,error:c}=await me(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c}}throw new Li("You must provide either an email or phone number and a type")}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await la(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<Cl:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const l=await la(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=Pl()}if(this.storage.isServer&&t.user){let l=this.suppressGetSessionWarning;t=new Proxy(t,{get:(o,d,h)=>(!l&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),l=!0,this.suppressGetSessionWarning=!0),Reflect.get(o,d,h))})}return{data:{session:t},error:null}}const{session:i,error:n}=await this._callRefreshToken(t.refresh_token);return n?{data:{session:null},error:n}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Rs}):await this._useSession(async a=>{var r,i,n;const{data:l,error:c}=a;if(c)throw c;return!(!((r=l.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ts}:await me(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(n=(i=l.session)===null||i===void 0?void 0:i.access_token)!==null&&n!==void 0?n:void 0,xform:Rs})})}catch(a){if(re(a))return I4(a)&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async r=>{const{data:i,error:n}=r;if(n)throw n;if(!i.session)throw new Ts;const l=i.session;let c=null,o=null;this.flowType==="pkce"&&t.email!=null&&([c,o]=await Da(this.storage,this.storageKey));const{data:d,error:h}=await me(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:o}),jwt:l.access_token,xform:Rs});if(h)throw h;return l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Ts;const a=Date.now()/1e3;let r=a,i=!0,n=null;const{payload:l}=kl(t.access_token);if(l.exp&&(r=l.exp,i=r<=a),i){const{session:c,error:o}=await this._callRefreshToken(t.refresh_token);if(o)return{data:{user:null,session:null},error:o};if(!c)return{data:{user:null,session:null},error:null};n=c}else{const{data:c,error:o}=await this._getUser(t.access_token);if(o)throw o;n={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)}return{data:{user:n.user,session:n},error:null}}catch(a){if(re(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var r;if(!t){const{data:l,error:c}=a;if(c)throw c;t=(r=l.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Ts;const{session:i,error:n}=await this._callRefreshToken(t.refresh_token);return n?{data:{user:null,session:null},error:n}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(re(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(t,a){try{if(!Ut())throw new Oi("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Oi(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Kh("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Oi("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Kh("No code detected.");const{data:y,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:n,refresh_token:l,expires_in:c,expires_at:o,token_type:d}=t;if(!n||!c||!l||!d)throw new Oi("No session defined in URL");const h=Math.round(Date.now()/1e3),u=parseInt(c);let m=h+u;o&&(m=parseInt(o));const p=m-h;p*1e3<=Ua&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${u}s`);const j=m-u;h-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,m,h):h-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,m,h);const{data:g,error:f}=await this._getUser(n);if(f)throw f;const w={provider_token:r,provider_refresh_token:i,access_token:n,expires_in:u,expires_at:m,refresh_token:l,token_type:d,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(r){if(re(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await la(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var r;const{data:i,error:n}=a;if(n)return{error:n};const l=(r=i.session)===null||r===void 0?void 0:r.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(_4(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(await this._removeSession(),await Ss(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const a=q4(),r={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async a=>{var r,i;try{const{data:{session:n},error:l}=a;if(l)throw l;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",t,"session",n)}catch(n){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",n),console.error(n)}})}async resetPasswordForEmail(t,a={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Da(this.storage,this.storageKey,!0));try{return await me(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(n){if(re(n))return{data:null,error:n};throw n}}async getUserIdentities(){var t;try{const{data:a,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(a){if(re(a))return{data:null,error:a};throw a}}async linkIdentity(t){var a;try{const{data:r,error:i}=await this._useSession(async n=>{var l,c,o,d,h;const{data:u,error:m}=n;if(m)throw m;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:!0});return await me(this.fetch,"GET",p,{headers:this.headers,jwt:(h=(d=u.session)===null||d===void 0?void 0:d.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return Ut()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:t.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(re(r))return{data:{provider:t.provider,url:null},error:r};throw r}}async unlinkIdentity(t){try{return await this._useSession(async a=>{var r,i;const{data:n,error:l}=a;if(l)throw l;return await me(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(a){if(re(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const r=Date.now();return await K4(async i=>(i>0&&await W4(200*Math.pow(2,i-1)),this._debug(a,"refreshing attempt",i),await me(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ns})),(i,n)=>{const l=200*Math.pow(2,i);return n&&Sl(n)&&Date.now()+l-r<Ua})}catch(r){if(this._debug(a,"error",r),re(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",r),Ut()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,a;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await la(this.storage,this.storageKey);if(i&&this.userStorage){let l=await la(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:i.user},await Ba(this.userStorage,this.storageKey+"-user",l)),i.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:Pl()}else if(i&&!i.user&&!i.user){const l=await la(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(i.user=l.user,await Ss(this.storage,this.storageKey+"-user"),await Ba(this.storage,this.storageKey,i)):i.user=Pl()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const n=((a=i.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Cl;if(this._debug(r,`session has${n?"":" not"} expired with margin of ${Cl}s`),n){if(this.autoRefreshToken&&i.refresh_token){const{error:l}=await this._callRefreshToken(i.refresh_token);l&&(console.error(l),Sl(l)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(i.access_token);!c&&(l!=null&&l.user)?(i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(r,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var a,r;if(!t)throw new Ts;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Kn;const{data:n,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!n.session)throw new Ts;await this._saveSession(n.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",n.session);const c={session:n.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(n){if(this._debug(i,"error",n),re(n)){const l={session:null,error:n};return Sl(n)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(l),l}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(n),n}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,a,r=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:a});const n=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,a)}catch(o){n.push(o)}});if(await Promise.all(l),n.length>0){for(let c=0;c<n.length;c+=1)console.error(n[c]);throw n[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const a=Object.assign({},t),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await Ba(this.userStorage,this.storageKey+"-user",{user:a.user});const i=Object.assign({},a);delete i.user;const n=structuredClone(i);await Ba(this.storage,this.storageKey,n)}else{const i=structuredClone(a);await Ba(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ss(this.storage,this.storageKey),await Ss(this.storage,this.storageKey+"-code-verifier"),await Ss(this.storage,this.storageKey+"-user"),this.userStorage&&await Ss(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Ut()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ua);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-t)/Ua);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Ua}ms, refresh threshold is ${So} ticks`),i<=So&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Fg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ut()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,r){const i=[`provider=${encodeURIComponent(a)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[n,l]=await Da(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(n)}`,code_challenge_method:`${encodeURIComponent(l)}`});i.push(c.toString())}if(r!=null&&r.queryParams){const n=new URLSearchParams(r.queryParams);i.push(n.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var r;const{data:i,error:n}=a;return n?{data:null,error:n}:await me(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(re(a))return{data:null,error:a};throw a}}async _enroll(t){try{return await this._useSession(async a=>{var r,i;const{data:n,error:l}=a;if(l)return{data:null,error:l};const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:o,error:d}=await me(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=n==null?void 0:n.session)===null||r===void 0?void 0:r.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((i=o==null?void 0:o.totp)===null||i===void 0)&&i.qr_code)&&(o.totp.qr_code=`data:image/svg+xml;utf-8,${o.totp.qr_code}`),{data:o,error:null})})}catch(a){if(re(a))return{data:null,error:a};throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:i,error:n}=a;if(n)return{data:null,error:n};const{data:l,error:c}=await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:c})})}catch(a){if(re(a))return{data:null,error:a};throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;const{data:i,error:n}=a;return n?{data:null,error:n}:await me(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(re(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(t){const{data:a,error:r}=await this._challenge({factorId:t.factorId});return r?{data:null,error:r}:await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){const{data:{user:t},error:a}=await this.getUser();if(a)return{data:null,error:a};const r=(t==null?void 0:t.factors)||[],i=r.filter(l=>l.factor_type==="totp"&&l.status==="verified"),n=r.filter(l=>l.factor_type==="phone"&&l.status==="verified");return{data:{all:r,totp:i,phone:n},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var a,r;const{data:{session:i},error:n}=t;if(n)return{data:null,error:n};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:l}=kl(i.access_token);let c=null;l.aal&&(c=l.aal);let o=c;((r=(a=i.user.factors)===null||a===void 0?void 0:a.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const h=l.amr||[];return{data:{currentLevel:c,nextLevel:o,currentAuthenticationMethods:h},error:null}}))}async fetchJwk(t,a={keys:[]}){let r=a.keys.find(c=>c.kid===t);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===t),r&&this.jwks_cached_at+R4>i)return r;const{data:n,error:l}=await me(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!n.keys||n.keys.length===0||(this.jwks=n,this.jwks_cached_at=i,r=n.keys.find(c=>c.kid===t),!r)?null:r}async getClaims(t,a={}){try{let r=t;if(!r){const{data:p,error:j}=await this.getSession();if(j||!p.session)return{data:null,error:j};r=p.session.access_token}const{header:i,payload:n,signature:l,raw:{header:c,payload:o}}=kl(r);a!=null&&a.allowExpired||eP(n.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!d){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:n,header:i,signature:l},error:null}}const h=tP(i.alg),u=await crypto.subtle.importKey("jwk",d,h,!0,["verify"]);if(!await crypto.subtle.verify(h,u,l,$4(`${c}.${o}`)))throw new To("Invalid JWT signature");return{data:{claims:n,header:i,signature:l},error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}}li.nextInstanceID=0;const gP=li;class vP extends gP{constructor(t){super(t)}}var jP=function(s,t,a,r){function i(n){return n instanceof a?n:new a(function(l){l(n)})}return new(a||(a=Promise))(function(n,l){function c(h){try{d(r.next(h))}catch(u){l(u)}}function o(h){try{d(r.throw(h))}catch(u){l(u)}}function d(h){h.done?n(h.value):i(h.value).then(c,o)}d((r=r.apply(s,t||[])).next())})};class yP{constructor(t,a,r){var i,n,l;if(this.supabaseUrl=t,this.supabaseKey=a,!t)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const c=C4(t),o=new URL(c);this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const d=`sb-${o.hostname.split(".")[0]}-auth-token`,h={db:p4,realtime:v4,auth:Object.assign(Object.assign({},g4),{storageKey:d}),global:f4},u=S4(r??{},h);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(n=u.global.headers)!==null&&n!==void 0?n:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(m,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=u.auth)!==null&&l!==void 0?l:{},this.headers,u.global.fetch),this.fetch=N4(a,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Fk(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new xk(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new u4(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},r={}){return this.rest.rpc(t,a,r)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,a;return jP(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(a=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:r,storage:i,storageKey:n,flowType:l,lock:c,debug:o},d,h){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vP({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),d),storageKey:n,autoRefreshToken:t,persistSession:a,detectSessionInUrl:r,storage:i,flowType:l,lock:c,debug:o,fetch:h,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Zk(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,r)=>{this._handleTokenChanged(a,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(t,a,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bP=(s,t,a)=>new yP(s,t,a),NP=bP("https://wmpsjclnykcxtqwxfffv.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6IndtcHNqY2xueWtjeHRxd3hmZmZ2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE4MjYwNDEsImV4cCI6MjA2NzQwMjA0MX0.hHrXn_D4e8f9JFLig5-DTVOzr5aCUpi3aeh922mNw4c"),wP=()=>{const[s,t]=x.useState([]),[a,r]=x.useState(!0),[i,n]=x.useState(null);return x.useEffect(()=>{(async()=>{r(!0),n(null);const{data:c,error:o}=await NP.from("test_table").select("*");o?n(o.message):t(c||[]),r(!1)})()},[]),e.jsxs("div",{style:{padding:16,border:"1px solid #ccc",borderRadius:8,margin:16},children:[e.jsx("h3",{children:"Supabase Connectivity Test"}),a&&e.jsx("p",{children:"Loading..."}),i&&e.jsxs("p",{style:{color:"red"},children:["Error: ",i]}),!a&&!i&&e.jsxs("ul",{children:[s.length===0&&e.jsx("li",{children:"No data found."}),s.map(l=>e.jsxs("li",{children:[l.name," (created: ",l.created_at,")"]},l.id))]})]})};class CP extends Xg.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,a){}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex flex-col items-center justify-center bg-red-50",children:e.jsxs("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-700 mb-4",children:"An unexpected error occurred. Please refresh the page or try again later."}),e.jsx("pre",{className:"text-xs text-gray-500 bg-gray-100 rounded p-2 overflow-x-auto max-h-40 mb-4",children:String(this.state.error)}),e.jsx("button",{className:"bg-red-600 text-white px-4 py-2 rounded",onClick:()=>window.location.reload(),children:"Reload"})]})}):this.props.children}}function SP(){const{isAuthenticated:s,isLoading:t}=Rt(),[a,r]=x.useState(()=>localStorage.getItem("civicos-manifesto-agreed")==="true");if(t)return e.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-red-600 mx-auto"}),e.jsx("p",{className:"mt-4 text-slate-600",children:"Loading CivicOS..."})]})});const i=()=>e.jsx(ok,{onAgree:()=>r(!0)});return e.jsx("div",{className:"min-h-screen bg-background",children:s&&a?e.jsxs("div",{className:"flex",children:[e.jsx($y,{}),e.jsxs("main",{className:"flex-1 bg-gradient-civic-ambient min-h-screen overflow-x-auto",children:[e.jsx("div",{className:"lg:hidden bg-white dark:bg-slate-900 border-b border-slate-200 dark:border-slate-700 p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-slate-800 via-slate-700 to-slate-900 flex items-center justify-center shadow-lg border border-slate-600 overflow-hidden",children:e.jsx("img",{src:fr,alt:"CivicOS",className:"w-6 h-6 object-contain rounded-full"})}),e.jsx("h1",{className:"text-lg font-bold font-serif text-slate-900 dark:text-slate-100",children:"CivicOS"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(jy,{}),e.jsx(Ky,{})]})]})}),e.jsx("div",{className:"p-2 sm:p-4 lg:p-6",children:e.jsxs(qc,{children:[e.jsx(ee,{path:"/",component:vd}),e.jsx(ee,{path:"/dashboard",component:vd}),e.jsx(ee,{path:"/voting",component:WN}),e.jsx(ee,{path:"/ledger",component:GN}),e.jsx(ee,{path:"/politicians",component:QN}),e.jsx(ee,{path:"/petitions",component:YN}),e.jsx(ee,{path:"/discussions",component:ZN}),e.jsx(ee,{path:"/legal",component:ew}),e.jsx(ee,{path:"/legal-search",component:tw}),e.jsx(ee,{path:"/rights",component:PS}),e.jsx(ee,{path:"/elections",component:TS}),e.jsx(ee,{path:"/news",component:DS}),e.jsx(ee,{path:"/contacts",component:LS}),e.jsx(ee,{path:"/profile",component:OS}),e.jsx(ee,{path:"/settings",component:qS}),e.jsx(ee,{path:"/finance",component:AS}),e.jsx(ee,{path:"/lobbyists",component:RS}),e.jsx(ee,{path:"/procurement",component:ES}),e.jsx(ee,{path:"/memory",component:_S}),e.jsx(ee,{path:"/cases",component:IS}),e.jsx(ee,{path:"/foi",component:zS}),e.jsx(ee,{path:"/leaks",component:HS}),e.jsx(ee,{path:"/whistleblower",component:WS}),e.jsx(ee,{path:"/corruption",component:KS}),e.jsx(ee,{path:"/pulse",component:GS}),e.jsx(ee,{path:"/trust",component:QS}),e.jsx(ee,{path:"/maps",component:JS}),e.jsx(ee,{path:"/manifesto",component:i}),e.jsx(ee,{path:"/identity-verification",component:ek}),e.jsx(ee,{path:"/admin/identity-review",component:ak}),e.jsx(ee,{path:"/notifications",component:YS}),e.jsx(ee,{path:"/users/:userId",component:XS}),e.jsx(ee,{path:"*",children:()=>e.jsx(Oh,{})})]})})]})]}):s&&!a?e.jsx("main",{children:e.jsx(i,{})}):e.jsx("main",{children:e.jsxs(qc,{children:[e.jsx(ee,{path:"/",component:Xy}),e.jsx(ee,{path:"/about",component:Zy}),e.jsx(ee,{path:"/privacy",component:eb}),e.jsx(ee,{path:"/terms",component:tb}),e.jsx(ee,{path:"/contact",component:sb}),e.jsx(ee,{path:"/accessibility",component:ab}),e.jsx(ee,{path:"/auth",component:bl}),e.jsx(ee,{path:"/login",component:bl}),e.jsx(ee,{path:"/register",component:bl}),e.jsx(ee,{path:"/manifesto",component:i}),e.jsx(ee,{path:"*",children:()=>e.jsx(Oh,{})})]})})})}function kP(){return e.jsx(W0,{client:ka,children:e.jsx(Ui,{children:e.jsxs(CP,{children:[e.jsx(Oj,{}),e.jsx(wP,{}),e.jsx(SP,{}),e.jsx(yy,{})]})})})}Tu(document.getElementById("root")).render(e.jsx(kP,{}));
