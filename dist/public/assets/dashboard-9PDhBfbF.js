import{j as e}from"./ui-wkHeCsE0.js";import{c as b,z as c,h as o,i as x,j as m,g as h,q as C,G as S,B as n,V as j,F as p,U as v,S as A,n as g,H as T,J as N,K as f,w as k}from"./index-93u1xmIh.js";import{T as w}from"./target-DL0RYDW4.js";import"./vendor-DRd396Ms.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=b("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);function P({children:a,className:i,hoverEffect:l="lift",delay:r=0,onClick:s}){const t={lift:"hover:shadow-lg hover:-translate-y-1 transition-all duration-300",glow:"hover:shadow-xl hover:shadow-blue-500/25 transition-all duration-300",scale:"hover:scale-105 transition-transform duration-300",none:""};return e.jsx(h,{className:c("transition-all duration-300 ease-in-out",t[l],i),style:{animationDelay:`${r}ms`},onClick:s,children:a})}function d({icon:a,title:i,description:l,value:r,trend:s,className:t,onClick:u}){const y={up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"};return e.jsxs(P,{className:c("cursor-pointer",t),hoverEffect:"lift",onClick:u,children:[e.jsxs(o,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:i}),e.jsx("div",{className:"h-4 w-4 text-muted-foreground",children:a})]}),e.jsxs(m,{children:[e.jsx("div",{className:"text-2xl font-bold",children:r}),e.jsx("p",{className:"text-xs text-muted-foreground",children:l}),s&&e.jsxs("div",{className:c("flex items-center text-xs mt-1",y[s]),children:[s==="up"&&"↗",s==="down"&&"↘",s==="neutral"&&"→",e.jsxs("span",{className:"ml-1",children:[s==="up"&&"Increasing",s==="down"&&"Decreasing",s==="neutral"&&"Stable"]})]})]})]})}function D({size:a="md",color:i="primary",className:l}){const r={sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12",xl:"h-16 w-16"},s={primary:"border-blue-600",secondary:"border-gray-600",success:"border-green-600",warning:"border-yellow-600",error:"border-red-600"};return e.jsx("div",{className:c("flex items-center justify-center",l),children:e.jsx("div",{className:c("animate-spin rounded-full border-2 border-gray-300 border-t-transparent",r[a],s[i])})})}function E(){const{user:a}=C(),{data:i,isLoading:l,error:r}=S({queryKey:["/api/dashboard/stats"],queryFn:()=>k("/api/dashboard/stats","GET"),staleTime:5*60*1e3,retry:2});if(l)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(D,{size:"lg"})});if(r)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:"Failed to load dashboard data"}),e.jsx(n,{onClick:()=>window.location.reload(),children:"Retry"})]})});const s=i||{totalVotes:0,activeBills:0,politiciansTracked:0,petitionsSigned:0,civicPoints:0,trustScore:100,recentActivity:[]};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome back, ",(a==null?void 0:a.firstName)||"Citizen","!"]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"Stay engaged with Canadian democracy. Your voice matters."})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.civicPoints}),e.jsx("div",{className:"text-blue-100 text-sm",children:"Civic Points"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(d,{icon:e.jsx(j,{className:"h-4 w-4"}),title:"Total Votes",description:"Bills and petitions voted on",value:s.totalVotes,trend:"up"}),e.jsx(d,{icon:e.jsx(p,{className:"h-4 w-4"}),title:"Active Bills",description:"Currently in parliament",value:s.activeBills,trend:"neutral"}),e.jsx(d,{icon:e.jsx(v,{className:"h-4 w-4"}),title:"Politicians Tracked",description:"Representatives you follow",value:s.politiciansTracked,trend:"up"}),e.jsx(d,{icon:e.jsx(w,{className:"h-4 w-4"}),title:"Petitions Signed",description:"Causes you support",value:s.petitionsSigned,trend:"up"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(h,{className:"lg:col-span-2",children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5 text-green-600"}),"Trust Score & Achievements"]}),e.jsx(g,{children:"Your civic engagement level and recent achievements"})]}),e.jsxs(m,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.trustScore,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Trust Score"})]}),e.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-600 rounded-full transition-all duration-500",style:{width:`${s.trustScore}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(B,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg font-semibold",children:["Level ",Math.floor(s.civicPoints/100)+1]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Civic Champion"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(T,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-semibold",children:Math.floor(s.civicPoints/50)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Badges Earned"})]})]})]})]}),e.jsxs(h,{children:[e.jsxs(o,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5 text-blue-600"}),"Recent Activity"]}),e.jsx(g,{children:"Your latest civic engagement activities"})]}),e.jsx(m,{children:e.jsx("div",{className:"space-y-4",children:s.recentActivity.length>0?s.recentActivity.map((t,u)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",style:{animationDelay:`${u*100}ms`},children:[e.jsxs("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:[t.icon==="vote"&&e.jsx(j,{className:"h-4 w-4 text-blue-600"}),t.icon==="petition"&&e.jsx(w,{className:"h-4 w-4 text-green-600"}),t.icon==="comment"&&e.jsx(f,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:t.title}),e.jsx("div",{className:"text-xs text-muted-foreground",children:t.timestamp})]})]},t.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No recent activity"}),e.jsx("p",{className:"text-sm",children:"Start engaging to see your activity here"})]})})})]})]}),e.jsxs(h,{children:[e.jsxs(o,{children:[e.jsx(x,{children:"Quick Actions"}),e.jsx(g,{children:"Jump into civic engagement activities"})]}),e.jsx(m,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(n,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(j,{className:"h-6 w-6"}),e.jsx("span",{children:"Vote on Bills"})]}),e.jsxs(n,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(v,{className:"h-6 w-6"}),e.jsx("span",{children:"Track Politicians"})]}),e.jsxs(n,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(p,{className:"h-6 w-6"}),e.jsx("span",{children:"Read News"})]}),e.jsxs(n,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(f,{className:"h-6 w-6"}),e.jsx("span",{children:"Join Discussion"})]})]})})]})]})}export{E as default};
