import{j as e}from"./ui-CDUWW_Ri.js";import{r as c}from"./vendor-1XCZ5AD1.js";import{K as A,af as t,T as f,v as l,S as F,I,g as d,h as o,i as m,n as x,j as u,B as p,G as L,y as V}from"./index-yatsprew.js";import{S as D,a as G,b as E,c as R,d as r}from"./select-C-vAH6TQ.js";import{T as q,a as B,b as h,c as j}from"./tabs-BBhYHReU.js";import{D as K}from"./download-BHGdtxAG.js";import"./index-q7PMzjPi.js";function W(){const[i,y]=c.useState(""),[n,v]=c.useState("all"),[g,z]=c.useState(1),{data:a,isLoading:b,error:N}=A({queryKey:["/api/leaks",i,n,g],queryFn:()=>V("/api/leaks","GET",{search:i,category:n,page:g.toString(),limit:"20"}),staleTime:5*60*1e3}),w=s=>{switch(s){case"Critical":return"text-red-600 bg-red-50 border-red-200";case"High":return"text-orange-600 bg-orange-50 border-orange-200";case"Medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},C=s=>{switch(s){case"Verified":return"text-green-600 bg-green-50 border-green-200";case"Partially Verified":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Unverified":return"text-red-600 bg-red-50 border-red-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},S=s=>new Date(s).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"});return b?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(t,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 animate-pulse"}),e.jsx("p",{className:"text-gray-600",children:"Loading government leak archive..."})]})})}):N?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(f,{className:"w-12 h-12 mx-auto mb-4 text-red-400"}),e.jsx("p",{className:"text-red-600",children:"Failed to load leak archive"}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Please try again later"})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Government Leak Archive"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Secure repository of verified government documents and transparency disclosures"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(l,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(F,{className:"w-3 h-3 mr-1"}),"Secure Access"]}),e.jsxs(l,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(t,{className:"w-3 h-3 mr-1"}),(a==null?void 0:a.pagination.total)||0," documents"]})]})]}),e.jsxs(q,{defaultValue:"archive",className:"w-full",children:[e.jsxs(B,{className:"grid w-full grid-cols-3",children:[e.jsx(h,{value:"archive",children:"Document Archive"}),e.jsx(h,{value:"analysis",children:"Impact Analysis"}),e.jsx(h,{value:"submit",children:"Submit Leak"})]}),e.jsxs(j,{value:"archive",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(t,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(I,{placeholder:"Search documents, categories, or findings...",value:i,onChange:s=>y(s.target.value),className:"pl-10"})]}),e.jsxs(D,{value:n,onValueChange:v,children:[e.jsx(G,{className:"w-64",children:e.jsx(E,{placeholder:"Filter by category"})}),e.jsxs(R,{children:[e.jsx(r,{value:"all",children:"All Categories"}),e.jsx(r,{value:"Government Failures",children:"Government Failures"}),e.jsx(r,{value:"Political Interference",children:"Political Interference"}),e.jsx(r,{value:"Civil Liberties",children:"Civil Liberties"}),e.jsx(r,{value:"Procurement Fraud",children:"Procurement Fraud"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:a==null?void 0:a.leaks.map(s=>e.jsxs(d,{className:"hover:shadow-lg transition-shadow border-l-4 border-l-blue-500",children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{className:"text-lg font-semibold",children:s.title}),e.jsx(x,{className:"mt-2",children:s.summary})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[e.jsx(l,{className:w(s.severity),children:s.severity}),e.jsx(l,{className:C(s.verificationStatus),children:s.verificationStatus})]})]})}),e.jsxs(u,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Key Findings"}),e.jsx("ul",{className:"text-sm space-y-1",children:s.keyFindings.map((T,P)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-2",children:"â€¢"}),T]},P))})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Published:"}),e.jsx("span",{children:S(s.datePublished)})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Documents:"}),e.jsx("span",{children:s.documentCount})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Pages Released:"}),e.jsx("span",{children:s.pagesReleased})]}),e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Total Cost:"}),e.jsxs("span",{children:["$",s.totalCost.toFixed(2)]})]})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Public Impact"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.publicImpact})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(p,{variant:"outline",size:"sm",children:[e.jsx(L,{className:"w-4 h-4 mr-2"}),"View Details"]}),e.jsxs(p,{variant:"outline",size:"sm",children:[e.jsx(K,{className:"w-4 h-4 mr-2"}),"Download"]})]})]})})]})]},s.id))}),(a==null?void 0:a.leaks.length)===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(t,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"No leaks found matching your criteria"})]})]}),e.jsx(j,{value:"analysis",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Impact Analysis"}),e.jsx(x,{children:"Analysis of leak impact on government transparency and public trust"})]}),e.jsx(u,{children:e.jsx("p",{className:"text-muted-foreground",children:"Impact analysis features will be available soon. This will include detailed analysis of how leaks have affected government transparency, policy changes, and public trust."})})]})}),e.jsx(j,{value:"submit",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Submit a Leak"}),e.jsx(x,{children:"Secure submission portal for government documents and transparency disclosures"})]}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(f,{className:"w-5 h-5 text-yellow-600 mt-0.5 mr-3 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-1",children:"Important Notice"}),e.jsx("p",{className:"text-yellow-700 text-sm",children:"This submission portal is for legitimate government transparency disclosures only. All submissions are verified and must comply with Canadian whistleblower protection laws."})]})]})}),e.jsx("p",{className:"text-muted-foreground",children:"Secure leak submission features will be available soon. This will include encrypted file upload, anonymous submission options, and legal protection information."})]})})]})})]})]})}export{W as default};
