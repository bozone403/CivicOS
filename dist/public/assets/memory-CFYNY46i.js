import{j as e}from"./ui-CDUWW_Ri.js";import{r as n}from"./vendor-1XCZ5AD1.js";import{K as S,ag as i,T as P,v as a,I as D,g as c,h as d,i as o,n as m,j as x,y as A}from"./index-DMXpn0Qr.js";import{S as I,a as M,b as E,c as L,d as r}from"./select-BxV8pux7.js";import{T as k,a as R,b as h,c as j}from"./tabs-D2ZswzHV.js";import{T as q}from"./trending-up-CRcZsvNu.js";import"./index-q7PMzjPi.js";const g={memory:[],pagination:{page:1,limit:20,total:0,pages:0}};function Q(){const[l,b]=n.useState(""),[t,f]=n.useState("all"),[u,F]=n.useState(1),{data:N,isLoading:y,error:v}=S({queryKey:["/api/memory",l,t,u],queryFn:async()=>{try{return await A("/api/memory","GET",{search:l,timeframe:t,page:u.toString(),limit:"20"})}catch{return g}},staleTime:5*60*1e3,retry:2}),w=s=>{switch(s){case"completed":return"text-green-600 bg-green-50 border-green-200";case"in_progress":return"text-blue-600 bg-blue-50 border-blue-200";case"pending":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"proposed":return"text-purple-600 bg-purple-50 border-purple-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},T=s=>s>=80?"text-green-600 bg-green-50 border-green-200":s>=50?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",C=s=>new Date(s).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"});if(y)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(i,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 animate-pulse"}),e.jsx("p",{className:"text-gray-600",children:"Loading political memory database..."})]})})});const p=N||g;return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Political Memory"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Track political promises, commitments, and their outcomes over time"}),v&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(P,{className:"inline w-4 h-4 mr-1"}),"Showing sample data due to connection issues."]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(a,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(i,{className:"w-3 h-3 mr-1"}),"Memory Database"]}),e.jsxs(a,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(q,{className:"w-3 h-3 mr-1"}),p.pagination.total," promises tracked"]})]})]}),e.jsxs(k,{defaultValue:"promises",className:"w-full",children:[e.jsxs(R,{className:"grid w-full grid-cols-3",children:[e.jsx(h,{value:"promises",children:"Promise Tracker"}),e.jsx(h,{value:"analysis",children:"Impact Analysis"}),e.jsx(h,{value:"patterns",children:"Pattern Recognition"})]}),e.jsxs(j,{value:"promises",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(D,{placeholder:"Search promises, politicians, or policies...",value:l,onChange:s=>b(s.target.value),className:"pl-10"})]}),e.jsxs(I,{value:t,onValueChange:f,children:[e.jsx(M,{className:"w-64",children:e.jsx(E,{placeholder:"Filter by timeframe"})}),e.jsxs(L,{children:[e.jsx(r,{value:"all",children:"All Time"}),e.jsx(r,{value:"current",children:"Current Term"}),e.jsx(r,{value:"recent",children:"Last 5 Years"}),e.jsx(r,{value:"historical",children:"Historical"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:p.memory.map(s=>e.jsxs(c,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(d,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(o,{className:"text-lg font-semibold",children:s.promise}),e.jsxs(m,{className:"mt-2",children:["Made by ",s.politician," on ",C(s.date)]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[e.jsx(a,{className:w(s.status),children:s.status.replace("_"," ").toUpperCase()}),e.jsxs(a,{className:T(s.progress),children:[s.progress,"% Complete"]})]})]})}),e.jsx(x,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Category"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.category})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Source"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.source})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Progress"}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${s.progress}%`}})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Notes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.notes})]})]})})]},s.id))})]}),e.jsx(j,{value:"analysis",className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Promise Analysis"}),e.jsx(m,{children:"Analysis of promise fulfillment patterns and trends"})]}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:"20%"}),e.jsx("div",{className:"text-sm text-green-700",children:"Completed"})]}),e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:"40%"}),e.jsx("div",{className:"text-sm text-blue-700",children:"In Progress"})]}),e.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:"40%"}),e.jsx("div",{className:"text-sm text-yellow-700",children:"Pending"})]})]})})]})}),e.jsx(j,{value:"patterns",className:"space-y-6",children:e.jsxs(c,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Pattern Recognition"}),e.jsx(m,{children:"AI-powered analysis of political promise patterns"})]}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold mb-2",children:"Most Common Promise Categories"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Healthcare"}),e.jsx("span",{className:"font-semibold",children:"40%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Economy"}),e.jsx("span",{className:"font-semibold",children:"30%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Taxation"}),e.jsx("span",{className:"font-semibold",children:"20%"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Environment"}),e.jsx("span",{className:"font-semibold",children:"10%"})]})]})]})})})]})})]})]})}export{Q as default};
