import{j as e}from"./ui-CDUWW_Ri.js";import{r as b}from"./vendor-1XCZ5AD1.js";import{K as p,v as h,G as f,l as N,I as v,g as a,h as l,i as r,n as m,j as n,U as w,m as T,T as A,y as S}from"./index-DZ2pIZMx.js";import{S as C,a as I,b as L,c as k,d as t}from"./select-CXuu75iG.js";import{T as E,a as F,b as j,c as u}from"./tabs-DIt5qM9t.js";import"./index-q7PMzjPi.js";function M(){const[c,g]=b.useState(""),[d,y]=b.useState("all"),{data:o=[],isLoading:x}=p({queryKey:["/api/lobbyists"],queryFn:async()=>{var i;const s=await S("/api/lobbyists","GET");return s&&typeof s=="object"&&"data"in s?Array.isArray((i=s.data)==null?void 0:i.lobbyists)?s.data.lobbyists:Array.isArray(s.data)?s.data:[]:Array.isArray(s==null?void 0:s.lobbyists)?s.lobbyists:Array.isArray(s)?s:[]},staleTime:5*60*1e3});return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Lobbyist Influence Mapping"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Track registered lobbyists, their clients, and government interactions"})]}),e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs(h,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Registry Data"]})})]}),e.jsxs(E,{defaultValue:"lobbyists",className:"w-full",children:[e.jsxs(F,{className:"grid w-full grid-cols-3",children:[e.jsx(j,{value:"lobbyists",children:"Registered Lobbyists"}),e.jsx(j,{value:"influence-network",children:"Influence Network"}),e.jsx(j,{value:"analytics",children:"Impact Analytics"})]}),e.jsxs(u,{value:"lobbyists",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(N,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(v,{placeholder:"Search lobbyists, clients, or registration numbers...",value:c,onChange:s=>g(s.target.value),className:"pl-10"})]}),e.jsxs(C,{value:d,onValueChange:y,children:[e.jsx(I,{className:"w-48",children:e.jsx(L,{placeholder:"Filter by sector"})}),e.jsxs(k,{children:[e.jsx(t,{value:"all",children:"All Sectors"}),e.jsx(t,{value:"Energy",children:"Energy"}),e.jsx(t,{value:"Technology",children:"Technology"}),e.jsx(t,{value:"Healthcare",children:"Healthcare"}),e.jsx(t,{value:"Finance",children:"Finance"}),e.jsx(t,{value:"Transportation",children:"Transportation"})]})]})]}),e.jsxs("div",{className:"grid gap-6",children:[x&&e.jsx(a,{children:e.jsx(l,{children:e.jsx(r,{className:"text-xl",children:"Loading lobbyistsâ€¦"})})}),!x&&o.length===0&&e.jsx(a,{children:e.jsxs(l,{children:[e.jsx(r,{className:"text-xl",children:"No lobbyist data available"}),e.jsx(m,{children:"No registry records matched your filters."})]})}),!x&&o.length>0&&o.filter(s=>(d==="all"||(s.sectors||[]).includes(d))&&(c.trim()===""||(s.name||"").toLowerCase().includes(c.toLowerCase()))).map(s=>e.jsxs(a,{className:"hover:shadow-lg transition-shadow",children:[e.jsxs(l,{children:[e.jsx(r,{className:"text-lg",children:s.name}),e.jsxs(m,{children:["Meetings this year: ",s.meetingsThisYear||0]})]}),e.jsx(n,{children:e.jsxs("div",{className:"flex flex-wrap gap-2",children:[(s.sectors||[]).map(i=>e.jsx(h,{variant:"outline",children:i},i)),s.compliance&&e.jsx(h,{className:"text-xs",variant:"secondary",children:s.compliance})]})})]},s.id))]})]}),e.jsx(u,{value:"influence-network",className:"space-y-6",children:e.jsx("div",{className:"grid gap-6",children:e.jsxs(a,{children:[e.jsxs(l,{children:[e.jsx(r,{className:"text-xl",children:"No influence network data available"}),e.jsx(m,{children:"Please ensure the API is running and providing data."})]}),e.jsx(n,{children:e.jsx("p",{className:"text-muted-foreground",children:"The influence network data is currently not loaded. This might be due to an issue with the API connection or data availability."})})]})})}),e.jsx(u,{value:"analytics",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(r,{className:"flex items-center space-x-2",children:[e.jsx(w,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{children:"Active Lobbyists"})]})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"1,247"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Registered in federal lobbying registry"})]})]}),e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(r,{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-5 h-5 text-green-600"}),e.jsx("span",{children:"Government Meetings"})]})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"2,847"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Documented interactions this year"})]})]}),e.jsxs(a,{children:[e.jsx(l,{children:e.jsxs(r,{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"w-5 h-5 text-yellow-600"}),e.jsx("span",{children:"Compliance Issues"})]})}),e.jsxs(n,{children:[e.jsx("div",{className:"text-3xl font-bold text-yellow-600 mb-2",children:"23"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Under investigation or review"})]})]})]})})]})]})}export{M as default};
