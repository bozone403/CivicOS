import{j as e}from"./ui-B-8yHimL.js";import{y as g,i as d,j as o,k as x,h as m,r as b,J as C,B as n,V as u,F as p,U as v,S,o as j,K as A,N,O as f,x as T}from"./index-DRrOuT0J.js";import{L as k}from"./loading-spinner-CvmQ7-aP.js";import{T as w}from"./target-CHJ7FJpJ.js";import{A as B}from"./award-wjtt_9cn.js";import"./vendor-DRd396Ms.js";function P({children:t,className:l,hoverEffect:r="lift",delay:i=0,onClick:s}){const a={lift:"hover:shadow-lg hover:-translate-y-1 transition-all duration-300",glow:"hover:shadow-xl hover:shadow-blue-500/25 transition-all duration-300",scale:"hover:scale-105 transition-transform duration-300",none:""};return e.jsx(m,{className:g("transition-all duration-300 ease-in-out",a[r],l),style:{animationDelay:`${i}ms`},onClick:s,children:t})}function c({icon:t,title:l,description:r,value:i,trend:s,className:a,onClick:h}){const y={up:"text-green-600",down:"text-red-600",neutral:"text-gray-600"};return e.jsxs(P,{className:g("cursor-pointer",a),hoverEffect:"lift",onClick:h,children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:l}),e.jsx("div",{className:"h-4 w-4 text-muted-foreground",children:t})]}),e.jsxs(x,{children:[e.jsx("div",{className:"text-2xl font-bold",children:i}),e.jsx("p",{className:"text-xs text-muted-foreground",children:r}),s&&e.jsxs("div",{className:g("flex items-center text-xs mt-1",y[s]),children:[s==="up"&&"↗",s==="down"&&"↘",s==="neutral"&&"→",e.jsxs("span",{className:"ml-1",children:[s==="up"&&"Increasing",s==="down"&&"Decreasing",s==="neutral"&&"Stable"]})]})]})]})}function L(){const{user:t}=b(),{data:l,isLoading:r,error:i}=C({queryKey:["/api/dashboard/stats"],queryFn:async()=>{try{return await T("/api/dashboard/stats","GET")}catch(a){throw a}},staleTime:5*60*1e3,retry:2});if(r)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsx(k,{size:"lg"})});if(i)return e.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-red-600 mb-4",children:"Failed to load dashboard data"}),e.jsx("div",{className:"text-sm text-gray-600 mb-4",children:i.message}),e.jsx(n,{onClick:()=>window.location.reload(),children:"Retry"})]})});const s=l||{totalVotes:0,activeBills:0,politiciansTracked:0,petitionsSigned:0,civicPoints:0,trustScore:100,recentActivity:[]};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-6 text-white",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Welcome back, ",(t==null?void 0:t.firstName)||(t==null?void 0:t.lastName)||(t==null?void 0:t.email)||"Citizen","!"]}),e.jsx("p",{className:"text-blue-100 mt-2",children:"Stay engaged with Canadian democracy. Your voice matters."})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-2xl font-bold",children:s.civicPoints}),e.jsx("div",{className:"text-blue-100 text-sm",children:"Civic Points"})]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(c,{icon:e.jsx(u,{className:"h-4 w-4"}),title:"Total Votes",description:"Bills and petitions voted on",value:s.totalVotes,trend:"up"}),e.jsx(c,{icon:e.jsx(p,{className:"h-4 w-4"}),title:"Active Bills",description:"Currently in parliament",value:s.activeBills,trend:"neutral"}),e.jsx(c,{icon:e.jsx(v,{className:"h-4 w-4"}),title:"Politicians Tracked",description:"Representatives you follow",value:s.politiciansTracked,trend:"up"}),e.jsx(c,{icon:e.jsx(w,{className:"h-4 w-4"}),title:"Petitions Signed",description:"Causes you support",value:s.petitionsSigned,trend:"up"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs(m,{className:"lg:col-span-2",children:[e.jsxs(d,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5 text-green-600"}),"Trust Score & Achievements"]}),e.jsx(j,{children:"Your civic engagement level and recent achievements"})]}),e.jsxs(x,{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:[s.trustScore,"%"]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Trust Score"})]}),e.jsx("div",{className:"w-32 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-green-600 rounded-full transition-all duration-500",style:{width:`${s.trustScore}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[e.jsx(B,{className:"h-8 w-8 text-blue-600 mx-auto mb-2"}),e.jsxs("div",{className:"text-lg font-semibold",children:["Level ",Math.floor(s.civicPoints/100)+1]}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Civic Champion"})]}),e.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[e.jsx(A,{className:"h-8 w-8 text-purple-600 mx-auto mb-2"}),e.jsx("div",{className:"text-lg font-semibold",children:Math.floor(s.civicPoints/50)}),e.jsx("div",{className:"text-sm text-muted-foreground",children:"Badges Earned"})]})]})]})]}),e.jsxs(m,{children:[e.jsxs(d,{children:[e.jsxs(o,{className:"flex items-center gap-2",children:[e.jsx(N,{className:"h-5 w-5 text-blue-600"}),"Recent Activity"]}),e.jsx(j,{children:"Your latest civic engagement activities"})]}),e.jsx(x,{children:e.jsx("div",{className:"space-y-4",children:s.recentActivity.length>0?s.recentActivity.map((a,h)=>e.jsxs("div",{className:"flex items-center gap-3 p-3 rounded-lg hover:bg-gray-50 transition-colors",style:{animationDelay:`${h*100}ms`},children:[e.jsxs("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:[a.icon==="vote"&&e.jsx(u,{className:"h-4 w-4 text-blue-600"}),a.icon==="petition"&&e.jsx(w,{className:"h-4 w-4 text-green-600"}),a.icon==="comment"&&e.jsx(f,{className:"h-4 w-4 text-purple-600"})]}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm font-medium",children:a.title}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.timestamp})]})]},a.id)):e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx(N,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{children:"No recent activity"}),e.jsx("p",{className:"text-sm",children:"Start engaging to see your activity here"})]})})})]})]}),e.jsxs(m,{children:[e.jsxs(d,{children:[e.jsx(o,{children:"Quick Actions"}),e.jsx(j,{children:"Jump into civic engagement activities"})]}),e.jsx(x,{children:e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs(n,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(u,{className:"h-6 w-6"}),e.jsx("span",{children:"Vote on Bills"})]}),e.jsxs(n,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(v,{className:"h-6 w-6"}),e.jsx("span",{children:"Track Politicians"})]}),e.jsxs(n,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(p,{className:"h-6 w-6"}),e.jsx("span",{children:"Read News"})]}),e.jsxs(n,{variant:"outline",className:"h-20 flex-col gap-2",children:[e.jsx(f,{className:"h-6 w-6"}),e.jsx("span",{children:"Join Discussion"})]})]})})]})]})}export{L as default};
