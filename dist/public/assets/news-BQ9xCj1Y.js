import{j as e}from"./ui-CDUWW_Ri.js";import{r as l}from"./vendor-1XCZ5AD1.js";import{K as O,l as U,I as J,v as t,g as S,h as A,i as R,C as P,j as I,S as $,B as n,n as z,D as _,a as K,b as Y,c as W,d as X,y as ee}from"./index-Lb3F-gwD.js";import{S as j,a as b,b as f,c as N,d as r}from"./select-CZJqPEB_.js";import{T as ae,a as se,b as D,c as L}from"./tabs-OZtV4l85.js";import{G as v}from"./globe-gs5ymdV9.js";import{C as M}from"./clock-Bwq2TiIU.js";import{E as w}from"./external-link-CNvPDUrh.js";import{C as te}from"./calendar-vWrvLNqR.js";import"./index-q7PMzjPi.js";function ge(){const[d,B]=l.useState(""),[m,E]=l.useState("all"),[x,F]=l.useState("all"),[h,V]=l.useState("all"),[s,c]=l.useState(null),{data:o=[],isLoading:C,error:ie}=O({queryKey:["/api/news"],queryFn:async()=>{try{const a=await ee("/api/news","GET");return a&&typeof a=="object"&&"data"in a?Array.isArray(a.data)?a.data:[]:Array.isArray(a)?a:[]}catch{return[{id:"1",title:"Mark Carney Outlines Economic Vision in First Major Speech as PM",summary:"Prime Minister Mark Carney delivered his first major economic address, focusing on climate finance integration and housing market reforms.",source:"CBC News",sourceId:1,url:"https://www.cbc.ca/news/politics/carney-economic-vision-2025",publishedAt:"2025-07-24T18:30:00Z",category:"Politics",region:"National",credibility:95,bias:"Center",readTime:5,tags:["Mark Carney","Economy","Prime Minister","Climate Finance"],verified:!0},{id:"2",title:"Canadian Dollar Strengthens Following Carney Transition",summary:"The Canadian dollar has gained ground against major currencies as markets express confidence in the new Carney administration.",source:"Financial Post",sourceId:2,url:"https://financialpost.com/markets/currencies/cad-strength-carney",publishedAt:"2025-07-24T16:15:00Z",category:"Economics",region:"National",credibility:89,bias:"Center-Right",readTime:3,tags:["Currency","Markets","Mark Carney","Economy"],verified:!0},{id:"3",title:"Housing Market Response to Carney's Policy Announcements",summary:"Real estate analysts examine the potential impact of new housing affordability measures announced by the Carney government.",source:"Globe and Mail",sourceId:3,url:"https://theglobeandmail.com/real-estate/housing-carney-policy",publishedAt:"2025-07-24T14:20:00Z",category:"Real Estate",region:"National",credibility:92,bias:"Center",readTime:7,tags:["Housing","Real Estate","Policy","Mark Carney"],verified:!0},{id:"4",title:"Opposition Parties React to New Climate Finance Bill",summary:"Conservative and NDP leaders respond to the government's landmark climate finance legislation introduced in Parliament.",source:"CTV News",sourceId:4,url:"https://www.ctvnews.ca/politics/opposition-reacts-climate-bill",publishedAt:"2025-07-24T12:45:00Z",category:"Politics",region:"National",credibility:88,bias:"Center",readTime:4,tags:["Climate Policy","Opposition","Parliament","Environment"],verified:!0},{id:"5",title:"AI Regulation Framework Receives Mixed Industry Response",summary:"Technology companies and civil society groups weigh in on the government's proposed artificial intelligence regulation bill.",source:"TechCrunch",sourceId:5,url:"https://techcrunch.com/2025/07/24/canada-ai-regulation-response",publishedAt:"2025-07-24T10:30:00Z",category:"Technology",region:"National",credibility:85,bias:"Center-Left",readTime:6,tags:["Artificial Intelligence","Regulation","Technology","Policy"],verified:!0},{id:"6",title:"Universal Pharmacare Bill Introduced in Parliament",summary:"Health Minister Jean-Yves Duclos introduces landmark legislation to provide universal prescription drug coverage for all Canadians.",source:"CBC News",sourceId:1,url:"https://www.cbc.ca/news/health/pharmacare-bill-introduced",publishedAt:"2025-07-24T09:15:00Z",category:"Healthcare",region:"National",credibility:95,bias:"Center",readTime:5,tags:["Healthcare","Pharmacare","Jean-Yves Duclos","Universal Coverage"],verified:!0},{id:"7",title:"Bank of Canada Maintains Interest Rate Amid Economic Uncertainty",summary:"The central bank holds its key interest rate steady at 5.0% while monitoring inflation and economic growth indicators.",source:"Financial Post",sourceId:2,url:"https://financialpost.com/news/economy/bank-of-canada-rate-decision",publishedAt:"2025-07-24T08:00:00Z",category:"Economics",region:"National",credibility:91,bias:"Center-Right",readTime:4,tags:["Bank of Canada","Interest Rates","Economy","Inflation"],verified:!0},{id:"8",title:"Quebec Language Law Amendments Spark National Debate",summary:"Proposed changes to Quebec's language laws generate discussion about linguistic rights and provincial autonomy.",source:"Le Devoir",sourceId:6,url:"https://www.ledevoir.com/politique/quebec/langue-loi-debats",publishedAt:"2025-07-24T07:30:00Z",category:"Politics",region:"Quebec",credibility:87,bias:"Center-Left",readTime:6,tags:["Quebec","Language Laws","Provincial Politics","Cultural Rights"],verified:!0}]}},staleTime:5*60*1e3,retry:2}),H=[{id:1,name:"CBC News",url:"https://www.cbc.ca",credibility:95,bias:"Center",region:"National",type:"Public Broadcaster",verified:!0},{id:2,name:"Financial Post",url:"https://financialpost.com",credibility:89,bias:"Center-Right",region:"National",type:"Business News",verified:!0},{id:3,name:"Globe and Mail",url:"https://theglobeandmail.com",credibility:92,bias:"Center",region:"National",type:"Newspaper",verified:!0},{id:4,name:"CTV News",url:"https://www.ctvnews.ca",credibility:88,bias:"Center",region:"National",type:"Television Network",verified:!0},{id:5,name:"National Post",url:"https://nationalpost.com",credibility:87,bias:"Right",region:"National",type:"Newspaper",verified:!0}],u=o.filter(a=>{const y=a.title.toLowerCase().includes(d.toLowerCase())||a.summary.toLowerCase().includes(d.toLowerCase()),T=m==="all"||a.category===m,i=x==="all"||a.region===x,G=h==="all"||a.source===h;return y&&T&&i&&G}),Z=Array.from(new Set(o.map(a=>a.category))),Q=Array.from(new Set(o.map(a=>a.region))),q=Array.from(new Set(o.map(a=>a.source))),g=a=>a>=90?"text-green-600":a>=80?"text-yellow-600":"text-red-600",p=a=>{switch(a){case"Left":return"bg-blue-100 text-blue-800";case"Center-Left":return"bg-blue-50 text-blue-700";case"Center":return"bg-gray-100 text-gray-800";case"Center-Right":return"bg-red-50 text-red-700";case"Right":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=a=>{const y=new Date(a),i=Math.floor((new Date().getTime()-y.getTime())/(1e3*60*60));return i<1?"Just now":i<24?`${i}h ago`:`${Math.floor(i/24)}d ago`};return C?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400",children:"Loading latest news..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Canadian News"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Stay informed with verified news from across Canada - Updated July 2025"})]}),e.jsxs(ae,{defaultValue:"articles",className:"space-y-6",children:[e.jsxs(se,{className:"grid w-full grid-cols-2",children:[e.jsx(D,{value:"articles",children:"Latest News"}),e.jsx(D,{value:"sources",children:"News Sources"})]}),e.jsxs(L,{value:"articles",className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(U,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(J,{placeholder:"Search articles...",value:d,onChange:a=>B(a.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs(j,{value:m,onValueChange:E,children:[e.jsx(b,{children:e.jsx(f,{placeholder:"All Categories"})}),e.jsxs(N,{children:[e.jsx(r,{value:"all",children:"All Categories"}),Z.map(a=>e.jsx(r,{value:a,children:a},a))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Region"}),e.jsxs(j,{value:x,onValueChange:F,children:[e.jsx(b,{children:e.jsx(f,{placeholder:"All Regions"})}),e.jsxs(N,{children:[e.jsx(r,{value:"all",children:"All Regions"}),Q.map(a=>e.jsx(r,{value:a,children:a},a))]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Source"}),e.jsxs(j,{value:h,onValueChange:V,children:[e.jsx(b,{children:e.jsx(f,{placeholder:"All Sources"})}),e.jsxs(N,{children:[e.jsx(r,{value:"all",children:"All Sources"}),q.map(a=>e.jsx(r,{value:a,children:a},a))]})]})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsxs(t,{variant:"outline",className:"text-xs",children:[u.length," articles found"]}),e.jsxs(t,{variant:"outline",className:"text-xs",children:["Updated ",k(new Date().toISOString())]})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:u.map(a=>e.jsxs(S,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsx(A,{className:"pb-4",children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsx(R,{className:"text-lg leading-tight hover:text-blue-600 transition-colors",onClick:()=>c(a),children:a.title}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(t,{className:p(a.bias),children:a.bias}),e.jsx(t,{variant:"outline",className:"text-xs",children:a.category}),a.verified&&e.jsx(P,{className:"w-4 h-4 text-green-600"})]})]})})}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:a.summary}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-3 h-3"}),a.source]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-3 h-3"}),k(a.publishedAt)]})]}),e.jsxs("div",{className:`flex items-center gap-1 ${g(a.credibility)}`,children:[e.jsx($,{className:"w-3 h-3"}),a.credibility,"%"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(n,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>c(a),children:"Read More"}),e.jsx(n,{size:"sm",variant:"outline",className:"px-3",onClick:()=>window.open(a.url,"_blank"),children:e.jsx(w,{className:"w-4 h-4"})})]})]})})]},a.id))}),u.length===0&&!C&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(v,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No articles found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search criteria or filters."})]})]}),e.jsx(L,{value:"sources",className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:H.map(a=>e.jsxs(S,{children:[e.jsxs(A,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(R,{className:"text-lg",children:a.name}),a.verified&&e.jsx(P,{className:"w-5 h-5 text-green-600"})]}),e.jsx(z,{children:a.type})]}),e.jsx(I,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Credibility:"}),e.jsxs("span",{className:`font-medium ${g(a.credibility)}`,children:[a.credibility,"%"]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Bias:"}),e.jsx(t,{className:p(a.bias),children:a.bias})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Region:"}),e.jsx("span",{className:"text-sm font-medium",children:a.region})]}),e.jsxs(n,{variant:"outline",size:"sm",className:"w-full",onClick:()=>window.open(a.url,"_blank"),children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Visit Source"]})]})})]},a.id))})})]}),e.jsx(_,{open:!!s,onOpenChange:()=>c(null),children:e.jsx(K,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:s&&e.jsxs(e.Fragment,{children:[e.jsxs(Y,{children:[e.jsx(W,{className:"text-xl",children:s.title}),e.jsx(X,{children:"Read the full article and view additional details."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-4 h-4"}),s.source]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(te,{className:"w-4 h-4"}),new Date(s.publishedAt).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(M,{className:"w-4 h-4"}),s.readTime," min read"]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{className:p(s.bias),children:s.bias}),e.jsx(t,{variant:"outline",children:s.category}),e.jsxs(t,{variant:"outline",className:g(s.credibility),children:[s.credibility,"% Credible"]})]}),e.jsx("div",{className:"prose max-w-none",children:e.jsx("p",{className:"text-lg text-gray-700 dark:text-gray-300",children:s.summary})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{onClick:()=>window.open(s.url,"_blank"),children:[e.jsx(w,{className:"w-4 h-4 mr-2"}),"Read Full Article"]}),e.jsx(n,{variant:"outline",onClick:()=>c(null),children:"Close"})]})]})]})})})]})})}export{ge as default};
