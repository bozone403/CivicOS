import{r as f,j as e}from"./ui-D2Re0T6U.js";import{K as y,ai as h,T,v as m,S as w,g as a,h as n,i,a7 as C,j as l,m as S,n as x,C as M,y as k}from"./app-3Z8Fle7T.js";import{T as B,a as G,b as c,c as d}from"./tabs-BNgvIO9b.js";import{T as $}from"./trending-up-BeUvQZ2g.js";import{T as D}from"./trending-down-DaVpZnu2.js";import"./vendor-BtP0CW_r.js";const j={overallTrust:45,governmentTrust:38,mediaTrust:42,businessTrust:52,trends:[{period:"2023 Q1",government:42,media:45,business:58},{period:"2023 Q2",government:40,media:43,business:55},{period:"2023 Q3",government:39,media:42,business:53},{period:"2023 Q4",government:38,media:42,business:52}],breakdown:[{category:"Federal Government",trustScore:35,change:-2},{category:"Provincial Governments",trustScore:42,change:1},{category:"Municipal Governments",trustScore:48,change:0},{category:"Mainstream Media",trustScore:38,change:-1},{category:"Social Media",trustScore:25,change:-3},{category:"Large Corporations",trustScore:45,change:2},{category:"Small Business",trustScore:58,change:1},{category:"Non-Profits",trustScore:62,change:3}]};function K(){const[u,P]=f.useState("12months"),{data:g,isLoading:v,error:N}=y({queryKey:["/api/trust",u],queryFn:async()=>{try{return await k("/api/trust","GET",{timeframe:u})}catch{return j}},staleTime:600*1e3,retry:1}),r=g||j,t=s=>s>=70?"text-green-600 bg-green-50 border-green-200":s>=50?"text-yellow-600 bg-yellow-50 border-yellow-200":"text-red-600 bg-red-50 border-red-200",p=s=>s>0?"text-green-600":s<0?"text-red-600":"text-gray-600",b=s=>s>0?e.jsx($,{className:"w-4 h-4"}):s<0?e.jsx(D,{className:"w-4 h-4"}):e.jsx(M,{className:"w-4 w-4"});return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx(h,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 animate-pulse"}),e.jsx("p",{className:"text-gray-600",children:"Loading trust metrics..."})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Trust Metrics"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Public trust levels across government, media, and business institutions"}),N&&e.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx(T,{className:"inline w-4 h-4 mr-1"}),"Showing sample data due to connection issues."]})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(m,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(w,{className:"w-3 h-3 mr-1"}),"Trust Index"]}),e.jsxs(m,{className:t(r.overallTrust),children:[r.overallTrust,"% Overall Trust"]})]})]}),e.jsxs(B,{defaultValue:"overview",className:"w-full",children:[e.jsxs(G,{className:"grid w-full grid-cols-4",children:[e.jsx(c,{value:"overview",children:"Overview"}),e.jsx(c,{value:"trends",children:"Trends"}),e.jsx(c,{value:"breakdown",children:"Breakdown"}),e.jsx(c,{value:"analysis",children:"Analysis"})]}),e.jsx(d,{value:"overview",className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs(a,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center",children:[e.jsx(C,{className:"w-5 h-5 mr-2"}),"Government Trust"]})}),e.jsx(l,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${t(r.governmentTrust).split(" ")[0]}`,children:[r.governmentTrust,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Federal, Provincial & Municipal"})]})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center",children:[e.jsx(h,{className:"w-5 h-5 mr-2"}),"Media Trust"]})}),e.jsx(l,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${t(r.mediaTrust).split(" ")[0]}`,children:[r.mediaTrust,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Mainstream & Social Media"})]})})]}),e.jsxs(a,{children:[e.jsx(n,{children:e.jsxs(i,{className:"flex items-center",children:[e.jsx(S,{className:"w-5 h-5 mr-2"}),"Business Trust"]})}),e.jsx(l,{children:e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:`text-3xl font-bold ${t(r.businessTrust).split(" ")[0]}`,children:[r.businessTrust,"%"]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Corporations & Small Business"})]})})]})]})}),e.jsx(d,{value:"trends",className:"space-y-6",children:e.jsxs(a,{children:[e.jsxs(n,{children:[e.jsx(i,{children:"Trust Trends Over Time"}),e.jsx(x,{children:"Quarterly trust level changes across institutions"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:r.trends.map((s,o)=>e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsx("div",{className:"font-medium",children:s.period}),e.jsxs("div",{className:"flex space-x-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Government"}),e.jsxs("div",{className:`font-bold ${t(s.government).split(" ")[0]}`,children:[s.government,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Media"}),e.jsxs("div",{className:`font-bold ${t(s.media).split(" ")[0]}`,children:[s.media,"%"]})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600",children:"Business"}),e.jsxs("div",{className:`font-bold ${t(s.business).split(" ")[0]}`,children:[s.business,"%"]})]})]})]},o))})})]})}),e.jsx(d,{value:"breakdown",className:"space-y-6",children:e.jsxs(a,{children:[e.jsxs(n,{children:[e.jsx(i,{children:"Detailed Trust Breakdown"}),e.jsx(x,{children:"Trust levels by specific institution type"})]}),e.jsx(l,{children:e.jsx("div",{className:"space-y-4",children:r.breakdown.map((s,o)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-medium",children:s.category}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Trust Score: ",s.trustScore,"%"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:`flex items-center ${p(s.change)}`,children:[b(s.change),e.jsxs("span",{className:"ml-1 text-sm",children:[s.change>0?"+":"",s.change,"%"]})]}),e.jsxs(m,{className:t(s.trustScore),children:[s.trustScore,"%"]})]})]},o))})})]})}),e.jsx(d,{value:"analysis",className:"space-y-6",children:e.jsxs(a,{children:[e.jsxs(n,{children:[e.jsx(i,{children:"Trust Analysis"}),e.jsx(x,{children:"Key insights and recommendations"})]}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-red-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"Critical Areas"}),e.jsx("p",{className:"text-sm text-red-700",children:"Government trust at 38% indicates significant public skepticism. Federal institutions need transparency improvements."})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"Concerning Trends"}),e.jsx("p",{className:"text-sm text-yellow-700",children:"Media trust declining, especially social media at 25%. Need for better fact-checking and transparency."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-green-800 mb-2",children:"Positive Signs"}),e.jsx("p",{className:"text-sm text-green-700",children:"Non-profits and small business maintain higher trust levels. Local institutions performing better than national ones."})]})]})})]})})]})]})}export{K as default};
