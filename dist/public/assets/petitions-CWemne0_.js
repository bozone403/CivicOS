import{r as ae,q as le,G as oe,O as ce,s as N,j as e,g as j,k as C,T as A,B as o,C as S,m as ue,I as v,h as me,i as de,w as T,U as L,a6 as H,D as F,a as q,b as z,c as I,d as M,L as m,$ as pe,z as d}from"./index-buf9avXS.js";import{r as u}from"./vendor-BzpAWY_6.js";import{S as R,a as $,b as B,c as Q,d as t}from"./select-_iPJCygF.js";import{P as Ne}from"./progress-Dr9Z2qtN.js";import{P as ve}from"./plus-KLhPgTFI.js";import{C as K}from"./clock-OU4q0kob.js";import{B as G}from"./bookmark-CRFjEGM6.js";import{T as xe}from"./target-CwHZwKfA.js";import{C as he}from"./calendar-Cgf72yE4.js";import"./ui-7zmNL429.js";import"./index-CRhdpMXa.js";const J=[{id:1,title:"Climate Action Now",description:"Urgent petition calling for immediate climate action and carbon reduction targets in Canada.",creator:"Climate Action Network",category:"Environment",region:"National",targetSignatures:5e4,currentSignatures:32450,daysLeft:45,status:"active",urgency:"high",verified:!0,image:"https://images.unsplash.com/photo-1569163139394-de4e4c5c5c5c?w=800&h=400&fit=crop",tags:["Climate","Environment","Action"],supporters:[{name:"Greenpeace Canada",role:"Environmental Organization",location:"National"},{name:"Sierra Club Canada",role:"Environmental Organization",location:"National"}]},{id:2,title:"Universal Healthcare Expansion",description:"Petition to expand universal healthcare coverage to include dental, vision, and mental health services.",creator:"Canadian Health Coalition",category:"Healthcare",region:"National",targetSignatures:75e3,currentSignatures:56780,daysLeft:30,status:"active",urgency:"medium",verified:!0,image:"https://images.unsplash.com/photo-1576091160399-112ba8d25d1f?w=800&h=400&fit=crop",tags:["Healthcare","Universal Coverage","Dental"],supporters:[{name:"Canadian Medical Association",role:"Professional Association",location:"National"},{name:"Canadian Nurses Association",role:"Professional Association",location:"National"}]},{id:3,title:"Housing Affordability Crisis",description:"Petition demanding immediate action on the housing affordability crisis affecting millions of Canadians.",creator:"Housing Rights Coalition",category:"Housing",region:"National",targetSignatures:1e5,currentSignatures:89230,daysLeft:20,status:"active",urgency:"critical",verified:!0,image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=400&fit=crop",tags:["Housing","Affordability","Crisis"],supporters:[{name:"Canadian Housing and Renewal Association",role:"Housing Organization",location:"National"},{name:"ACORN Canada",role:"Tenant Organization",location:"National"}]}];function x(l){return l?typeof l=="string"?l:typeof l.message=="string"?l.message:typeof l.message=="object"?JSON.stringify(l.message):JSON.stringify(l):"Unknown error"}function Ve(){const{user:l,isAuthenticated:h}=ae(),{toast:n}=le(),k=oe(),[g,Y]=u.useState(""),[b,W]=u.useState("all"),[a,ge]=u.useState(null),[X,Z]=u.useState(!1),[ee,p]=u.useState(!1),[r,c]=u.useState({title:"",description:"",category:"Democracy",targetSignatures:500,deadlineDate:""}),{data:f=[],isLoading:ie,error:E}=ce({queryKey:["/api/petitions"],queryFn:async()=>{try{const i=await d("/api/petitions","GET");return i&&Array.isArray(i)?i:i&&i.data&&Array.isArray(i.data)?i.data:(console.warn("Unexpected API response format, using fallback data"),J)}catch{return J}},retry:2,retryDelay:1e3}),O=N({mutationFn:async({petitionId:i,verificationId:s})=>d(`/api/petitions/${i}/sign`,"POST",{verificationId:s}),onSuccess:()=>{n({title:"Petition signed!",description:"Your signature has been recorded successfully."}),k.invalidateQueries({queryKey:["/api/petitions"]})},onError:i=>{n({title:"Error signing petition",description:x(i)||"Failed to sign petition. Please try again.",variant:"destructive"})}}),U=N({mutationFn:async({petitionId:i,platform:s})=>d(`/api/petitions/${i}/share`,"POST",{platform:s}),onSuccess:i=>{i.shareLink&&window.open(i.shareLink,"_blank"),n({title:"Petition shared!",description:"The petition has been shared successfully."})},onError:i=>{n({title:"Error sharing petition",description:x(i)||"Failed to share petition. Please try again.",variant:"destructive"})}}),_=N({mutationFn:async i=>d(`/api/petitions/${i}/save`,"POST"),onSuccess:()=>{n({title:"Petition saved!",description:"The petition has been saved to your bookmarks."})},onError:i=>{n({title:"Error saving petition",description:x(i)||"Failed to save petition. Please try again.",variant:"destructive"})}}),D=N({mutationFn:async i=>d("/api/petitions","POST",i),onSuccess:()=>{n({title:"Petition created!",description:"Your petition has been created successfully."}),p(!1),c({title:"",description:"",category:"Democracy",targetSignatures:500,deadlineDate:""}),k.invalidateQueries({queryKey:["/api/petitions"]})},onError:i=>{n({title:"Error creating petition",description:x(i)||"Failed to create petition. Please try again.",variant:"destructive"})}}),V=async i=>{if(!h){n({title:"Authentication required",description:"Please log in to sign petitions.",variant:"destructive"});return}const s=`petition_${i}_${Date.now()}`;O.mutate({petitionId:i,verificationId:s})},y=async(i,s)=>{U.mutate({petitionId:i,platform:s})},w=async i=>{if(!h){n({title:"Authentication required",description:"Please log in to save petitions.",variant:"destructive"});return}_.mutate(i)},se=async()=>{if(!h){n({title:"Authentication required",description:"Please log in to create petitions.",variant:"destructive"});return}if(!r.title||!r.description){n({title:"Missing information",description:"Please fill in all required fields.",variant:"destructive"});return}D.mutate(r)},P=f.filter(i=>{const s=i.title.toLowerCase().includes(g.toLowerCase())||i.description.toLowerCase().includes(g.toLowerCase()),ne=b==="all"||i.category===b;return s&&ne}),te=i=>{switch(i.toLowerCase()){case"critical":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"medium":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},re=(i,s)=>Math.min(i/s*100,100);return ie?e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:e.jsxDEV("div",{className:"animate-pulse space-y-6",children:[...Array(6)].map((i,s)=>e.jsxDEV(j,{children:e.jsxDEV(C,{className:"p-6",children:[e.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:327,columnNumber:17},this),e.jsxDEV("div",{className:"h-3 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:328,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:326,columnNumber:15},this)},s,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:325,columnNumber:13},this))},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:323,columnNumber:9},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:322,columnNumber:7},this):E&&f.length===0?e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:e.jsxDEV(j,{children:e.jsxDEV(C,{className:"p-6",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV(A,{className:"h-12 w-12 text-red-500 mx-auto mb-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:344,columnNumber:15},this),e.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Error Loading Petitions"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:345,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:"Unable to load petitions at this time. Please try again later."},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:346,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:343,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:342,columnNumber:11},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:341,columnNumber:9},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:340,columnNumber:7},this):e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Canadian Petitions"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:359,columnNumber:13},this),e.jsxDEV("p",{className:"text-gray-600",children:"Make your voice heard on important issues affecting Canadians"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:360,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:358,columnNumber:11},this),e.jsxDEV(o,{onClick:()=>p(!0),className:"flex items-center gap-2",children:[e.jsxDEV(ve,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:366,columnNumber:13},this),"Create Petition"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:362,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:357,columnNumber:9},this),E&&e.jsxDEV("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-md",children:e.jsxDEV("p",{className:"text-sm text-yellow-800",children:[e.jsxDEV(A,{className:"inline w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:373,columnNumber:15},this),"Showing sample data due to connection issues. Some features may be limited."]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:372,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:371,columnNumber:11},this),e.jsxDEV("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxDEV("p",{className:"text-sm text-blue-800",children:[e.jsxDEV(S,{className:"inline w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:382,columnNumber:15},this),"Petitions section is working with fallback data. ",f.length," petitions loaded."]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:381,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:380,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:356,columnNumber:7},this),e.jsxDEV("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:393,columnNumber:13},this),e.jsxDEV(v,{placeholder:"Search petitions...",value:g,onChange:i=>Y(i.target.value),className:"pl-10"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:394,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:392,columnNumber:11},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:391,columnNumber:9},this),e.jsxDEV("div",{className:"w-full md:w-48",children:e.jsxDEV(R,{value:b,onValueChange:W,children:[e.jsxDEV($,{children:e.jsxDEV(B,{placeholder:"Filter by category"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:405,columnNumber:15},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:404,columnNumber:13},this),e.jsxDEV(Q,{children:[e.jsxDEV(t,{value:"all",children:"All Categories"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:408,columnNumber:15},this),e.jsxDEV(t,{value:"Healthcare",children:"Healthcare"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:409,columnNumber:15},this),e.jsxDEV(t,{value:"Environment",children:"Environment"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:410,columnNumber:15},this),e.jsxDEV(t,{value:"Democracy",children:"Democracy"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:411,columnNumber:15},this),e.jsxDEV(t,{value:"Indigenous Rights",children:"Indigenous Rights"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:412,columnNumber:15},this),e.jsxDEV(t,{value:"Housing",children:"Housing"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:413,columnNumber:15},this),e.jsxDEV(t,{value:"Economy",children:"Economy"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:414,columnNumber:15},this),e.jsxDEV(t,{value:"Transparency",children:"Transparency"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:415,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:407,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:403,columnNumber:11},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:402,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:390,columnNumber:7},this),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:P.map(i=>e.jsxDEV(j,{className:"hover:shadow-lg transition-shadow",children:[e.jsxDEV(me,{className:"pb-4",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(de,{className:"text-lg mb-2",children:i.title},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:428,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center gap-2 mb-2",children:[e.jsxDEV(T,{variant:"outline",className:"text-xs",children:i.category},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:430,columnNumber:21},this),e.jsxDEV(T,{className:`text-xs ${te(i.urgency)}`,children:i.urgency},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:433,columnNumber:21},this),i.verified&&e.jsxDEV(S,{className:"h-4 w-4 text-green-600"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:437,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:429,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:427,columnNumber:17},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:426,columnNumber:15},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:425,columnNumber:13},this),e.jsxDEV(C,{children:[e.jsxDEV("p",{className:"text-gray-600 text-sm mb-4 line-clamp-3",children:i.description},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:445,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-3",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"flex items-center justify-between text-sm mb-1",children:[e.jsxDEV("span",{className:"text-gray-600",children:"Progress"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:452,columnNumber:21},this),e.jsxDEV("span",{className:"font-medium",children:[i.currentSignatures.toLocaleString()," / ",i.targetSignatures.toLocaleString()]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:453,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:451,columnNumber:19},this),e.jsxDEV(Ne,{value:re(i.currentSignatures,i.targetSignatures),className:"h-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:455,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:450,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(L,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:460,columnNumber:21},this),e.jsxDEV("span",{children:[i.currentSignatures.toLocaleString()," signatures"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:461,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:459,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(K,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:464,columnNumber:21},this),e.jsxDEV("span",{children:[i.daysLeft," days left"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:465,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:463,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:458,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:449,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between mt-4 pt-4 border-t border-gray-100",children:[e.jsxDEV("span",{className:"text-sm font-medium text-gray-700",children:i.creator},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:471,columnNumber:17},this),i.verified&&e.jsxDEV(S,{className:"w-4 h-4 text-green-600"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:473,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:470,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between mt-4",children:[e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV(o,{variant:"outline",size:"sm",onClick:()=>w(i.id),disabled:_.isPending,children:[e.jsxDEV(G,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:485,columnNumber:21},this),"Save"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:479,columnNumber:19},this),e.jsxDEV(o,{variant:"outline",size:"sm",onClick:()=>y(i.id,"twitter"),disabled:U.isPending,children:[e.jsxDEV(H,{className:"w-4 h-4 mr-1"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:494,columnNumber:21},this),"Share"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:488,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:478,columnNumber:17},this),e.jsxDEV(o,{size:"sm",onClick:()=>V(i.id),disabled:O.isPending,children:"Sign Petition"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:498,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:477,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:444,columnNumber:13},this)]},i.id,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:424,columnNumber:11},this))},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:422,columnNumber:7},this),P.length===0&&e.jsxDEV("div",{className:"text-center py-12",children:[e.jsxDEV(xe,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:513,columnNumber:11},this),e.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No petitions found"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:514,columnNumber:11},this),e.jsxDEV("p",{className:"text-gray-600",children:"Try adjusting your search or filter criteria."},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:515,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:512,columnNumber:9},this),e.jsxDEV(F,{open:X,onOpenChange:Z,children:e.jsxDEV(q,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:a&&e.jsxDEV("div",{children:[e.jsxDEV(z,{children:[e.jsxDEV(I,{children:a.title},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:525,columnNumber:17},this),e.jsxDEV(M,{children:a.description},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:526,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:524,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-6 mt-6",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(L,{className:"w-4 h-4 text-gray-500"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:533,columnNumber:23},this),e.jsxDEV("span",{children:[a.currentSignatures.toLocaleString()," signatures"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:534,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:532,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(K,{className:"w-4 h-4 text-gray-500"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:537,columnNumber:23},this),e.jsxDEV("span",{children:[a.daysLeft," days left"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:538,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:536,columnNumber:21},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(he,{className:"w-4 h-4 text-gray-500"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:541,columnNumber:23},this),e.jsxDEV("span",{children:a.status},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:542,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:540,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:531,columnNumber:19},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:530,columnNumber:17},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold mb-3",children:"Key Supporters"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:548,columnNumber:19},this),e.jsxDEV("div",{className:"space-y-2",children:a.supporters.map((i,s)=>e.jsxDEV("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-sm",children:i.name},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:553,columnNumber:27},this),e.jsxDEV("p",{className:"text-xs text-gray-600",children:i.role},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:554,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:552,columnNumber:25},this),e.jsxDEV("span",{className:"text-xs text-gray-500",children:i.location},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:556,columnNumber:25},this)]},s,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:551,columnNumber:23},this))},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:549,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:547,columnNumber:17},this),e.jsxDEV("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV("span",{children:["Created by: ",a.creator]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:564,columnNumber:21},this),e.jsxDEV("span",{children:[a.daysLeft," days remaining"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:565,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:563,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(o,{variant:"outline",size:"sm",onClick:()=>w(a.id),children:[e.jsxDEV(G,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:573,columnNumber:23},this),"Save"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:568,columnNumber:21},this),e.jsxDEV(o,{variant:"outline",size:"sm",onClick:()=>y(a.id,"twitter"),children:[e.jsxDEV(H,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:581,columnNumber:23},this),"Share"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:576,columnNumber:21},this),e.jsxDEV(o,{size:"sm",onClick:()=>V(a.id),children:"Sign Petition"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:584,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:567,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:562,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:529,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:523,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:521,columnNumber:9},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:520,columnNumber:7},this),e.jsxDEV(F,{open:ee,onOpenChange:p,children:e.jsxDEV(q,{className:"max-w-2xl",children:[e.jsxDEV(z,{children:[e.jsxDEV(I,{children:"Create New Petition"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:602,columnNumber:13},this),e.jsxDEV(M,{children:"Start a petition to make your voice heard on important issues."},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:603,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:601,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4 mt-6",children:[e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"title",children:"Petition Title *"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:610,columnNumber:15},this),e.jsxDEV(v,{id:"title",placeholder:"Enter petition title...",value:r.title,onChange:i=>c({...r,title:i.target.value})},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:611,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:609,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"description",children:"Description *"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:620,columnNumber:15},this),e.jsxDEV(pe,{id:"description",placeholder:"Describe your petition and why it's important...",value:r.description,onChange:i=>c({...r,description:i.target.value}),rows:4},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:621,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:619,columnNumber:13},this),e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"category",children:"Category"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:632,columnNumber:17},this),e.jsxDEV(R,{value:r.category,onValueChange:i=>c({...r,category:i}),children:[e.jsxDEV($,{children:e.jsxDEV(B,{},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:635,columnNumber:21},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:634,columnNumber:19},this),e.jsxDEV(Q,{children:[e.jsxDEV(t,{value:"Democracy",children:"Democracy"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:638,columnNumber:21},this),e.jsxDEV(t,{value:"Healthcare",children:"Healthcare"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:639,columnNumber:21},this),e.jsxDEV(t,{value:"Environment",children:"Environment"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:640,columnNumber:21},this),e.jsxDEV(t,{value:"Housing",children:"Housing"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:641,columnNumber:21},this),e.jsxDEV(t,{value:"Economy",children:"Economy"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:642,columnNumber:21},this),e.jsxDEV(t,{value:"Indigenous Rights",children:"Indigenous Rights"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:643,columnNumber:21},this),e.jsxDEV(t,{value:"Transparency",children:"Transparency"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:644,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:637,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:633,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:631,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"targetSignatures",children:"Target Signatures"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:650,columnNumber:17},this),e.jsxDEV(v,{id:"targetSignatures",type:"number",placeholder:"500",value:r.targetSignatures,onChange:i=>c({...r,targetSignatures:parseInt(i.target.value)||500})},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:651,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:649,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:630,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV(m,{htmlFor:"deadlineDate",children:"Deadline (Optional)"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:662,columnNumber:15},this),e.jsxDEV(v,{id:"deadlineDate",type:"date",value:r.deadlineDate,onChange:i=>c({...r,deadlineDate:i.target.value})},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:663,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:661,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:608,columnNumber:11},this),e.jsxDEV("div",{className:"flex justify-end space-x-2 mt-6",children:[e.jsxDEV(o,{variant:"outline",onClick:()=>p(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:673,columnNumber:13},this),e.jsxDEV(o,{onClick:se,disabled:D.isPending,children:D.isPending?"Creating...":"Create Petition"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:676,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:672,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:600,columnNumber:9},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:599,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/petitions.tsx",lineNumber:355,columnNumber:5},this)}export{Ve as default};
