import{j as e}from"./ui-CDUWW_Ri.js";import{r as o}from"./vendor-1XCZ5AD1.js";import{K as j,k as B,g as i,h as n,i as d,l as P,n as x,j as m,I as V,B as h,ae as u,v as r,F as v,ad as f,M as y}from"./index-yatsprew.js";import{S as w,a as C,b as k,c as S,d as a}from"./select-C-vAH6TQ.js";import{T as q,a as z,b as L,c as T}from"./tabs-BBhYHReU.js";import{E as p}from"./external-link-B1v7jQpn.js";import{C as A}from"./calendar-DLCcVvjd.js";import"./index-q7PMzjPi.js";function W(){const[c,D]=o.useState(""),[E,I]=o.useState("all"),[K,R]=o.useState("all"),{data:_=[]}=j({queryKey:["/api/legal/search"]}),{data:g=[]}=j({queryKey:["/api/legal/acts"],refetchInterval:3e5}),{data:N=[]}=j({queryKey:["/api/legal/cases"],refetchInterval:3e5}),b=()=>{c.length>2};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 p-4 md:p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center gap-3",children:[e.jsx(B,{className:"w-8 h-8 text-purple-600"}),e.jsx("h1",{className:"text-3xl md:text-4xl font-bold font-serif text-slate-900 dark:text-slate-100",children:"Legal Database Search"})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 text-lg max-w-3xl mx-auto",children:"Search comprehensive Canadian legal database including Criminal Code sections, federal acts, provincial laws, and Supreme Court decisions"})]}),e.jsxs(i,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(P,{className:"w-5 h-5"}),"Advanced Legal Search"]}),e.jsx(x,{children:"Search across legal acts, court cases, and Criminal Code sections"})]}),e.jsx(m,{className:"space-y-4",children:e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(V,{placeholder:"Search legal documents, case names, or act titles...",value:c,onChange:s=>D(s.target.value),onKeyPress:s=>s.key==="Enter"&&b(),className:"w-full"})}),e.jsxs(w,{value:E,onValueChange:I,children:[e.jsx(C,{className:"w-full md:w-[200px]",children:e.jsx(k,{placeholder:"Search Type"})}),e.jsxs(S,{children:[e.jsx(a,{value:"all",children:"All Legal Documents"}),e.jsx(a,{value:"legal_act",children:"Legal Acts"}),e.jsx(a,{value:"legal_case",children:"Court Cases"}),e.jsx(a,{value:"criminal_code",children:"Criminal Code"})]})]}),e.jsxs(w,{value:K,onValueChange:R,children:[e.jsx(C,{className:"w-full md:w-[180px]",children:e.jsx(k,{placeholder:"Jurisdiction"})}),e.jsxs(S,{children:[e.jsx(a,{value:"all",children:"All Jurisdictions"}),e.jsx(a,{value:"federal",children:"Federal"}),e.jsx(a,{value:"provincial",children:"Provincial"}),e.jsx(a,{value:"supreme",children:"Supreme Court"})]})]}),e.jsx(h,{onClick:b,className:"px-8",children:"Search"})]})})]}),c.length>2&&e.jsxs(i,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs(n,{children:[e.jsx(d,{children:"Search Results"}),e.jsx(x,{})]}),e.jsx(m,{children:e.jsx(u,{className:"h-96",children:e.jsx("div",{className:"space-y-4",children:_.map((s,l)=>e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r,{variant:"outline",className:"text-xs",children:s.type==="legal_act"?"Legal Act":s.type==="legal_case"?"Court Case":s.type==="politician"?"Politician":"Bill"}),s.type==="legal_act"&&e.jsx(v,{className:"w-4 h-4 text-blue-600"}),s.type==="legal_case"&&e.jsx(f,{className:"w-4 h-4 text-purple-600"})]}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:s.description||"No description available"})]}),e.jsx(h,{variant:"outline",size:"sm",children:e.jsx(p,{className:"w-4 h-4"})})]})},l))||e.jsxs("div",{className:"text-center py-8 text-slate-500",children:['No results found for "',c,'"']})})})})]}),e.jsxs(q,{defaultValue:"acts",className:"w-full",children:[e.jsxs(z,{className:"grid w-full grid-cols-2 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[e.jsxs(L,{value:"acts",children:["Legal Acts (",g.length,")"]}),e.jsxs(L,{value:"cases",children:["Court Cases (",N.length,")"]})]}),e.jsx(T,{value:"acts",className:"mt-6",children:e.jsxs(i,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-5 h-5 text-blue-600"}),"Recent Legal Acts"]}),e.jsx(x,{children:"Latest federal and provincial legal acts and legislation"})]}),e.jsx(m,{children:e.jsx(u,{className:"h-96",children:e.jsx("div",{className:"space-y-4",children:g.slice(0,20).map(s=>{var l,t;return e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r,{variant:"outline",className:"text-xs",children:s.jurisdiction}),e.jsx(r,{variant:"secondary",className:"text-xs",children:s.category||"General"})]}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:s.title}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[((l=s.summary)==null?void 0:l.substring(0,200))||"No summary available",((t=s.summary)==null?void 0:t.length)>200&&"..."]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),s.date_enacted?new Date(s.date_enacted).toLocaleDateString():"Date unknown"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-3 h-3"}),s.jurisdiction]})]})]}),e.jsx(h,{variant:"outline",size:"sm",children:e.jsx(p,{className:"w-4 h-4"})})]})},s.id)})||e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading legal acts..."})})})})]})}),e.jsx(T,{value:"cases",className:"mt-6",children:e.jsxs(i,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-5 h-5 text-purple-600"}),"Recent Court Cases"]}),e.jsx(x,{children:"Latest Supreme Court and federal court decisions"})]}),e.jsx(m,{children:e.jsx(u,{className:"h-96",children:e.jsx("div",{className:"space-y-4",children:N.slice(0,20).map(s=>{var l,t;return e.jsx("div",{className:"p-4 rounded-lg border border-slate-200 dark:border-slate-700 hover:bg-slate-50 dark:hover:bg-slate-700/50 transition-colors",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(r,{variant:"outline",className:"text-xs",children:s.court}),e.jsx(r,{variant:"secondary",className:"text-xs",children:s.case_number})]}),e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-slate-100 mb-2",children:s.case_name}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:[((l=s.summary)==null?void 0:l.substring(0,200))||"No summary available",((t=s.summary)==null?void 0:t.length)>200&&"..."]}),e.jsxs("div",{className:"flex items-center gap-4 text-xs text-slate-500",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(A,{className:"w-3 h-3"}),s.date_decided?new Date(s.date_decided).toLocaleDateString():"Date unknown"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-3 h-3"}),s.jurisdiction]})]})]}),e.jsx(h,{variant:"outline",size:"sm",children:e.jsx(p,{className:"w-4 h-4"})})]})},s.id)})||e.jsx("div",{className:"text-center py-8 text-slate-500",children:"Loading court cases..."})})})})]})})]})]})})}export{W as default};
