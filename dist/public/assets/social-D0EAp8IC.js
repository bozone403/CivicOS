import{E as J,r as pe,q as ve,G as xe,O as A,s as d,z as a,j as e,g as N,k as p,X as D,Y as j,Z as C,$ as k,B as n,am as L,h as he,ao as R,a2 as K,_ as be,a6 as fe,D as Q,a as Y,b as H,c as W}from"./index-buf9avXS.js";import{r}from"./vendor-BzpAWY_6.js";import{I as Se}from"./image-GtqDwu36.js";import{S as De}from"./smile-DMbWiuCj.js";import{S as B}from"./square-pen-BAQ-dXUL.js";import"./ui-7zmNL429.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=J("Reply",[["polyline",{points:"9 17 4 12 9 7",key:"hvgpf2"}],["path",{d:"M20 18v-2a4 4 0 0 0-4-4H4",key:"5vmcpk"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=J("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function Ce(){var q,T,M;const{user:t,isAuthenticated:E}=pe(),{toast:c}=ve(),m=xe(),[v,F]=r.useState(""),[x,O]=r.useState(""),[i,X]=r.useState(null),[Z,h]=r.useState(!1),[ee,V]=r.useState(!1),[ke,_]=r.useState(null),[u,b]=r.useState(null),[l,U]=r.useState(null),[f,g]=r.useState(""),se=r.useRef(null),{data:y=[],isLoading:ie}=A({queryKey:["civicSocialFeed"],queryFn:async()=>{const s=await a("/api/social/feed","GET");return(s==null?void 0:s.feed)||[]},enabled:E}),{data:te=[]}=A({queryKey:["/api/social/posts",i==null?void 0:i.id,"comments"],queryFn:async()=>{var o;const s=await a(`/api/social/posts/${i==null?void 0:i.id}`,"GET");return((o=s==null?void 0:s.post)==null?void 0:o.comments)||[]},enabled:!!i&&E}),w=d({mutationFn:async s=>a("/api/social/posts","POST",s),onSuccess:()=>{m.invalidateQueries({queryKey:["civicSocialFeed"]}),F(""),g(""),h(!1),c({title:"Post created!",description:"Your post has been shared successfully."})},onError:s=>{c({title:"Error creating post",description:s.message||"Failed to create post. Please try again.",variant:"destructive"})}});d({mutationFn:async({postId:s,data:o})=>a(`/api/social/posts/${s}`,"PUT",o),onSuccess:()=>{m.invalidateQueries({queryKey:["civicSocialFeed"]}),_(null),c({title:"Post updated!",description:"Your post has been updated successfully."})},onError:s=>{c({title:"Error updating post",description:s.message||"Failed to update post. Please try again.",variant:"destructive"})}});const ne=d({mutationFn:async s=>a(`/api/social/posts/${s}`,"DELETE"),onSuccess:()=>{m.invalidateQueries({queryKey:["civicSocialFeed"]}),c({title:"Post deleted!",description:"Your post has been deleted successfully."})},onError:s=>{c({title:"Error deleting post",description:s.message||"Failed to delete post. Please try again.",variant:"destructive"})}}),oe=d({mutationFn:async({postId:s,content:o,parentCommentId:S})=>a(`/api/social/posts/${s}/comments`,"POST",{content:o,parentCommentId:S}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/social/posts",i==null?void 0:i.id,"comments"]}),O(""),U(null),c({title:"Comment posted!",description:"Your comment has been posted successfully."})},onError:s=>{c({title:"Error posting comment",description:s.message||"Failed to post comment. Please try again.",variant:"destructive"})}}),ce=d({mutationFn:async({commentId:s,content:o})=>a(`/api/social/comments/${s}`,"PUT",{content:o}),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/social/posts",i==null?void 0:i.id,"comments"]}),b(null),c({title:"Comment updated!",description:"Your comment has been updated successfully."})},onError:s=>{c({title:"Error updating comment",description:s.message||"Failed to update comment. Please try again.",variant:"destructive"})}}),le=d({mutationFn:async s=>a(`/api/social/comments/${s}`,"DELETE"),onSuccess:()=>{m.invalidateQueries({queryKey:["/api/social/posts",i==null?void 0:i.id,"comments"]}),c({title:"Comment deleted!",description:"Your comment has been deleted successfully."})},onError:s=>{c({title:"Error deleting comment",description:s.message||"Failed to delete comment. Please try again.",variant:"destructive"})}}),re=d({mutationFn:async({postId:s,commentId:o})=>a("/api/social/like","POST",{postId:s,commentId:o}),onSuccess:()=>{m.invalidateQueries({queryKey:["civicSocialFeed"]}),i&&m.invalidateQueries({queryKey:["/api/social/posts",i.id,"comments"]})},onError:s=>{c({title:"Error",description:s.message||"Failed to like/unlike. Please try again.",variant:"destructive"})}}),P=()=>{if(!v.trim()&&!f.trim()){c({title:"Error",description:"Please enter some content or an image URL.",variant:"destructive"});return}w.mutate({content:v,imageUrl:f||void 0})},ae=s=>{confirm("Are you sure you want to delete this post?")&&ne.mutate(s)},me=()=>{!i||!x.trim()||oe.mutate({postId:i.id,content:x,parentCommentId:l==null?void 0:l.id})},ue=s=>{u&&ce.mutate({commentId:s.id,content:u.content})},de=s=>{confirm("Are you sure you want to delete this comment?")&&le.mutate(s)},I=(s,o)=>{re.mutate({postId:s,commentId:o})},z=s=>s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.userId,$=s=>s.firstName&&s.lastName?`${s.firstName[0]}${s.lastName[0]}`:s.userId.substring(0,2).toUpperCase();return E?e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"CivicSocial Feed"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:333,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600",children:"Share your thoughts and engage with the community"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:334,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:332,columnNumber:7},this),e.jsxDEV(N,{className:"mb-6",children:e.jsxDEV(p,{className:"p-6",children:e.jsxDEV("div",{className:"flex items-start space-x-4",children:[e.jsxDEV(D,{className:"h-10 w-10",children:[e.jsxDEV(j,{src:t==null?void 0:t.profileImageUrl},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:342,columnNumber:15},this),e.jsxDEV(C,{children:((q=t==null?void 0:t.firstName)==null?void 0:q[0])||((T=t==null?void 0:t.lastName)==null?void 0:T[0])||((M=t==null?void 0:t.email)==null?void 0:M[0])||"U"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:343,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:341,columnNumber:13},this),e.jsxDEV("div",{className:"flex-1",children:[e.jsxDEV(k,{placeholder:"What's on your mind?",value:v,onChange:s=>F(s.target.value),className:"min-h-[100px] resize-none",ref:se},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:348,columnNumber:15},this),e.jsxDEV("div",{className:"flex items-center justify-between mt-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(n,{variant:"outline",size:"sm",onClick:()=>h(!0),children:[e.jsxDEV(Se,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:362,columnNumber:21},this),"Add Image"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:357,columnNumber:19},this),e.jsxDEV(n,{variant:"outline",size:"sm",children:[e.jsxDEV(De,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:369,columnNumber:21},this),"Emoji"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:365,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:356,columnNumber:17},this),e.jsxDEV(n,{onClick:P,disabled:w.isPending||!v.trim()&&!f.trim(),children:[e.jsxDEV(L,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:377,columnNumber:19},this),"Post"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:373,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:355,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:347,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:340,columnNumber:11},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:339,columnNumber:9},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:338,columnNumber:7},this),e.jsxDEV("div",{className:"space-y-6",children:ie?e.jsxDEV("div",{className:"animate-pulse space-y-6",children:[...Array(3)].map((s,o)=>e.jsxDEV(N,{children:e.jsxDEV(p,{className:"p-6",children:[e.jsxDEV("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:393,columnNumber:19},this),e.jsxDEV("div",{className:"h-3 bg-gray-200 rounded w-1/2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:394,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:392,columnNumber:17},this)},o,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:391,columnNumber:15},this))},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:389,columnNumber:11},this):y.length===0?e.jsxDEV(N,{children:e.jsxDEV(p,{className:"p-6",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No posts yet"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:403,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600",children:"Be the first to share something!"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:404,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:402,columnNumber:15},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:401,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:400,columnNumber:11},this):y.map(s=>e.jsxDEV(N,{children:[e.jsxDEV(he,{className:"pb-4",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV(D,{className:"h-10 w-10",children:[e.jsxDEV(j,{src:s.profileImageUrl},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:415,columnNumber:23},this),e.jsxDEV(C,{children:$(s)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:416,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:414,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-gray-900",children:z(s)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:419,columnNumber:23},this),e.jsxDEV("p",{className:"text-sm text-gray-500",children:R(new Date(s.createdAt),{addSuffix:!0})},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:420,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:418,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:413,columnNumber:19},this),s.userId===(t==null?void 0:t.id)&&e.jsxDEV("div",{className:"flex items-center space-x-2",children:[e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>_(s),children:e.jsxDEV(B,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:432,columnNumber:25},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:427,columnNumber:23},this),e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>ae(s.id),children:e.jsxDEV(G,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:439,columnNumber:25},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:434,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:426,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:412,columnNumber:17},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:411,columnNumber:15},this),e.jsxDEV(p,{children:[s.content&&e.jsxDEV("p",{className:"text-gray-900 mb-4",children:s.content},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:448,columnNumber:19},this),s.imageUrl&&e.jsxDEV("img",{src:s.imageUrl,alt:"Post image",className:"w-full h-64 object-cover rounded-lg mb-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:452,columnNumber:19},this),s.type==="share"&&s.comment&&e.jsxDEV("div",{className:"bg-gray-50 p-4 rounded-lg mb-4",children:e.jsxDEV("p",{className:"text-sm text-gray-600",children:s.comment},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:461,columnNumber:21},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:460,columnNumber:19},this),e.jsxDEV("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:e.jsxDEV("div",{className:"flex items-center space-x-4",children:[e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>I(s.id),className:s.isLiked?"text-red-500":"",children:[e.jsxDEV(K,{className:`w-4 h-4 mr-2 ${s.isLiked?"fill-current":""}`},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:473,columnNumber:23},this),s.likeCount]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:467,columnNumber:21},this),e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>{X(s),V(!0)},children:[e.jsxDEV(be,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:484,columnNumber:23},this),s.commentCount]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:476,columnNumber:21},this),e.jsxDEV(n,{variant:"ghost",size:"sm",children:[e.jsxDEV(fe,{className:"w-4 h-4 mr-2"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:488,columnNumber:23},this),"Share"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:487,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:466,columnNumber:19},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:465,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:446,columnNumber:15},this)]},s.id,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:410,columnNumber:13},this))},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:387,columnNumber:7},this),e.jsxDEV(Q,{open:Z,onOpenChange:h,children:e.jsxDEV(Y,{children:[e.jsxDEV(H,{children:e.jsxDEV(W,{children:"Create Post"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:503,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:502,columnNumber:11},this),e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(k,{placeholder:"What's on your mind?",value:v,onChange:s=>F(s.target.value),className:"min-h-[120px]"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:506,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV("label",{className:"text-sm font-medium",children:"Image URL (optional)"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:513,columnNumber:15},this),e.jsxDEV("input",{type:"url",placeholder:"https://example.com/image.jpg",value:f,onChange:s=>g(s.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:514,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:512,columnNumber:13},this),e.jsxDEV("div",{className:"flex justify-end space-x-2",children:[e.jsxDEV(n,{variant:"outline",onClick:()=>h(!1),children:"Cancel"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:523,columnNumber:15},this),e.jsxDEV(n,{onClick:P,children:"Post"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:526,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:522,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:505,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:501,columnNumber:9},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:500,columnNumber:7},this),e.jsxDEV(Q,{open:ee,onOpenChange:V,children:e.jsxDEV(Y,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsxDEV(H,{children:e.jsxDEV(W,{children:"Comments"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:538,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:537,columnNumber:11},this),i&&e.jsxDEV("div",{className:"space-y-4",children:[e.jsxDEV(N,{children:e.jsxDEV(p,{className:"p-4",children:[e.jsxDEV("div",{className:"flex items-center space-x-3 mb-3",children:[e.jsxDEV(D,{className:"h-8 w-8",children:[e.jsxDEV(j,{src:i.profileImageUrl},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:548,columnNumber:23},this),e.jsxDEV(C,{children:$(i)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:549,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:547,columnNumber:21},this),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-medium text-sm",children:z(i)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:552,columnNumber:23},this),e.jsxDEV("p",{className:"text-xs text-gray-500",children:R(new Date(i.createdAt),{addSuffix:!0})},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:553,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:551,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:546,columnNumber:19},this),i.content&&e.jsxDEV("p",{className:"text-sm",children:i.content},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:558,columnNumber:44},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:545,columnNumber:17},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:544,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-4",children:te.map(s=>{var o,S;return e.jsxDEV("div",{className:"flex space-x-3",children:[e.jsxDEV(D,{className:"h-8 w-8 flex-shrink-0",children:[e.jsxDEV(j,{src:s.profileImageUrl},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:567,columnNumber:23},this),e.jsxDEV(C,{children:[(o=s.firstName)==null?void 0:o[0],(S=s.lastName)==null?void 0:S[0]]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:568,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:566,columnNumber:21},this),e.jsxDEV("div",{className:"flex-1",children:e.jsxDEV("div",{className:"bg-gray-50 p-3 rounded-lg",children:[e.jsxDEV("div",{className:"flex items-center justify-between mb-2",children:[e.jsxDEV("p",{className:"font-medium text-sm",children:s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.userId},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:575,columnNumber:27},this),s.userId===(t==null?void 0:t.id)&&e.jsxDEV("div",{className:"flex items-center space-x-1",children:[e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>b(s),children:e.jsxDEV(B,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:587,columnNumber:33},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:582,columnNumber:31},this),e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>de(s.id),children:e.jsxDEV(G,{className:"w-3 h-3"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:594,columnNumber:33},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:589,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:581,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:574,columnNumber:25},this),(u==null?void 0:u.id)===s.id?e.jsxDEV("div",{className:"space-y-2",children:[e.jsxDEV(k,{value:u.content,onChange:Ne=>b({...u,content:Ne.target.value}),className:"min-h-[80px]"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:601,columnNumber:29},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV(n,{size:"sm",onClick:()=>ue(s),children:"Save"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:607,columnNumber:31},this),e.jsxDEV(n,{size:"sm",variant:"outline",onClick:()=>b(null),children:"Cancel"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:610,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:606,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:600,columnNumber:27},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("p",{className:"text-sm",children:s.content},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:617,columnNumber:29},this),e.jsxDEV("div",{className:"flex items-center space-x-4 mt-2",children:[e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>I(void 0,s.id),className:s.isLiked?"text-red-500":"",children:[e.jsxDEV(K,{className:`w-3 h-3 mr-1 ${s.isLiked?"fill-current":""}`},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:625,columnNumber:33},this),s.likeCount]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:619,columnNumber:31},this),e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>U(s),children:[e.jsxDEV(je,{className:"w-3 h-3 mr-1"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:633,columnNumber:33},this),"Reply"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:628,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:618,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:616,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:573,columnNumber:23},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:572,columnNumber:21},this)]},s.id,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:565,columnNumber:19},this)})},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:563,columnNumber:15},this),e.jsxDEV("div",{className:"space-y-2",children:[l&&e.jsxDEV("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxDEV("p",{className:"text-sm text-blue-600",children:["Replying to ",l.firstName&&l.lastName?`${l.firstName} ${l.lastName}`:l.userId]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:649,columnNumber:21},this),e.jsxDEV(n,{variant:"ghost",size:"sm",onClick:()=>U(null),children:"Cancel reply"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:654,columnNumber:21},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:648,columnNumber:19},this),e.jsxDEV("div",{className:"flex space-x-2",children:[e.jsxDEV(k,{placeholder:l?"Write a reply...":"Write a comment...",value:x,onChange:s=>O(s.target.value),className:"flex-1"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:664,columnNumber:19},this),e.jsxDEV(n,{onClick:me,disabled:!x.trim(),children:e.jsxDEV(L,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:674,columnNumber:21},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:670,columnNumber:19},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:663,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:646,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:542,columnNumber:13},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:536,columnNumber:9},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:535,columnNumber:7},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:331,columnNumber:5},this):e.jsxDEV("div",{className:"container mx-auto px-4 py-8",children:e.jsxDEV(N,{children:e.jsxDEV(p,{className:"p-6",children:e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"Sign in to view the social feed"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:321,columnNumber:15},this),e.jsxDEV("p",{className:"text-gray-600",children:"Join the conversation and connect with other citizens."},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:322,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:320,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:319,columnNumber:11},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:318,columnNumber:9},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/components/SocialFeed.tsx",lineNumber:317,columnNumber:7},this)}function ge(){return e.jsxDEV(Ce,{},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/social.tsx",lineNumber:5,columnNumber:10},this)}export{ge as default};
