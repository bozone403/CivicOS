import{r as o,j as e}from"./ui-D2Re0T6U.js";import{p as G,K as D,B as i,l as H,I as z,v as l,g as V,h as O,i as Q,n as $,j as J,M as U,V as q,a6 as W,a3 as K,t as y,U as j,P as Y,a7 as _,y as X}from"./app-3Z8Fle7T.js";import{S as b,a as N,b as w,c as C,d}from"./select-gFhVg5is.js";import{T as Z,a as ee,b as m,c as x}from"./tabs-BNgvIO9b.js";import{B as k}from"./building-2-BMOiKNpy.js";import{E as ae}from"./external-link-DrsCR-9Z.js";import{G as se}from"./globe-BtmHTK95.js";import"./vendor-BtP0CW_r.js";import"./index-B4pxPuSB.js";function xe(){const{toast:P}=G(),[n,S]=o.useState(""),[h,A]=o.useState("all"),[g,L]=o.useState("all"),[s,p]=o.useState(null),{data:v=[],isLoading:f,error:F}=D({queryKey:["/api/politicians"],queryFn:async()=>{try{const a=await X("/api/politicians","GET");return a&&typeof a=="object"&&"data"in a?Array.isArray(a.data)?a.data:[]:Array.isArray(a)?a:[]}catch{return[{id:1,name:"Mark Carney",party:"Liberal",position:"Prime Minister",riding:"Ottawa Centre",level:"Federal",jurisdiction:"Federal",image:"/assets/mark-carney.jpg",trustScore:85,civicLevel:"Gold",recentActivity:"Announced climate finance framework",policyPositions:["Climate Action","Economic Reform","Housing Affordability"],votingRecord:{yes:156,no:23,abstain:12},contactInfo:{email:"mark.carney@parl.gc.ca",phone:"613-992-4211",office:"Centre Block, Parliament Hill",website:"https://www.liberal.ca/team/mark-carney/",social:{twitter:"@MarkCarney",facebook:"MarkCarneyPM"}},bio:"Former Governor of the Bank of England and Bank of Canada, now serving as Prime Minister of Canada.",keyAchievements:["Climate Finance Framework","Economic Recovery Plan","Housing Initiative"],committees:["Cabinet","Economic Committee","Climate Action"],expenses:{travel:45e3,hospitality:12e3,office:85e3,total:142e3,year:"2025"}},{id:2,name:"Pierre Poilievre",party:"Conservative",position:"Leader of the Opposition",riding:"Carleton",level:"Federal",jurisdiction:"Federal",image:"/assets/pierre-poilievre.jpg",trustScore:72,civicLevel:"Silver",recentActivity:"Criticized government spending in Question Period",policyPositions:["Fiscal Responsibility","Reduced Regulation","Energy Independence"],votingRecord:{yes:89,no:167,abstain:8},contactInfo:{email:"pierre.poilievre@parl.gc.ca",phone:"613-992-6776",office:"West Block, Parliament Hill",website:"https://www.conservative.ca/team/pierre-poilievre/",social:{twitter:"@PierrePoilievre",facebook:"PierrePoilievreCPC"}},bio:"Conservative Party leader and Member of Parliament for Carleton, focusing on economic issues.",keyAchievements:["Opposition Leadership","Economic Criticism","Party Unity"],committees:["Opposition","Finance Committee","Public Accounts"],expenses:{travel:38e3,hospitality:8500,office:72e3,total:118500,year:"2025"}},{id:3,name:"Jagmeet Singh",party:"NDP",position:"Leader of the New Democratic Party",riding:"Burnaby South",level:"Federal",jurisdiction:"Federal",image:"/assets/jagmeet-singh.jpg",trustScore:78,civicLevel:"Gold",recentActivity:"Advocated for universal pharmacare",policyPositions:["Universal Healthcare","Worker Rights","Climate Justice"],votingRecord:{yes:134,no:45,abstain:15},contactInfo:{email:"jagmeet.singh@parl.gc.ca",phone:"613-992-2874",office:"West Block, Parliament Hill",website:"https://www.ndp.ca/team/jagmeet-singh/",social:{twitter:"@theJagmeetSingh",facebook:"JagmeetSinghNDP"}},bio:"NDP leader and Member of Parliament for Burnaby South, advocating for social justice and workers' rights.",keyAchievements:["Universal Pharmacare","Worker Protection","Climate Action"],committees:["NDP Caucus","Health Committee","Justice Committee"],expenses:{travel:32e3,hospitality:6800,office:65e3,total:103800,year:"2025"}},{id:4,name:"Yves-François Blanchet",party:"Bloc Québécois",position:"Leader of the Bloc Québécois",riding:"Beloeil—Chambly",level:"Federal",jurisdiction:"Federal",image:"/assets/yves-francois-blanchet.jpg",trustScore:65,civicLevel:"Silver",recentActivity:"Defended Quebec's language laws",policyPositions:["Quebec Sovereignty","French Language Rights","Provincial Autonomy"],votingRecord:{yes:67,no:112,abstain:25},contactInfo:{email:"yves-francois.blanchet@parl.gc.ca",phone:"613-992-6776",office:"West Block, Parliament Hill",website:"https://www.blocquebecois.org/equipe/yves-francois-blanchet/",social:{twitter:"@yfblanchet",facebook:"YvesFrancoisBlanchet"}},bio:"Bloc Québécois leader and Member of Parliament for Beloeil—Chambly, advocating for Quebec's interests.",keyAchievements:["Quebec Language Rights","Provincial Autonomy","Cultural Protection"],committees:["Bloc Caucus","Official Languages","Heritage Committee"],expenses:{travel:28e3,hospitality:5200,office:58e3,total:91200,year:"2025"}},{id:5,name:"Elizabeth May",party:"Green",position:"Leader of the Green Party",riding:"Saanich—Gulf Islands",level:"Federal",jurisdiction:"Federal",image:"/assets/elizabeth-may.jpg",trustScore:82,civicLevel:"Gold",recentActivity:"Introduced climate emergency motion",policyPositions:["Climate Action","Environmental Protection","Social Justice"],votingRecord:{yes:145,no:34,abstain:15},contactInfo:{email:"elizabeth.may@parl.gc.ca",phone:"613-992-4211",office:"Centre Block, Parliament Hill",website:"https://www.greenparty.ca/en/team/elizabeth-may/",social:{twitter:"@ElizabethMay",facebook:"ElizabethMayGreen"}},bio:"Green Party leader and Member of Parliament for Saanich—Gulf Islands, environmental advocate.",keyAchievements:["Climate Emergency Declaration","Environmental Legislation","Parliamentary Reform"],committees:["Green Caucus","Environment Committee","Climate Action"],expenses:{travel:25e3,hospitality:4200,office:52e3,total:81200,year:"2025"}}]}},staleTime:600*1e3,retry:2}),I=Array.from(new Set((v||[]).map(a=>a.party))).sort(),R=Array.from(new Set((v||[]).map(a=>a.level))).sort(),u=(v||[]).filter(a=>{const t=a.name.toLowerCase().includes(n.toLowerCase())||a.riding.toLowerCase().includes(n.toLowerCase())||a.party.toLowerCase().includes(n.toLowerCase()),c=h==="all"||a.party===h,M=g==="all"||a.level===g;return t&&c&&M}),B=a=>{switch(a.toLowerCase()){case"liberal":return"bg-red-100 text-red-800 border-red-300";case"conservative":return"bg-blue-100 text-blue-800 border-blue-300";case"ndp":return"bg-orange-100 text-orange-800 border-orange-300";case"bloc québécois":return"bg-cyan-100 text-cyan-800 border-cyan-300";case"green":return"bg-green-100 text-green-800 border-green-300";case"progressive conservative":return"bg-purple-100 text-purple-800 border-purple-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},T=a=>{switch(a.toLowerCase()){case"federal":return e.jsx(_,{className:"w-4 h-4"});case"provincial":return e.jsx(k,{className:"w-4 h-4"});case"municipal":return e.jsx(se,{className:"w-4 h-4"});default:return e.jsx(j,{className:"w-4 h-4"})}},E=a=>a>=80?"text-green-600":a>=60?"text-yellow-600":"text-red-600",r=a=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0}).format(a);return f?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400",children:"Loading politician data..."})]})})}):F?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("p",{className:"text-lg font-medium text-red-600",children:"Failed to load politician data"}),e.jsx(i,{onClick:()=>window.location.reload(),children:"Retry"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Canadian Politicians"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Track your elected representatives across all levels of government - accurate as of July 2025"})]}),e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8",children:[e.jsxs("div",{className:"flex flex-col lg:flex-row gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(H,{className:"absolute left-3 top-3 h-4 w-4 text-gray-400"}),e.jsx(z,{placeholder:"Search by name, riding, or party...",value:n,onChange:a=>S(a.target.value),className:"pl-10"})]}),e.jsxs(b,{value:h,onValueChange:A,children:[e.jsx(N,{className:"w-full lg:w-48",children:e.jsx(w,{placeholder:"Filter by party"})}),e.jsxs(C,{children:[e.jsx(d,{value:"all",children:"All Parties"}),I.map(a=>e.jsx(d,{value:a,children:a},a))]})]}),e.jsxs(b,{value:g,onValueChange:L,children:[e.jsx(N,{className:"w-full lg:w-48",children:e.jsx(w,{placeholder:"Filter by level"})}),e.jsxs(C,{children:[e.jsx(d,{value:"all",children:"All Levels"}),R.map(a=>e.jsx(d,{value:a,children:a},a))]})]})]}),e.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[e.jsxs(l,{variant:"outline",className:"text-xs",children:[u.length," politicians found"]}),e.jsx(l,{variant:"outline",className:"text-xs",children:"Updated July 2025"})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(a=>e.jsxs(V,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsxs(O,{className:"pb-4",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(Q,{className:"text-lg",children:a.name}),e.jsx($,{className:"text-sm mt-1",children:a.position})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[T(a.level),e.jsxs("span",{className:`text-sm font-medium ${E(a.trustScore)}`,children:[a.trustScore,"%"]})]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-3",children:[e.jsx(l,{className:B(a.party),children:a.party}),e.jsx(l,{variant:"outline",className:"text-xs",children:a.level})]})]}),e.jsx(J,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-600 dark:text-gray-300",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),a.riding]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300",children:[e.jsx("strong",{children:"Recent:"})," ",a.recentActivity]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(q,{className:"w-3 h-3"}),a.votingRecord.yes+a.votingRecord.no+a.votingRecord.abstain," votes"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(W,{className:"w-3 h-3"}),r(a.expenses.total)," (",a.expenses.year,")"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(i,{size:"sm",variant:"outline",className:"flex-1",onClick:()=>p(a),children:"View Details"}),e.jsx(i,{size:"sm",variant:"outline",onClick:()=>{const t=`${window.location.origin}/politicians?id=${a.id}`,c=`Check out ${a.name} (${a.party}) on CivicOS`;navigator.share?navigator.share({title:a.name,text:c,url:t}):(navigator.clipboard.writeText(`${c} ${t}`),P({title:"Link copied!",description:"Politician profile link has been copied to your clipboard."}))},children:e.jsx(K,{className:"w-4 h-4"})}),a.contactInfo.email&&e.jsx(i,{size:"sm",variant:"outline",className:"px-3",children:e.jsx(y,{className:"w-4 h-4"})})]})]})})]},a.id))}),u.length===0&&!f&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(j,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No politicians found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search criteria or filters."})]}),s&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4",children:e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg max-w-4xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex justify-between items-start mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold",children:s.name}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:s.position})]}),e.jsx(i,{variant:"outline",onClick:()=>p(null),children:"Close"})]}),e.jsxs(Z,{defaultValue:"overview",className:"w-full",children:[e.jsxs(ee,{className:"grid w-full grid-cols-4",children:[e.jsx(m,{value:"overview",children:"Overview"}),e.jsx(m,{value:"voting",children:"Voting"}),e.jsx(m,{value:"expenses",children:"Expenses"}),e.jsx(m,{value:"contact",children:"Contact"})]}),e.jsxs(x,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Biography"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:s.bio})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Key Achievements"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:s.keyAchievements.map((a,t)=>e.jsx("li",{className:"text-sm text-gray-600 dark:text-gray-300",children:a},t))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Policy Positions"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.policyPositions.map((a,t)=>e.jsx(l,{variant:"outline",children:a},t))})]})]}),e.jsx(x,{value:"voting",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.votingRecord.yes}),e.jsx("div",{className:"text-sm text-gray-500",children:"Yes Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:s.votingRecord.no}),e.jsx("div",{className:"text-sm text-gray-500",children:"No Votes"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-gray-600",children:s.votingRecord.abstain}),e.jsx("div",{className:"text-sm text-gray-500",children:"Abstained"})]})]})}),e.jsx(x,{value:"expenses",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Travel"}),e.jsx("div",{className:"font-semibold",children:r(s.expenses.travel)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Hospitality"}),e.jsx("div",{className:"font-semibold",children:r(s.expenses.hospitality)})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-500",children:"Office"}),e.jsx("div",{className:"font-semibold",children:r(s.expenses.office)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-500",children:["Total (",s.expenses.year,")"]}),e.jsx("div",{className:"font-semibold",children:r(s.expenses.total)})]})]})}),e.jsx(x,{value:"contact",className:"space-y-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.contactInfo.email&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),e.jsx("a",{href:`mailto:${s.contactInfo.email}`,className:"text-blue-600 hover:underline",children:s.contactInfo.email})]}),s.contactInfo.phone&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Y,{className:"w-4 h-4"}),e.jsx("a",{href:`tel:${s.contactInfo.phone}`,className:"text-blue-600 hover:underline",children:s.contactInfo.phone})]}),s.contactInfo.office&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(k,{className:"w-4 h-4 mt-1"}),e.jsx("div",{className:"text-sm",children:s.contactInfo.office})]}),s.contactInfo.website&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ae,{className:"w-4 h-4"}),e.jsx("a",{href:s.contactInfo.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Official Website"})]})]})})]})]})})})]})})}export{xe as default};
