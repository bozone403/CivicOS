import{j as e}from"./ui-CDUWW_Ri.js";import{r as h}from"./vendor-1XCZ5AD1.js";import{z as fe,q as Ne,p as be,E as we,K as j,r as M,F as T,V as U,l as Ce,I as Se,v as n,g as Q,h as G,i as H,n as _,j as Y,a6 as ke,B as i,a3 as J,D as Ve,a as Te,b as Ae,c as Pe,d as Fe,C as W,T as De,y as d,a7 as Re,U as Ee,k as Ue}from"./index-DPh-SqJZ.js";import{S as Z,a as X,b as ee,c as se,d as l}from"./select-DhKGGTFh.js";import{T as ae,a as te,b as m,c as x}from"./tabs-j11N5FCF.js";import{P as re}from"./progress-WwLcdRkZ.js";import{T as Le}from"./trending-up-CiOZ-DaI.js";import{C as ie}from"./calendar-C6rzPuMe.js";import{T as y,a as f}from"./thumbs-up-CtD9VdZ1.js";import{E as u}from"./external-link-0PD-7MbT.js";import{A as Be}from"./award-CMjMlPlW.js";import{T as Ie}from"./target-DIeJ89UV.js";import{C as qe}from"./clock-BHggt6KO.js";import"./index-q7PMzjPi.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);function ls(){var q,$;const[N,le]=h.useState(""),[A,ne]=h.useState("all"),[P,ce]=h.useState("all"),[a,F]=h.useState(null),[Oe,oe]=h.useState(null),[de,me]=h.useState("bills"),{isAuthenticated:c,user:Ke}=Ne(),{toast:g}=be(),p=we(),{data:xe=[],isLoading:L,error:ze}=j({queryKey:["/api/bills"],queryFn:async()=>{try{const s=await d("/api/bills","GET");return s&&typeof s=="object"&&"data"in s?Array.isArray(s.data)?s.data:[]:Array.isArray(s)?s:[]}catch{return[{id:"C-60",billNumber:"C-60",title:"Climate Finance and Green Infrastructure Act",description:"An Act to establish a comprehensive framework for climate finance and accelerate green infrastructure development across Canada",status:"Active",stage:"Second Reading",jurisdiction:"Federal",category:"Environment",introducedDate:"2025-07-25",sponsor:"Mark Carney",sponsorParty:"Liberal",summary:"Establishes a $50 billion climate finance fund and mandates green infrastructure standards",keyProvisions:["Climate Finance Fund","Green Infrastructure Standards","Carbon Pricing Integration"],timeline:"Expected Royal Assent: December 2025",estimatedCost:5e10,estimatedRevenue:15e9,publicSupport:{yes:68,no:22,neutral:10},parliamentVotes:{liberal:"Support",conservative:"Oppose",ndp:"Support",bloc:"Support",green:"Support"},totalVotes:156,readingStage:2,nextVoteDate:"2025-08-15",governmentUrl:"https://www.parl.ca/DocumentViewer/en/44-1/bill/C-60",legiscanUrl:"https://legiscan.com/CA/bill/C-60/2025",fullTextUrl:"https://www.parl.ca/DocumentViewer/en/44-1/bill/C-60/first-reading",committeeReports:["Environment and Sustainable Development Committee Report","Finance Committee Analysis"],amendments:["Amendment 1: Increased funding for Indigenous communities","Amendment 2: Enhanced transparency requirements"],fiscalNote:"Estimated $50B over 10 years with $15B in revenue from carbon pricing",regulatoryImpact:"New regulatory framework for green infrastructure standards"},{id:"C-61",billNumber:"C-61",title:"Digital Services and Artificial Intelligence Regulation Act",description:"Comprehensive framework for regulating digital services and artificial intelligence in Canada",status:"Active",stage:"First Reading",jurisdiction:"Federal",category:"Technology",introducedDate:"2025-07-20",sponsor:"François-Philippe Champagne",sponsorParty:"Liberal",summary:"Regulates AI development and digital services to protect Canadians",keyProvisions:["AI Safety Standards","Digital Privacy Protection","Algorithm Transparency"],timeline:"Expected Royal Assent: March 2026",estimatedCost:25e8,estimatedRevenue:5e8,publicSupport:{yes:72,no:18,neutral:10},parliamentVotes:{liberal:"Support",conservative:"Oppose",ndp:"Support",bloc:"Support",green:"Support"},totalVotes:142,readingStage:1,nextVoteDate:"2025-08-20",governmentUrl:"https://www.parl.ca/DocumentViewer/en/44-1/bill/C-61",legiscanUrl:"https://legiscan.com/CA/bill/C-61/2025",fullTextUrl:"https://www.parl.ca/DocumentViewer/en/44-1/bill/C-61/first-reading",committeeReports:["Industry, Science and Technology Committee Report"],amendments:[],fiscalNote:"Estimated $2.5B over 5 years for AI regulation infrastructure",regulatoryImpact:"New AI safety standards and digital service regulations"},{id:"C-62",billNumber:"C-62",title:"Housing Affordability and Supply Act",description:"An Act to increase housing supply and improve affordability across Canada",status:"Active",stage:"Third Reading",jurisdiction:"Federal",category:"Housing",introducedDate:"2025-07-15",sponsor:"Sean Fraser",sponsorParty:"Liberal",summary:"Increases housing supply through zoning reforms and funding programs",keyProvisions:["Zoning Reform","Housing Fund","Rental Protection"],timeline:"Expected Royal Assent: September 2025",estimatedCost:15e9,estimatedRevenue:8e9,publicSupport:{yes:85,no:10,neutral:5},parliamentVotes:{liberal:"Support",conservative:"Support",ndp:"Support",bloc:"Support",green:"Support"},totalVotes:289,readingStage:3,nextVoteDate:"2025-08-10",governmentUrl:"https://www.parl.ca/DocumentViewer/en/44-1/bill/C-62",legiscanUrl:"https://legiscan.com/CA/bill/C-62/2025",fullTextUrl:"https://www.parl.ca/DocumentViewer/en/44-1/bill/C-62/first-reading",committeeReports:["Human Resources, Skills and Social Development Committee Report","Finance Committee Analysis"],amendments:["Amendment 1: Increased funding for Indigenous housing","Amendment 2: Enhanced tenant protections"],fiscalNote:"Estimated $15B over 10 years with $8B in revenue from housing taxes",regulatoryImpact:"New zoning regulations and housing standards"}]}},staleTime:5*60*1e3,retry:2}),{data:ue={}}=j({queryKey:["/api/voting/user-votes"],queryFn:async()=>{if(!c)return{};try{return await d("/api/voting/user-votes","GET")||{}}catch{return{}}},enabled:c}),v=M({mutationFn:async({billId:s,vote:t})=>{if(!c)throw new Error("Please log in to vote");return await d("/api/voting/bills/vote","POST",{billId:s,vote:t,reasoning:`User voted ${t} on bill ${s}`})},onSuccess:()=>{g({title:"Vote recorded!",description:"Your vote has been recorded successfully."}),p.invalidateQueries({queryKey:["/api/bills"]}),p.invalidateQueries({queryKey:["/api/voting/user-votes"]})},onError:s=>{g({title:"Voting failed",description:s.message||"Failed to record your vote. Please try again.",variant:"destructive"})}}),{data:he=[],isLoading:ge}=j({queryKey:["/api/voting/electoral/candidates"],queryFn:async()=>{try{const s=await d("/api/voting/electoral/candidates","GET");return Array.isArray(s)?s:[]}catch{return[{id:"1",name:"Mark Carney",party:"Liberal Party",position:"Prime Minister of Canada",jurisdiction:"Federal",bio:"Former Bank of Canada Governor and Bank of England Governor. Appointed Prime Minister in 2025, bringing significant financial expertise to government leadership.",keyPolicies:["Economic stability","Climate action","Financial regulation","International cooperation"],trustScore:"75.00",totalVotes:1250,preferenceVotes:800,supportVotes:300,opposeVotes:150},{id:"2",name:"Pierre Poilievre",party:"Conservative Party",position:"Leader of the Opposition",jurisdiction:"Federal",bio:"Conservative Party leader known for his focus on economic issues, inflation concerns, and cryptocurrency advocacy.",keyPolicies:["Economic freedom","Reduced government spending","Digital currency","Common sense policies"],trustScore:"65.00",totalVotes:1100,preferenceVotes:600,supportVotes:400,opposeVotes:100},{id:"3",name:"Yves-François Blanchet",party:"Bloc Québécois",position:"Party Leader",jurisdiction:"Federal",bio:"Leader of the Bloc Québécois, advocating for Quebec's interests and sovereignty within the Canadian federation.",keyPolicies:["Quebec sovereignty","French language protection","Provincial autonomy","Cultural preservation"],trustScore:"70.00",totalVotes:850,preferenceVotes:500,supportVotes:250,opposeVotes:100}]}}}),{data:Me=[]}=j({queryKey:["/api/voting/electoral/results"],queryFn:async()=>{try{const s=await d("/api/voting/electoral/results","GET");return Array.isArray(s)?s:[]}catch{return[]}}}),{data:pe=[]}=j({queryKey:["/api/voting/electoral/user-votes"],queryFn:async()=>{if(!c)return[];try{const s=await d("/api/voting/electoral/user-votes","GET");return Array.isArray(s)?s:[]}catch{return[]}},enabled:c}),b=M({mutationFn:async({candidateId:s,voteType:t,reasoning:r})=>{if(!c)throw new Error("Please log in to vote");return await d("/api/voting/electoral/vote","POST",{candidateId:s,voteType:t,reasoning:r||`User voted ${t} for candidate ${s}`})},onSuccess:()=>{g({title:"Electoral vote recorded!",description:"Your electoral vote has been recorded successfully."}),p.invalidateQueries({queryKey:["/api/voting/electoral/candidates"]}),p.invalidateQueries({queryKey:["/api/voting/electoral/results"]}),p.invalidateQueries({queryKey:["/api/voting/electoral/user-votes"]})},onError:s=>{g({title:"Electoral voting failed",description:s.message||"Failed to record your electoral vote. Please try again.",variant:"destructive"})}}),w=xe.filter(s=>{const t=s.title.toLowerCase().includes(N.toLowerCase())||s.billNumber.toLowerCase().includes(N.toLowerCase())||s.sponsor.toLowerCase().includes(N.toLowerCase()),r=A==="all"||s.status===A,o=P==="all"||s.category===P;return t&&r&&o}).map(s=>({...s,userVote:s.userVote||ue[s.id]||null})),B=s=>{switch(s){case"Active":return"bg-green-100 text-green-800 border-green-300";case"Passed":return"bg-blue-100 text-blue-800 border-blue-300";case"Failed":return"bg-red-100 text-red-800 border-red-300";case"Withdrawn":return"bg-gray-100 text-gray-800 border-gray-300";default:return"bg-yellow-100 text-yellow-800 border-yellow-300"}},I=s=>{switch(s){case"First Reading":return e.jsx(T,{className:"w-4 h-4"});case"Second Reading":return e.jsx(Ue,{className:"w-4 h-4"});case"Committee Review":return e.jsx(Ee,{className:"w-4 h-4"});case"Third Reading":return e.jsx(U,{className:"w-4 h-4"});case"Royal Assent":return e.jsx(Re,{className:"w-4 h-4"});default:return e.jsx(qe,{className:"w-4 h-4"})}},C=s=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0,maximumFractionDigits:0}).format(s),S=(s,t)=>{v.mutate({billId:s,vote:t})},k=(s,t)=>{var o;return((o=w.find(V=>V.id===s))==null?void 0:o.userVote)===t?"default":"outline"},ve=s=>s?s==="yes"?"Support":s==="no"?"Oppose":"Abstain":null,je=s=>s?s==="yes"?e.jsx(y,{className:"w-3 h-3"}):s==="no"?e.jsx(f,{className:"w-3 h-3"}):e.jsx($e,{className:"w-3 h-3"}):null,D=(s,t)=>{b.mutate({candidateId:s,voteType:t})},R=s=>{const t=pe.find(r=>r.candidateId===s);return(t==null?void 0:t.voteType)||null},E=(s,t)=>R(s)===t?"default":"outline",ye=s=>{switch(s.toLowerCase()){case"liberal party":case"liberal":return"bg-red-100 text-red-800 border-red-300";case"conservative party":case"conservative":return"bg-blue-100 text-blue-800 border-blue-300";case"new democratic party":case"ndp":return"bg-orange-100 text-orange-800 border-orange-300";case"bloc québécois":case"bloc":return"bg-green-100 text-green-800 border-green-300";case"green party":case"green":return"bg-emerald-100 text-emerald-800 border-emerald-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}};return L?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400",children:"Loading bills and voting data..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Bills & Voting"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300",children:"Track legislation, vote on bills, and participate in electoral democracy - Current session July 2025"})]}),e.jsxs(ae,{value:de,onValueChange:me,className:"space-y-6",children:[e.jsxs(te,{className:"grid w-full grid-cols-2",children:[e.jsxs(m,{value:"bills",className:"flex items-center gap-2",children:[e.jsx(T,{className:"w-4 h-4"}),"Bills & Legislation"]}),e.jsxs(m,{value:"electoral",className:"flex items-center gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Electoral Voting"]})]}),e.jsxs(x,{value:"bills",className:"space-y-6",children:[e.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ce,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(Se,{placeholder:"Search bills...",value:N,onChange:s=>le(s.target.value),className:"pl-10"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs(Z,{value:A,onValueChange:ne,children:[e.jsx(X,{children:e.jsx(ee,{placeholder:"All Statuses"})}),e.jsxs(se,{children:[e.jsx(l,{value:"all",children:"All Statuses"}),e.jsx(l,{value:"Active",children:"Active"}),e.jsx(l,{value:"Passed",children:"Passed"}),e.jsx(l,{value:"Failed",children:"Failed"}),e.jsx(l,{value:"Withdrawn",children:"Withdrawn"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs(Z,{value:P,onValueChange:ce,children:[e.jsx(X,{children:e.jsx(ee,{placeholder:"All Categories"})}),e.jsxs(se,{children:[e.jsx(l,{value:"all",children:"All Categories"}),e.jsx(l,{value:"Environment",children:"Environment"}),e.jsx(l,{value:"Housing",children:"Housing"}),e.jsx(l,{value:"Justice",children:"Justice"}),e.jsx(l,{value:"Technology",children:"Technology"}),e.jsx(l,{value:"Health",children:"Health"}),e.jsx(l,{value:"Economy",children:"Economy"})]})]})]}),e.jsx("div",{className:"flex items-end",children:e.jsxs("div",{className:"w-full space-y-2",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Found ",w.length," bills"]}),e.jsx(n,{variant:"outline",className:"text-xs",children:"Updated July 2025"})]})})]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:w.map(s=>{var t,r,o,V,O;return e.jsxs(Q,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsx(G,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(n,{variant:"outline",className:"font-mono",children:s.billNumber}),e.jsx(n,{className:B(s.status),children:s.status})]}),e.jsx(H,{className:"text-lg leading-tight",children:s.title}),e.jsxs(_,{className:"mt-2",children:["Sponsored by ",s.sponsor," (",s.sponsorParty,")"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[I(s.stage),e.jsx("span",{className:"text-xs text-gray-500",children:s.stage})]})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:s.summary}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"text-gray-600",children:"Public Support"}),e.jsxs("span",{className:"font-medium",children:[((t=s.publicSupport)==null?void 0:t.yes)||0,"% in favor"]})]}),e.jsx(re,{value:((r=s.publicSupport)==null?void 0:r.yes)||0,className:"h-2"})]}),(s.estimatedCost||s.estimatedRevenue)&&e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[s.estimatedCost&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ke,{className:"w-3 h-3 text-red-500"}),"Cost: ",C(s.estimatedCost)]}),s.estimatedRevenue&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Le,{className:"w-3 h-3 text-green-500"}),"Revenue: ",C(s.estimatedRevenue)]})]}),s.nextVoteDate&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-blue-600 bg-blue-50 p-2 rounded",children:[e.jsx(ie,{className:"w-3 h-3"}),"Next vote: ",new Date(s.nextVoteDate).toLocaleDateString()]}),e.jsx("div",{className:"flex items-center justify-between text-xs text-gray-600",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(y,{className:"w-3 h-3 text-green-600"}),((o=s.voteStats)==null?void 0:o.yes_votes)||0," support"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(f,{className:"w-3 h-3 text-red-600"}),((V=s.voteStats)==null?void 0:V.no_votes)||0," oppose"]}),e.jsxs("span",{className:"text-gray-500",children:[((O=s.voteStats)==null?void 0:O.total_votes)||0," total votes"]})]})}),s.userVote&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-green-600 bg-green-50 p-2 rounded",children:[je(s.userVote),"You voted: ",ve(s.userVote)]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-xs text-gray-500",children:"Your vote:"}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs(i,{size:"sm",variant:k(s.id,"yes"),className:"h-8 px-3 text-xs",onClick:()=>S(s.id,"yes"),disabled:v.isPending,children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Support"]}),e.jsxs(i,{size:"sm",variant:k(s.id,"no"),className:"h-8 px-3 text-xs",onClick:()=>S(s.id,"no"),disabled:v.isPending,children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Oppose"]})]})]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-xs text-gray-500",children:"Next vote"}),e.jsx("div",{className:"text-xs font-medium",children:s.nextVoteDate})]}),e.jsxs(i,{size:"sm",variant:"outline",className:"h-8 px-3 text-xs",onClick:()=>{const K=`${window.location.origin}/voting?bill=${s.id}`,z=`Check out Bill ${s.billNumber}: ${s.title} on CivicOS`;navigator.share?navigator.share({title:`Bill ${s.billNumber}`,text:z,url:K}):(navigator.clipboard.writeText(`${z} ${K}`),g({title:"Link copied!",description:"Bill link has been copied to your clipboard."}))},children:[e.jsx(J,{className:"w-3 h-3 mr-1"}),"Share"]}),e.jsxs(i,{size:"sm",variant:"outline",className:"h-8 px-3 text-xs",onClick:()=>F(s),children:[e.jsx(T,{className:"w-3 h-3 mr-1"}),"Details"]})]})]})]})})]},s.id)})}),w.length===0&&!L&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(U,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"No bills found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Try adjusting your search criteria or filters."})]})]}),e.jsx(Ve,{open:!!a,onOpenChange:()=>F(null),children:e.jsx(Te,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:a&&e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(Pe,{className:"text-xl flex items-center gap-2",children:[e.jsx(n,{variant:"outline",className:"font-mono",children:a.billNumber}),a.title]}),e.jsx(Fe,{children:"View bill details, provisions, voting information, and official government sources."})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(n,{className:B(a.status),children:a.status}),e.jsxs("div",{className:"flex items-center gap-1",children:[I(a.stage),e.jsx("span",{className:"text-sm",children:a.stage})]}),e.jsxs("span",{className:"text-sm text-gray-600",children:["Sponsored by ",a.sponsor," (",a.sponsorParty,")"]})]}),(a.governmentUrl||a.legiscanUrl||a.fullTextUrl)&&e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-lg",children:[e.jsxs("h3",{className:"font-semibold mb-3 flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"Government Sources & Official Documents"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[a.governmentUrl&&e.jsxs("a",{href:a.governmentUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-sm p-2 rounded hover:bg-blue-100 transition-colors",children:[e.jsx(u,{className:"w-4 h-4"}),"Parliament.ca Official"]}),a.legiscanUrl&&e.jsxs("a",{href:a.legiscanUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-sm p-2 rounded hover:bg-blue-100 transition-colors",children:[e.jsx(u,{className:"w-4 h-4"}),"LegiScan Database"]}),a.fullTextUrl&&e.jsxs("a",{href:a.fullTextUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 text-sm p-2 rounded hover:bg-blue-100 transition-colors",children:[e.jsx(u,{className:"w-4 h-4"}),"Full Bill Text"]})]}),e.jsx("p",{className:"text-xs text-gray-600 mt-2",children:"These are official government sources where you can read the complete bill text, track amendments, and view parliamentary debates."})]}),e.jsxs(ae,{defaultValue:"overview",className:"w-full",children:[e.jsxs(te,{className:"grid w-full grid-cols-5",children:[e.jsx(m,{value:"overview",children:"Overview"}),e.jsx(m,{value:"provisions",children:"Provisions"}),e.jsx(m,{value:"voting",children:"Voting"}),e.jsx(m,{value:"timeline",children:"Timeline"}),e.jsx(m,{value:"sources",children:"Sources"})]}),e.jsxs(x,{value:"overview",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Summary"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.summary})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Description"}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.description})]}),(a.estimatedCost||a.estimatedRevenue)&&e.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Financial Impact"}),e.jsxs("div",{className:"space-y-2",children:[a.estimatedCost&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Estimated Cost:"}),e.jsx("span",{className:"font-medium text-red-600",children:C(a.estimatedCost)})]}),a.estimatedRevenue&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Estimated Revenue:"}),e.jsx("span",{className:"font-medium text-green-600",children:C(a.estimatedRevenue)})]})]})]}),a.fiscalNote&&e.jsxs("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Fiscal Note"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.fiscalNote})]}),a.regulatoryImpact&&e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold mb-2",children:"Regulatory Impact"}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.regulatoryImpact})]})]}),e.jsxs(x,{value:"provisions",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Key Provisions"}),e.jsx("ul",{className:"space-y-2",children:a.keyProvisions.map((s,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(W,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:s})]},t))})]}),a.amendments&&a.amendments.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Amendments"}),e.jsx("ul",{className:"space-y-2",children:a.amendments.map((s,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(De,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:s})]},t))})]})]}),e.jsxs(x,{value:"voting",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Public Opinion"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{children:"Support"}),e.jsxs("span",{children:[((q=a.publicSupport)==null?void 0:q.yes)||0,"%"]})]}),e.jsx(re,{value:(($=a.publicSupport)==null?void 0:$.yes)||0,className:"h-2"})]})]}),a.parliamentVotes&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Party Positions"}),e.jsx("div",{className:"space-y-2",children:Object.entries(a.parliamentVotes).map(([s,t])=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"capitalize font-medium",children:[s,":"]}),e.jsx(n,{variant:"outline",className:"text-xs",children:t})]},s))})]}),a.status==="Active"&&c&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Cast Your Vote"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{onClick:()=>S(a.id,"yes"),disabled:v.isPending,variant:k(a.id,"yes"),className:"flex-1",children:[e.jsx(y,{className:"w-4 h-4 mr-2"}),"Support"]}),e.jsxs(i,{variant:k(a.id,"no"),onClick:()=>S(a.id,"no"),disabled:v.isPending,className:"flex-1",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"Oppose"]})]})]})]}),e.jsx(x,{value:"timeline",className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Legislative Timeline"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Introduced"}),e.jsx("div",{className:"text-sm text-gray-600",children:new Date(a.introducedDate).toLocaleDateString()})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.readingStage>=1?"bg-green-500":"bg-gray-300"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"First Reading"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Reading and formal introduction"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.readingStage>=2?"bg-green-500":"bg-gray-300"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Second Reading"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Debate on principle and referral to committee"})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.readingStage>=3?"bg-green-500":"bg-gray-300"}`}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Third Reading"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Final debate and voting"})]})]})]}),a.nextVoteDate&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded",children:e.jsxs("div",{className:"flex items-center gap-2 text-blue-700 dark:text-blue-300",children:[e.jsx(ie,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-medium",children:["Next vote scheduled: ",new Date(a.nextVoteDate).toLocaleDateString()]})]})})]})}),e.jsxs(x,{value:"sources",className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Official Sources"}),e.jsxs("div",{className:"space-y-3",children:[a.governmentUrl&&e.jsxs("a",{href:a.governmentUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 p-3 border rounded-lg hover:bg-blue-50",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Parliament of Canada"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Official bill page"})]})]}),a.legiscanUrl&&e.jsxs("a",{href:a.legiscanUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 p-3 border rounded-lg hover:bg-blue-50",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"LegiScan"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Bill tracking and analysis"})]})]}),a.fullTextUrl&&e.jsxs("a",{href:a.fullTextUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 p-3 border rounded-lg hover:bg-blue-50",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:"Full Bill Text"}),e.jsx("div",{className:"text-sm text-gray-600",children:"Complete legislative text"})]})]})]})]}),a.committeeReports&&a.committeeReports.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:"Committee Reports"}),e.jsx("ul",{className:"space-y-2",children:a.committeeReports.map((s,t)=>e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx(T,{className:"w-4 h-4 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"text-sm",children:s})]},t))})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4 border-t",children:[e.jsx(i,{onClick:()=>F(null),children:"Close"}),e.jsxs(i,{variant:"outline",children:[e.jsx(J,{className:"w-4 h-4 mr-2"}),"Share Bill"]})]})]})]})})}),e.jsx(x,{value:"electoral",className:"space-y-6",children:e.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 p-6 mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Electoral Candidates"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Vote on political candidates and track electoral preferences"})]}),e.jsx(n,{variant:"outline",className:"text-xs",children:"Federal Election 2025"})]}),ge?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-8 h-8 border-2 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading candidates..."})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:he.map(s=>e.jsxs(Q,{className:"cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsx(G,{className:"pb-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(n,{className:ye(s.party),children:s.party}),e.jsx(n,{variant:"outline",className:"text-xs",children:s.jurisdiction})]}),e.jsx(H,{className:"text-lg leading-tight",children:s.name}),e.jsx(_,{className:"mt-2",children:s.position})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Be,{className:"w-4 h-4"}),e.jsxs("span",{className:"text-xs text-gray-500",children:["Trust: ",s.trustScore,"%"]})]})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 line-clamp-3",children:s.bio}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Key Policies"}),e.jsx("div",{className:"flex flex-wrap gap-1",children:s.keyPolicies.slice(0,3).map((t,r)=>e.jsx(n,{variant:"secondary",className:"text-xs",children:t},r))})]}),s.totalVotes&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Voting Statistics"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-xs",children:[e.jsxs("div",{className:"text-center p-2 bg-green-50 dark:bg-green-900/20 rounded",children:[e.jsx("div",{className:"font-medium text-green-700 dark:text-green-300",children:s.preferenceVotes||0}),e.jsx("div",{className:"text-gray-500",children:"Preference"})]}),e.jsxs("div",{className:"text-center p-2 bg-blue-50 dark:bg-blue-900/20 rounded",children:[e.jsx("div",{className:"font-medium text-blue-700 dark:text-blue-300",children:s.supportVotes||0}),e.jsx("div",{className:"text-gray-500",children:"Support"})]}),e.jsxs("div",{className:"text-center p-2 bg-red-50 dark:bg-red-900/20 rounded",children:[e.jsx("div",{className:"font-medium text-red-700 dark:text-red-300",children:s.opposeVotes||0}),e.jsx("div",{className:"text-gray-500",children:"Oppose"})]})]})]}),c&&e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-medium text-sm",children:"Your Vote"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(i,{size:"sm",variant:E(s.id,"preference"),onClick:()=>D(s.id,"preference"),disabled:b.isPending,children:[e.jsx(Ie,{className:"w-3 h-3 mr-1"}),"Preference"]}),e.jsxs(i,{size:"sm",variant:E(s.id,"support"),onClick:()=>D(s.id,"support"),disabled:b.isPending,children:[e.jsx(y,{className:"w-3 h-3 mr-1"}),"Support"]}),e.jsxs(i,{size:"sm",variant:E(s.id,"oppose"),onClick:()=>D(s.id,"oppose"),disabled:b.isPending,children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),"Oppose"]})]})]}),c&&R(s.id)&&e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(W,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{className:"text-gray-600 dark:text-gray-400",children:["You voted: ",R(s.id)]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsx(i,{variant:"outline",size:"sm",onClick:()=>oe(s),children:"View Details"}),e.jsxs("div",{className:"text-xs text-gray-500",children:["Total votes: ",s.totalVotes||0]})]})]})})]},s.id))})]})})]})]})})}export{ls as default};
