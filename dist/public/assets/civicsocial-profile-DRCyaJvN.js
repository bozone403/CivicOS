import{j as e}from"./ui-CDUWW_Ri.js";import{r as o}from"./vendor-1XCZ5AD1.js";import{z as Ue,q as Te,p as Me,E as De,r as x,B as n,X as Oe,Y as Re,Z as Ye,v as U,S as _e,M as qe,an as ae,Q as ie,s as T,$ as le,a1 as Qe,R as M,t as ze,W as $e,D as ce,a as ne,b as oe,c as re,d as de,I as p,y as b}from"./index-DMUEu8cT.js";import{a as Ke,b as Ve,c as We,d as Ge,e as He,f as Xe,u as Ze}from"./useCivicSocial-qdSMS1vz.js";import{d as m,h as me,C as D,a as Je,b as es,i as he,T as ss,c as O,e as ts,f as as,j as is}from"./CivicSocialCard-BV3m3y0b.js";import{T as ls,a as cs,b as w,c as S}from"./tabs-8KV7MzPu.js";import{C as R}from"./camera-D6ujeXA8.js";import{A as xe}from"./award-BIsjWPRb.js";import"./bookmark-1ny7raD4.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=Ue("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);function gs(){const{user:s,isLoading:pe,isAuthenticated:ns,refreshUser:_}=Te(),{data:q,isLoading:ue,error:fe}=Ke(),{data:C}=Ve(),P=We(),je=Ge();He(),Xe();const[j,Q]=o.useState(""),[z,ve]=o.useState({}),[os,rs]=o.useState({}),[k,F]=o.useState(null),[u,B]=o.useState(null),[ge,f]=o.useState(!1),[Ne,v]=o.useState(!1),[$,ye]=o.useState((s==null?void 0:s.firstName)||""),[K,be]=o.useState((s==null?void 0:s.lastName)||""),[V,we]=o.useState((s==null?void 0:s.bio)||""),[W,Se]=o.useState((s==null?void 0:s.profileImageUrl)||""),G=o.useRef(null),g=o.useRef(null),H=o.useRef(null),{toast:c}=Me(),h=De(),A=(C==null?void 0:C.friends)||[],[Ce,X]=o.useState("posts"),N=x({mutationFn:async t=>b("/api/users/profile","PUT",t),onSuccess:()=>{h.invalidateQueries({queryKey:["/api/auth/user"]}),f(!1),c({title:"Profile updated!",description:"Your changes have been saved."})}}),Pe=Ze(),Z=t=>{Pe.mutate({followingId:t},{onSuccess:()=>{c({title:"Followed",description:"You are now following this user!"})},onError:i=>{c({title:"Error",description:i.message||"Failed to follow user.",variant:"destructive"})}})},E=q?q.filter(t=>String(t.userId)===String(s==null?void 0:s.id)):[],y=s?s.firstName&&s.lastName?`${s.firstName} ${s.lastName}`:s.firstName||s.lastName||s.email||"Anonymous":"Anonymous",ke=t=>{var a;const i=(a=t.target.files)==null?void 0:a[0];i&&(F(i),B(URL.createObjectURL(i)))},Fe=x({mutationFn:async t=>{const i=localStorage.getItem("civicos-jwt")||"",a=new FormData;a.append("profilePicture",t),a.append("image",t),a.append("file",t),a.append("avatar",t),a.append("type","profile");const r=await fetch("/api/auth/upload-profile-picture",{method:"POST",headers:i?{Authorization:`Bearer ${i}`}:void 0,body:a}),l=await r.json().catch(()=>({}));if(!r.ok)throw new Error((l==null?void 0:l.message)||(l==null?void 0:l.error)||"Failed to upload");return l},onSuccess:async()=>{await _(),h.invalidateQueries({queryKey:["auth-user"]}),c({title:"Photo updated",description:"Your profile picture has been updated."})},onError:t=>{c({title:"Upload failed",description:(t==null?void 0:t.message)||"Could not update photo.",variant:"destructive"})}}),J=t=>{var a;const i=(a=t.target.files)==null?void 0:a[0];i&&(Fe.mutate(i),t.target.value="")},Be=x({mutationFn:async t=>{const i=localStorage.getItem("civicos-jwt")||"",a=new FormData;a.append("profilePicture",t),a.append("image",t),a.append("file",t),a.append("banner",t),a.append("type","banner");const r=await fetch("/api/auth/upload-profile-picture",{method:"POST",headers:i?{Authorization:`Bearer ${i}`}:void 0,body:a}),l=await r.json().catch(()=>({}));if(!r.ok)throw new Error((l==null?void 0:l.message)||(l==null?void 0:l.error)||"Failed to upload");return l},onSuccess:async()=>{await _(),h.invalidateQueries({queryKey:["auth-user"]}),c({title:"Banner updated",description:"Your profile banner has been updated."})},onError:t=>{c({title:"Upload failed",description:(t==null?void 0:t.message)||"Could not update banner.",variant:"destructive"})}}),Ae=async t=>{if(t.preventDefault(),!j.trim()&&!k){c({title:"Nothing to post",description:"Add text or an image.",variant:"destructive"});return}let i=null;k&&(i=u),P.mutate({content:j,imageUrl:i},{onSuccess:()=>{c({title:"Post created!",description:"Your post was added to your wall."}),h.invalidateQueries({queryKey:["civicSocialFeed"]})},onError:a=>{c({title:"Error posting",description:(a==null?void 0:a.message)||"Failed to post.",variant:"destructive"})}}),Q(""),F(null),B(null)},Ee=x({mutationFn:async({postId:t,platform:i="internal"})=>b(`/api/social/posts/${t}/share`,"POST",{platform:i}),onSuccess:()=>{h.invalidateQueries({queryKey:["civicSocialFeed"]}),c({title:"Shared",description:"Post shared successfully!"})},onError:t=>{c({title:"Share failed",description:(t==null?void 0:t.message)||"Could not share post.",variant:"destructive"})}}),Ie=x({mutationFn:async({postId:t,content:i,imageUrl:a})=>b(`/api/social/posts/${t}`,"PUT",{content:i,imageUrl:a}),onSuccess:()=>{h.invalidateQueries({queryKey:["civicSocialFeed"]}),c({title:"Post updated",description:"Your post has been updated."})},onError:t=>{c({title:"Edit failed",description:(t==null?void 0:t.message)||"Could not update post.",variant:"destructive"})}}),Le=x({mutationFn:async({postId:t})=>b(`/api/social/posts/${t}`,"DELETE"),onSuccess:()=>{h.invalidateQueries({queryKey:["civicSocialFeed"]}),c({title:"Post deleted",description:"Your post has been removed."})},onError:t=>{c({title:"Delete failed",description:(t==null?void 0:t.message)||"Could not delete post.",variant:"destructive"})}}),d={posts:E.length,friends:A.length,civicPoints:(s==null?void 0:s.civicPoints)||0},I=e.jsxs("div",{className:"relative mb-6",children:[e.jsxs("div",{className:"h-64 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg relative overflow-hidden",children:[s!=null&&s.profileBannerUrl?e.jsx("img",{src:s.profileBannerUrl,alt:"Profile Banner",className:"w-full h-full object-cover"}):null,e.jsxs(n,{variant:"secondary",size:"sm",className:"absolute top-4 right-4",onClick:()=>{var t;return(t=H.current)==null?void 0:t.click()},children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Change Banner"]}),e.jsx("input",{ref:H,type:"file",accept:"image/*",className:"hidden",onChange:t=>{var a;const i=(a=t.target.files)==null?void 0:a[0];i&&Be.mutate(i),t.target.value=""}})]}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6 bg-gradient-to-t from-black/60 to-transparent",children:e.jsxs("div",{className:"flex items-end gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsxs(Oe,{className:"w-32 h-32 border-4 border-white",children:[e.jsx(Re,{src:(s==null?void 0:s.profileImageUrl)||void 0}),e.jsx(Ye,{className:"text-3xl bg-blue-600",children:y.charAt(0).toUpperCase()})]}),e.jsx(n,{variant:"secondary",size:"sm",className:"absolute -bottom-2 -right-2 rounded-full w-8 h-8 p-0",onClick:()=>{var t;return(t=g.current)==null?void 0:t.click()},children:e.jsx(R,{className:"w-4 h-4"})}),e.jsx("input",{ref:g,type:"file",accept:"image/*",className:"hidden",onChange:J})]}),e.jsxs("div",{className:"flex-1 text-white",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[e.jsx("h1",{className:"text-3xl font-bold",children:y}),(s==null?void 0:s.isVerified)&&e.jsxs(U,{variant:"secondary",className:"bg-green-500",children:[e.jsx(_e,{className:"w-3 h-3 mr-1"}),"Verified"]}),(s==null?void 0:s.civicLevel)&&e.jsx(U,{children:s.civicLevel})]}),(s==null?void 0:s.city)&&(s==null?void 0:s.province)&&e.jsxs("p",{className:"text-lg opacity-90 mb-1",children:[e.jsx(qe,{className:"w-4 h-4 inline mr-2"}),s.city,", ",s.province]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(n,{onClick:()=>f(!0),children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs(n,{variant:"outline",onClick:()=>window.location.href="/settings",children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Settings"]})]})]})})]}),L=e.jsxs(e.Fragment,{children:[e.jsx(m,{title:"Profile Info",children:e.jsx(me,{user:{id:(s==null?void 0:s.id)||"",firstName:s==null?void 0:s.firstName,lastName:s==null?void 0:s.lastName,email:(s==null?void 0:s.email)||"",profileImageUrl:s==null?void 0:s.profileImageUrl,civicLevel:s==null?void 0:s.civicLevel,bio:s==null?void 0:s.bio,isOnline:!0},stats:d,onMessage:()=>c({title:"Message sent",description:"Your message has been sent successfully!"}),onFollow:()=>Z((s==null?void 0:s.id)||"")})}),e.jsx(m,{title:"Quick Actions",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs(n,{onClick:()=>f(!0),className:"w-full social-button-primary",children:[e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Edit Profile"]}),e.jsxs(n,{variant:"outline",className:"w-full",onClick:()=>{var t;return(t=g.current)==null?void 0:t.click()},children:[e.jsx(R,{className:"w-4 h-4 mr-2"}),"Change Photo"]}),e.jsx("input",{ref:g,type:"file",accept:"image/*",className:"hidden",onChange:J}),e.jsxs(n,{variant:"outline",className:"w-full",onClick:()=>v(!0),children:[e.jsx(ae,{className:"w-4 h-4 mr-2"}),"Privacy Settings"]})]})}),e.jsx(m,{title:"Activity Stats",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ie,{className:"w-4 h-4 text-social-primary"}),e.jsx("span",{className:"text-sm font-medium",children:"Posts"})]}),e.jsx("span",{className:"text-lg font-bold text-social-primary",children:d.posts})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(T,{className:"w-4 h-4 text-social-secondary"}),e.jsx("span",{className:"text-sm font-medium",children:"Friends"})]}),e.jsx("span",{className:"text-lg font-bold text-social-secondary",children:d.friends})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(xe,{className:"w-4 h-4 text-social-accent"}),e.jsx("span",{className:"text-sm font-medium",children:"Civic Points"})]}),e.jsx("span",{className:"text-lg font-bold text-social-accent",children:d.civicPoints})]})]})})]});return pe||ue?e.jsx(D,{header:I,sidebar:L,children:e.jsx(Je,{title:"Loading your profile...",description:"We're gathering your profile information and posts."})}):fe?e.jsx(D,{header:I,sidebar:L,children:e.jsx(es,{title:"Failed to load profile",description:"We couldn't load your profile information. Please check your connection and try again.",retry:()=>window.location.reload()})}):e.jsxs(D,{header:I,sidebar:L,children:[e.jsxs(m,{children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[e.jsxs("div",{className:"text-center p-4 bg-muted/40 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:d.posts}),e.jsx("div",{className:"text-sm text-gray-600",children:"Posts"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/40 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d.friends}),e.jsx("div",{className:"text-sm text-gray-600",children:"Friends"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/40 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:d.civicPoints}),e.jsx("div",{className:"text-sm text-gray-600",children:"Civic Points"})]}),e.jsxs("div",{className:"text-center p-4 bg-muted/40 rounded-lg",children:[e.jsxs("div",{className:"text-2xl font-bold text-orange-600",children:[(s==null?void 0:s.trustScore)||0,"%"]}),e.jsx("div",{className:"text-sm text-gray-600",children:"Trust Score"})]})]}),e.jsxs(ls,{value:Ce,onValueChange:X,children:[e.jsxs(cs,{className:"grid w-full grid-cols-4",children:[e.jsx(w,{value:"posts",children:"Posts"}),e.jsx(w,{value:"about",children:"About"}),e.jsx(w,{value:"friends",children:"Friends"}),e.jsx(w,{value:"activity",children:"Activity"})]}),e.jsxs(S,{value:"posts",className:"mt-6",children:[e.jsx(m,{title:"Create New Post",children:e.jsx(he,{children:e.jsx("form",{onSubmit:Ae,className:"space-y-4",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"social-avatar w-10 h-10",children:u?e.jsx("img",{src:u,alt:"Preview",className:"w-full h-full rounded-full object-cover"}):e.jsx("div",{className:"w-full h-full rounded-full bg-social-primary flex items-center justify-center text-white font-medium",children:y.charAt(0).toUpperCase()})}),e.jsxs("div",{className:"flex-1 space-y-3",children:[e.jsx(le,{placeholder:"What's on your mind?",value:j,onChange:t=>Q(t.target.value),className:"min-h-[100px] resize-none"}),u&&e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:u,alt:"Preview",className:"w-full rounded-lg max-h-64 object-cover"}),e.jsx(n,{type:"button",variant:"destructive",size:"sm",className:"absolute top-2 right-2",onClick:()=>{F(null),B(null)},children:e.jsx(ss,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(n,{type:"button",variant:"outline",size:"sm",onClick:()=>{var t;return(t=G.current)==null?void 0:t.click()},children:[e.jsx(Qe,{className:"w-4 h-4 mr-2"}),"Add Image"]}),e.jsx("input",{ref:G,type:"file",accept:"image/*",onChange:ke,className:"hidden"})]}),e.jsxs(n,{type:"submit",className:"social-button-primary",disabled:P.isPending||!j.trim()&&!k,children:[P.isPending?e.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-white border-t-transparent rounded-full mr-2"}):e.jsx(M,{className:"w-4 h-4 mr-2"}),"Post"]})]})]})]})})})}),e.jsx(m,{title:"Your Posts",children:E.length===0?e.jsx(O,{title:"No posts yet",description:"Start sharing your civic thoughts and experiences!",icon:e.jsx(M,{className:"w-8 h-8"}),action:e.jsxs(n,{onClick:()=>X("posts"),className:"social-button-primary",children:[e.jsx(M,{className:"w-4 h-4 mr-2"}),"Create Your First Post"]})}):e.jsx(ts,{children:E.map(t=>e.jsx(as,{post:t,onLike:()=>je.mutate({postId:t.id}),onComment:()=>ve({...z,[t.id]:!z[t.id]}),onShare:()=>Ee.mutate({postId:t.id}),onBookmark:()=>c({title:"Bookmarked",description:"Post added to your bookmarks!"}),onEdit:()=>{const i=prompt("Edit your post:",t.content);i!==null&&Ie.mutate({postId:t.id,content:i})},onDelete:()=>{confirm("Delete this post?")&&Le.mutate({postId:t.id})}},t.id))})})]}),e.jsx(S,{value:"about",className:"mt-6",children:e.jsx(m,{title:"About Me",children:e.jsx(he,{children:e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"social-heading-3 text-card-foreground mb-2",children:"Personal Information"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(T,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Name:"}),e.jsx("span",{className:"text-sm font-medium",children:y})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ze,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Email:"}),e.jsx("span",{className:"text-sm font-medium",children:s==null?void 0:s.email})]}),(s==null?void 0:s.civicLevel)&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(xe,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"Civic Level:"}),e.jsx(U,{className:"social-badge-primary",children:s.civicLevel})]})]})]}),(s==null?void 0:s.bio)&&e.jsxs("div",{children:[e.jsx("h4",{className:"social-heading-3 text-card-foreground mb-2",children:"Bio"}),e.jsx("p",{className:"social-body text-muted-foreground",children:s.bio})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"social-heading-3 text-card-foreground mb-2",children:"Activity Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Posts Created"}),e.jsx("span",{className:"text-lg font-bold text-social-primary",children:d.posts})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Friends"}),e.jsx("span",{className:"text-lg font-bold text-social-secondary",children:d.friends})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded-lg",children:[e.jsx("span",{className:"text-sm font-medium",children:"Civic Points"}),e.jsx("span",{className:"text-lg font-bold text-social-accent",children:d.civicPoints})]})]})]})})]})})})})}),e.jsx(S,{value:"friends",className:"mt-6",children:e.jsx(m,{title:"My Friends",children:A.length===0?e.jsx(O,{title:"No friends yet",description:"Connect with other civic-minded individuals!",icon:e.jsx(T,{className:"w-8 h-8"}),action:e.jsxs(n,{className:"social-button-primary",onClick:()=>{window.location.href="/civicsocial/friends"},children:[e.jsx($e,{className:"w-4 h-4 mr-2"}),"Find Friends"]})}):e.jsx(is,{cols:3,children:A.map(t=>e.jsx(me,{user:{id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email,profileImageUrl:t.profileImageUrl,civicLevel:t.civicLevel,isOnline:t.isOnline},onMessage:()=>c({title:"Message sent",description:"Your message has been sent successfully!"}),onFollow:()=>Z(t.id)},t.id))})})}),e.jsx(S,{value:"activity",className:"mt-6",children:e.jsx(m,{title:"Recent Activity",children:e.jsx(O,{title:"No recent activity",description:"Your civic engagement activity will appear here.",icon:e.jsx(ie,{className:"w-8 h-8"})})})})]})]}),e.jsx(ce,{open:ge,onOpenChange:f,children:e.jsxs(ne,{className:"max-w-2xl",children:[e.jsxs(oe,{children:[e.jsx(re,{children:"Edit Profile"}),e.jsx(de,{children:"Update your profile information and preferences."})]}),e.jsxs("form",{onSubmit:t=>{var i,a,r,l,ee,se,te;t.preventDefault(),N.mutate({firstName:$,lastName:K,bio:V,profileImageUrl:W,profileBannerUrl:((i=document.getElementById("profileBannerUrl"))==null?void 0:i.value)||void 0,profileAccentColor:((a=document.getElementById("profileAccentColor"))==null?void 0:a.value)||void 0,website:((r=document.getElementById("website"))==null?void 0:r.value)||void 0,profileShowBadges:(l=document.getElementById("showBadges"))==null?void 0:l.checked,profileShowStats:(ee=document.getElementById("showStats"))==null?void 0:ee.checked,profileShowActivity:(se=document.getElementById("showActivity"))==null?void 0:se.checked,profileShowFriends:(te=document.getElementById("showFriends"))==null?void 0:te.checked})},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"First Name"}),e.jsx(p,{value:$,onChange:t=>ye(t.target.value),placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Last Name"}),e.jsx(p,{value:K,onChange:t=>be(t.target.value),placeholder:"Last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Bio"}),e.jsx(le,{value:V,onChange:t=>we(t.target.value),placeholder:"Tell us about yourself...",rows:4})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Profile Image URL"}),e.jsx(p,{value:W,onChange:t=>Se(t.target.value),placeholder:"https://example.com/image.jpg"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"profileBannerUrl",className:"text-sm font-medium",children:"Profile Banner URL"}),e.jsx(p,{id:"profileBannerUrl",placeholder:"https://example.com/banner.jpg",defaultValue:(s==null?void 0:s.profileBannerUrl)||""})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"profileAccentColor",className:"text-sm font-medium",children:"Theme Accent Color"}),e.jsx(p,{id:"profileAccentColor",type:"color",defaultValue:(s==null?void 0:s.profileAccentColor)||"#3b82f6"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{htmlFor:"website",className:"text-sm font-medium",children:"Website"}),e.jsx(p,{id:"website",placeholder:"https://my-site.com",defaultValue:(s==null?void 0:s.website)||""})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"showBadges",type:"checkbox",defaultChecked:(s==null?void 0:s.profileShowBadges)??!0}),e.jsx("label",{htmlFor:"showBadges",className:"text-sm",children:"Show badges"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"showStats",type:"checkbox",defaultChecked:(s==null?void 0:s.profileShowStats)??!0}),e.jsx("label",{htmlFor:"showStats",className:"text-sm",children:"Show stats"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"showActivity",type:"checkbox",defaultChecked:(s==null?void 0:s.profileShowActivity)??!0}),e.jsx("label",{htmlFor:"showActivity",className:"text-sm",children:"Show activity"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"showFriends",type:"checkbox",defaultChecked:(s==null?void 0:s.profileShowFriends)??!0}),e.jsx("label",{htmlFor:"showFriends",className:"text-sm",children:"Show friends"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsxs(n,{type:"submit",className:"social-button-primary",disabled:N.isPending,children:[N.isPending?e.jsx("div",{className:"w-4 h-4 animate-spin border-2 border-white border-t-transparent rounded-full mr-2"}):e.jsx(Y,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})}),e.jsx(ce,{open:Ne,onOpenChange:v,children:e.jsxs(ne,{className:"max-w-md",children:[e.jsxs(oe,{children:[e.jsx(re,{children:"Privacy Settings"}),e.jsx(de,{children:"Control what is visible on your profile."})]}),e.jsxs("form",{onSubmit:t=>{var i,a,r,l;t.preventDefault(),N.mutate({profileShowBadges:(i=document.getElementById("ps_showBadges"))==null?void 0:i.checked,profileShowStats:(a=document.getElementById("ps_showStats"))==null?void 0:a.checked,profileShowActivity:(r=document.getElementById("ps_showActivity"))==null?void 0:r.checked,profileShowFriends:(l=document.getElementById("ps_showFriends"))==null?void 0:l.checked}),v(!1)},className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"ps_showBadges",type:"checkbox",defaultChecked:(s==null?void 0:s.profileShowBadges)??!0}),e.jsx("label",{htmlFor:"ps_showBadges",className:"text-sm",children:"Show badges"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"ps_showStats",type:"checkbox",defaultChecked:(s==null?void 0:s.profileShowStats)??!0}),e.jsx("label",{htmlFor:"ps_showStats",className:"text-sm",children:"Show stats"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"ps_showActivity",type:"checkbox",defaultChecked:(s==null?void 0:s.profileShowActivity)??!0}),e.jsx("label",{htmlFor:"ps_showActivity",className:"text-sm",children:"Show activity"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{id:"ps_showFriends",type:"checkbox",defaultChecked:(s==null?void 0:s.profileShowFriends)??!0}),e.jsx("label",{htmlFor:"ps_showFriends",className:"text-sm",children:"Show friends"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(n,{type:"button",variant:"outline",onClick:()=>v(!1),children:"Cancel"}),e.jsx(n,{type:"submit",className:"social-button-primary",children:"Save"})]})]})]})})]})}export{gs as default};
