import{j as e}from"./ui-B-8yHimL.js";import{r as n}from"./vendor-DRd396Ms.js";import{G as P,a8 as r,T as S,z as t,Q as f,I,g as d,h as o,i as m,n as x,j as h,t as A,B as b,w as k}from"./index-BsR0ZU8C.js";import{S as L,a as M,b as R,c as B,d as l}from"./select-C5rAa6ot.js";import{T as F,a as V,b as u,c as p}from"./tabs-Cg7NzHL7.js";import{C as q}from"./calendar-Cc1tPQLU.js";import{C as z}from"./clock-BQ4rBHJ3.js";import"./index-Bfvbq57u.js";import"./check-ZWOdqN9G.js";function W(){const[i,N]=n.useState(""),[c,y]=n.useState("all"),[j,D]=n.useState(1),{data:a,isLoading:v,error:w}=P({queryKey:["/api/memory",i,c,j],queryFn:()=>k("/api/memory","GET",{search:i,timeframe:c,page:j.toString(),limit:"20"}),staleTime:5*60*1e3}),T=s=>{switch(s){case"Kept":return"text-green-600 bg-green-50 border-green-200";case"Partially Kept":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Broken":return"text-red-600 bg-red-50 border-red-200";case"In Progress":return"text-blue-600 bg-blue-50 border-blue-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},C=s=>{switch(s){case"High":return"text-red-600 bg-red-50 border-red-200";case"Medium":return"text-yellow-600 bg-yellow-50 border-yellow-200";case"Low":return"text-green-600 bg-green-50 border-green-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},g=s=>new Date(s).toLocaleDateString("en-CA",{year:"numeric",month:"long",day:"numeric"});return v?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(r,{className:"w-12 h-12 mx-auto mb-4 text-gray-400 animate-pulse"}),e.jsx("p",{className:"text-gray-600",children:"Loading political memory database..."})]})})}):w?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(S,{className:"w-12 h-12 mx-auto mb-4 text-red-400"}),e.jsx("p",{className:"text-red-600",children:"Failed to load political memory data"}),e.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Please try again later"})]})})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold font-serif text-foreground",children:"Political Memory"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Track political promises, commitments, and their outcomes over time"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs(t,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:[e.jsx(r,{className:"w-3 h-3 mr-1"}),"Memory Database"]}),e.jsxs(t,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[e.jsx(f,{className:"w-3 h-3 mr-1"}),(a==null?void 0:a.pagination.total)||0," promises tracked"]})]})]}),e.jsxs(F,{defaultValue:"promises",className:"w-full",children:[e.jsxs(V,{className:"grid w-full grid-cols-3",children:[e.jsx(u,{value:"promises",children:"Promise Tracker"}),e.jsx(u,{value:"analysis",children:"Impact Analysis"}),e.jsx(u,{value:"patterns",children:"Pattern Recognition"})]}),e.jsxs(p,{value:"promises",className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(r,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(I,{placeholder:"Search promises, politicians, or policies...",value:i,onChange:s=>N(s.target.value),className:"pl-10"})]}),e.jsxs(L,{value:c,onValueChange:y,children:[e.jsx(M,{className:"w-64",children:e.jsx(R,{placeholder:"Filter by timeframe"})}),e.jsxs(B,{children:[e.jsx(l,{value:"all",children:"All Time"}),e.jsx(l,{value:"current",children:"Current Term"}),e.jsx(l,{value:"recent",children:"Last 5 Years"}),e.jsx(l,{value:"historical",children:"Historical"})]})]})]}),e.jsx("div",{className:"grid gap-6",children:a==null?void 0:a.memory.map(s=>e.jsxs(d,{className:"hover:shadow-lg transition-shadow",children:[e.jsx(o,{children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx(m,{className:"text-lg font-semibold",children:s.promise}),e.jsxs(x,{className:"mt-2",children:["Made by ",s.politician," on ",g(s.madeDate)]})]}),e.jsxs("div",{className:"flex flex-col items-end space-y-2 ml-4",children:[e.jsx(t,{className:T(s.status),children:s.status}),e.jsxs(t,{className:C(s.impact),children:[s.impact," Impact"]})]})]})}),e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Details"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.details})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Media Attention"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.mediaAttention})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Public Reaction"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.publicReaction})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Follow-up Actions"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.followUpActions})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-sm text-muted-foreground",children:[e.jsx(A,{className:"w-4 h-4"}),e.jsx("span",{children:s.politician}),e.jsx(q,{className:"w-4 h-4 ml-2"}),e.jsx("span",{children:g(s.madeDate)})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(b,{variant:"outline",size:"sm",children:[e.jsx(z,{className:"w-4 h-4 mr-2"}),"Track Progress"]}),e.jsxs(b,{variant:"outline",size:"sm",children:[e.jsx(f,{className:"w-4 h-4 mr-2"}),"View Impact"]})]})]})]})})]},s.id))}),(a==null?void 0:a.memory.length)===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(r,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),e.jsx("p",{className:"text-gray-600",children:"No political promises found matching your criteria"})]})]}),e.jsx(p,{value:"analysis",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Promise Impact Analysis"}),e.jsx(x,{children:"Analysis of how political promises affect public trust and policy outcomes"})]}),e.jsx(h,{children:e.jsx("p",{className:"text-muted-foreground",children:"Impact analysis features will be available soon. This will include detailed analysis of how political promises affect public trust, policy outcomes, and electoral results."})})]})}),e.jsx(p,{value:"patterns",className:"space-y-6",children:e.jsxs(d,{children:[e.jsxs(o,{children:[e.jsx(m,{children:"Pattern Recognition"}),e.jsx(x,{children:"Identify patterns in political promises and their outcomes"})]}),e.jsx(h,{children:e.jsx("p",{className:"text-muted-foreground",children:"Pattern recognition features will be available soon. This will include AI-powered analysis to identify common patterns in political promises and their fulfillment rates."})})]})})]})]})}export{W as default};
