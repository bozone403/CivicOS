import{u as D,O as g,j as e,m as o,B as j,g as c,k as l,h,i as p,w as S,o as C,N as E,ab as U,F as k,U as O,z as V}from"./index-buf9avXS.js";import{r as n}from"./vendor-BzpAWY_6.js";import{L as _}from"./loading-spinner-e-sy8CzO.js";import{E as y}from"./external-link-BgeMK2Pb.js";import"./ui-7zmNL429.js";const w=i=>{switch(i){case"politician":return e.jsxDEV(O,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:29,columnNumber:14},void 0);case"bill":return e.jsxDEV(k,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:31,columnNumber:14},void 0);case"legal":return e.jsxDEV(U,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:33,columnNumber:14},void 0);case"news":return e.jsxDEV(E,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:35,columnNumber:14},void 0);default:return e.jsxDEV(o,{className:"w-4 h-4"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:37,columnNumber:14},void 0)}},T=i=>{switch(i){case"politician":return"Politician";case"bill":return"Bill";case"legal":return"Legal Document";case"news":return"News Article";default:return"Result"}},L=i=>{switch(i){case"politician":return"bg-blue-100 text-blue-800";case"bill":return"bg-green-100 text-green-800";case"legal":return"bg-purple-100 text-purple-800";case"news":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}};function Q(){const[i,m]=D(),[r,u]=n.useState(""),[a,d]=n.useState("");n.useEffect(()=>{const N=new URLSearchParams(window.location.search).get("q")||"";u(N),d(N)},[i]),n.useEffect(()=>{const s=setTimeout(()=>{d(r)},300);return()=>clearTimeout(s)},[r]);const{data:t,isLoading:x,error:b}=g({queryKey:["/api/search",a],queryFn:()=>V(`/api/search?q=${encodeURIComponent(a)}`,"GET"),enabled:a.length>=2,staleTime:5*60*1e3}),v=s=>{s.preventDefault(),r.trim()&&m(`/search?q=${encodeURIComponent(r.trim())}`)},f=s=>{m(s)};return e.jsxDEV("div",{className:"container mx-auto px-4 py-8 max-w-4xl",children:[e.jsxDEV("div",{className:"mb-8",children:[e.jsxDEV("h1",{className:"text-3xl font-bold mb-4",children:"Search CivicOS"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:115,columnNumber:9},this),e.jsxDEV("p",{className:"text-gray-600 mb-6",children:"Search across politicians, bills, legal documents, and news articles"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:116,columnNumber:9},this),e.jsxDEV("form",{onSubmit:v,className:"relative max-w-2xl",children:[e.jsxDEV(o,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:122,columnNumber:11},this),e.jsxDEV("input",{type:"text",placeholder:"Search for politicians, bills, laws, or news...",value:r,onChange:s=>u(s.target.value),className:"w-full pl-10 pr-4 py-3 bg-white border border-gray-300 rounded-lg text-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:123,columnNumber:11},this),e.jsxDEV(j,{type:"submit",className:"absolute right-2 top-1/2 transform -translate-y-1/2",disabled:!r.trim(),children:"Search"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:121,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:114,columnNumber:7},this),a.length>=2&&e.jsxDEV("div",{className:"space-y-4",children:x?e.jsxDEV("div",{className:"flex items-center justify-center py-12",children:[e.jsxDEV(_,{size:"lg"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:145,columnNumber:15},this),e.jsxDEV("span",{className:"ml-3 text-gray-600",children:"Searching..."},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:146,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:144,columnNumber:13},this):b?e.jsxDEV(c,{children:e.jsxDEV(l,{className:"pt-6",children:e.jsxDEV("div",{className:"text-center text-red-600",children:"Failed to load search results. Please try again."},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:151,columnNumber:17},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:150,columnNumber:15},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:149,columnNumber:13},this):t?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mb-6",children:[e.jsxDEV("h2",{className:"text-xl font-semibold mb-2",children:['Search Results for "',t.query,'"']},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:160,columnNumber:17},this),e.jsxDEV("p",{className:"text-gray-600",children:["Found ",t.total," results"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:163,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:159,columnNumber:15},this),t.results.length>0?e.jsxDEV("div",{className:"space-y-4",children:t.results.map(s=>e.jsxDEV(c,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>f(s.url),children:[e.jsxDEV(h,{className:"pb-3",children:e.jsxDEV("div",{className:"flex items-start justify-between",children:[e.jsxDEV("div",{className:"flex items-center space-x-3",children:[e.jsxDEV("div",{className:"text-gray-500",children:w(s.type)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:180,columnNumber:29},this),e.jsxDEV("div",{children:[e.jsxDEV(p,{className:"text-lg",children:s.title},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:184,columnNumber:31},this),e.jsxDEV("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsxDEV(S,{className:L(s.type),children:T(s.type)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:186,columnNumber:33},this),e.jsxDEV("span",{className:"text-sm text-gray-500",children:["Relevance: ",s.relevance,"%"]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:189,columnNumber:33},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:185,columnNumber:31},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:183,columnNumber:29},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:179,columnNumber:27},this),e.jsxDEV(y,{className:"w-4 h-4 text-gray-400"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:195,columnNumber:27},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:178,columnNumber:25},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:177,columnNumber:23},this),e.jsxDEV(l,{className:"pt-0",children:e.jsxDEV(C,{className:"text-gray-700",children:s.description},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:199,columnNumber:25},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:198,columnNumber:23},this)]},`${s.type}-${s.id}`,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:172,columnNumber:21},this))},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:170,columnNumber:17},this):e.jsxDEV(c,{children:e.jsxDEV(l,{className:"pt-6",children:e.jsxDEV("div",{className:"text-center text-gray-600",children:[e.jsxDEV(o,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:210,columnNumber:23},this),e.jsxDEV("h3",{className:"text-lg font-semibold mb-2",children:"No results found"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:211,columnNumber:23},this),e.jsxDEV("p",{children:"Try adjusting your search terms or browse our categories"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:212,columnNumber:23},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:209,columnNumber:21},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:208,columnNumber:19},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:207,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:157,columnNumber:13},this):null},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:142,columnNumber:9},this),!a&&e.jsxDEV(c,{className:"mt-8",children:[e.jsxDEV(h,{children:e.jsxDEV(p,{children:"Search Tips"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:226,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:225,columnNumber:11},this),e.jsxDEV(l,{children:e.jsxDEV("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold mb-2",children:"Search for Politicians"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:231,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Try searching by name, party, or constituency"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:232,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:230,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold mb-2",children:"Search for Bills"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:235,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Search by bill title or description"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:236,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:234,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold mb-2",children:"Search Legal Documents"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:239,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Find laws, acts, and legal cases"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:240,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:238,columnNumber:15},this),e.jsxDEV("div",{children:[e.jsxDEV("h4",{className:"font-semibold mb-2",children:"Search News"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:243,columnNumber:17},this),e.jsxDEV("p",{className:"text-sm text-gray-600",children:"Find news articles and analysis"},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:242,columnNumber:15},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:229,columnNumber:13},this)},void 0,!1,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:228,columnNumber:11},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:224,columnNumber:9},this)]},void 0,!0,{fileName:"/Users/jordan/Desktop/CivicOsSuite_3/client/src/pages/search.tsx",lineNumber:112,columnNumber:5},this)}export{Q as default};
