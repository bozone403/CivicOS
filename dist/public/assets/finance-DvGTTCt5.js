import{j as e}from"./ui-wkHeCsE0.js";import{r as d}from"./vendor-DRd396Ms.js";import{c as q,G as y,W as i,y as h,E as K,C,g as l,j as r,a5 as M,T as F,l as z,I as G,B as p,h as Q,a0 as O}from"./index-ps_rrfzi.js";import{S as j,a as g,b,c as N,d as a}from"./select-BuFGRnf_.js";import{V as U}from"./VotingButtons-DlGsv4Un.js";import{C as H}from"./calendar-BpwU1ldJ.js";import{E as W}from"./external-link-ZQ9t1b0V.js";import{B as _}from"./building-2-Bn830FU0.js";import"./index-Bfvbq57u.js";import"./check-CGAfdnS_.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=q("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);function de(){const[x,S]=d.useState(""),[o,D]=d.useState("all"),[n,T]=d.useState("all"),[m,R]=d.useState("all"),[Y,A]=d.useState(null),{data:f=[],isLoading:P}=y({queryKey:["/api/campaign-finance",x,o,n,m]}),{data:c}=y({queryKey:["/api/campaign-finance/stats"]}),L=s=>{switch(s.toLowerCase()){case"liberal":return"bg-red-100 text-red-800 border-red-300";case"conservative":return"bg-blue-100 text-blue-800 border-blue-300";case"ndp":return"bg-orange-100 text-orange-800 border-orange-300";case"bloc québécois":return"bg-cyan-100 text-cyan-800 border-cyan-300";case"green":return"bg-green-100 text-green-800 border-green-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}},E=s=>{if(!s)return e.jsx(i,{className:"w-4 h-4"});switch(s.toLowerCase()){case"federal":return e.jsx(O,{className:"w-4 h-4"});case"provincial":return e.jsx(_,{className:"w-4 h-4"});default:return e.jsx(i,{className:"w-4 h-4"})}},t=s=>new Intl.NumberFormat("en-CA",{style:"currency",currency:"CAD",minimumFractionDigits:0}).format(s),v=s=>s>=95?"text-green-600":s>=85?"text-yellow-600":"text-red-600",k=f.filter(s=>{if(!s)return!1;const B=s.politician||"",w=s.party||"",$=s.jurisdiction||"",I=B.toLowerCase().includes(x.toLowerCase())||w.toLowerCase().includes(x.toLowerCase()),V=o==="all"||w===o,J=m==="all"||$===m;let u=!0;return n==="high"?u=s.totalRaised>1e6:n==="medium"?u=s.totalRaised>=5e5&&s.totalRaised<=1e6:n==="low"&&(u=s.totalRaised<5e5),I&&V&&J&&u});return P?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-slate-300 border-t-slate-600 rounded-full animate-spin mx-auto"}),e.jsx("p",{className:"text-lg font-medium text-slate-600 dark:text-slate-400",children:"Loading campaign finance data..."})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl md:text-4xl font-bold font-serif text-slate-900 dark:text-slate-100 flex items-center",children:[e.jsx(i,{className:"w-8 h-8 mr-3 text-slate-600 dark:text-slate-400"}),"Campaign Finance Transparency"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-2",children:"Complete transparency of Canadian political campaign financing and expenditures"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(h,{variant:"outline",className:"bg-green-50 text-green-700 border-green-300",children:[e.jsx(K,{className:"w-3 h-3 mr-1"}),f.length," Records"]}),e.jsxs(h,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-300",children:[e.jsx(C,{className:"w-3 h-3 mr-1"}),"Elections Canada"]})]})]}),c&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(l,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(i,{className:"w-5 h-5 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:t(c.totalDonations)}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Total Donations"})]})]})})}),e.jsx(l,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(M,{className:"w-5 h-5 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:t(c.averageDonation)}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Average Donation"})]})]})})}),e.jsx(l,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-5 h-5 text-purple-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:[c.complianceRate,"%"]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Compliance Rate"})]})]})})}),e.jsx(l,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsx(r,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(F,{className:"w-5 h-5 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-slate-900 dark:text-slate-100",children:c.overdueFilers}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Overdue Filers"})]})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-4 h-4"}),e.jsx(G,{placeholder:"Search politicians or parties...",value:x,onChange:s=>S(s.target.value),className:"pl-10 bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm"})]}),e.jsxs(j,{value:o,onValueChange:D,children:[e.jsx(g,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(b,{placeholder:"Filter by party"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"All Parties"}),e.jsx(a,{value:"Liberal",children:"Liberal"}),e.jsx(a,{value:"Conservative",children:"Conservative"}),e.jsx(a,{value:"NDP",children:"NDP"}),e.jsx(a,{value:"Bloc Québécois",children:"Bloc Québécois"}),e.jsx(a,{value:"Green",children:"Green"})]})]}),e.jsxs(j,{value:m,onValueChange:R,children:[e.jsx(g,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(b,{placeholder:"Filter by jurisdiction"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"All Jurisdictions"}),e.jsx(a,{value:"Federal",children:"Federal"}),e.jsx(a,{value:"Provincial",children:"Provincial"}),e.jsx(a,{value:"Municipal",children:"Municipal"})]})]}),e.jsxs(j,{value:n,onValueChange:T,children:[e.jsx(g,{className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:e.jsx(b,{placeholder:"Filter by amount"})}),e.jsxs(N,{children:[e.jsx(a,{value:"all",children:"All Amounts"}),e.jsx(a,{value:"high",children:"Over $1M"}),e.jsx(a,{value:"medium",children:"$500K - $1M"}),e.jsx(a,{value:"low",children:"Under $500K"})]})]}),e.jsxs(p,{variant:"outline",className:"bg-white/50 dark:bg-slate-800/50 backdrop-blur-sm",children:[e.jsx(X,{className:"w-4 h-4 mr-2"}),"Advanced Filters"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[k.map(s=>e.jsxs(l,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm border-slate-200 dark:border-slate-700 hover:shadow-lg transition-all duration-300",children:[e.jsx(Q,{className:"pb-3",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[E(s.jurisdiction),e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-slate-100",children:s.politician})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-400",children:["Campaign Finance Report - ",s.reportingPeriod]})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsx(h,{className:`${L(s.party)}`,children:s.party}),e.jsx(h,{variant:"outline",className:"text-xs",children:s.jurisdiction}),e.jsxs("div",{className:`text-sm font-medium ${v(s.complianceScore)}`,children:["Compliance: ",s.complianceScore,"%"]})]})]})}),e.jsxs(r,{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-green-700 dark:text-green-300 font-medium",children:"Total Raised"}),e.jsx("div",{className:"text-xl font-bold text-green-900 dark:text-green-100",children:t(s.totalRaised)})]}),e.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-blue-700 dark:text-blue-300 font-medium",children:"Individual Donations"}),e.jsx("div",{className:"text-xl font-bold text-blue-900 dark:text-blue-100",children:t(s.individualDonations)})]}),e.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-purple-700 dark:text-purple-300 font-medium",children:"Expenditures"}),e.jsx("div",{className:"text-xl font-bold text-purple-900 dark:text-purple-100",children:t(s.expenditures)})]}),e.jsxs("div",{className:"bg-orange-50 dark:bg-orange-900/20 rounded-lg p-3",children:[e.jsx("div",{className:"text-sm text-orange-700 dark:text-orange-300 font-medium",children:"Surplus/Deficit"}),e.jsx("div",{className:`text-xl font-bold ${s.surplus>=0?"text-green-900 dark:text-green-100":"text-red-900 dark:text-red-100"}`,children:t(s.surplus)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Public Funding:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:t(s.publicFunding)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Largest Donor:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.largestDonor})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Filing Deadline:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:s.filingDeadline})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Corporate Donations:"}),e.jsx("span",{className:"font-medium text-slate-900 dark:text-slate-100",children:t(s.corporateDonations)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Suspicious Transactions:"}),e.jsx("span",{className:`font-medium ${s.suspiciousTransactions>0?"text-red-600":"text-green-600"}`,children:s.suspiciousTransactions})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-slate-600 dark:text-slate-400",children:"Transparency Score:"}),e.jsxs("span",{className:`font-medium ${v(s.complianceScore)}`,children:[s.complianceScore,"/100"]})]})]})]}),s.suspiciousTransactions>0&&e.jsxs("div",{className:"bg-red-50 dark:bg-red-900/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(F,{className:"w-5 h-5 text-red-600"}),e.jsx("h4",{className:"font-semibold text-red-900 dark:text-red-100",children:"Compliance Alert"})]}),e.jsxs("p",{className:"text-sm text-red-800 dark:text-red-200",children:["This record contains ",s.suspiciousTransactions," flagged transaction(s) requiring review."]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-slate-200 dark:border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400",children:[e.jsx(H,{className:"w-4 h-4"}),"Report Period: ",s.reportingPeriod]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(U,{targetType:"finance",targetId:s.id,size:"sm"}),e.jsx(p,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs("a",{href:s.sourceUrl,target:"_blank",rel:"noopener noreferrer",children:[e.jsx(W,{className:"w-4 h-4 mr-2"}),"Elections Canada"]})}),e.jsx(p,{variant:"outline",size:"sm",onClick:()=>A(s),children:"View Details"})]})]})]})]},s.id)),k.length===0&&e.jsx(l,{className:"bg-white/80 dark:bg-slate-800/80 backdrop-blur-sm",children:e.jsxs(r,{className:"p-8 text-center",children:[e.jsx(i,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-slate-900 dark:text-slate-100 mb-2",children:"No Financial Records Found"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"No campaign finance records match your current filter criteria."})]})})]}),e.jsx("div",{className:"mt-8",children:e.jsx(l,{className:"border-blue-200 bg-blue-50 dark:bg-blue-900/20 dark:border-blue-800",children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"flex items-start",children:[e.jsx(i,{className:"w-6 h-6 text-blue-600 mr-3 mt-1"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Campaign Finance Data Source"}),e.jsx("p",{className:"text-blue-800 dark:text-blue-200 text-sm",children:"All financial data is sourced directly from Elections Canada and provincial election authorities. Data may be subject to reporting deadlines and verification processes. For official records, please consult Elections Canada directly."})]})]})})})})]})})}export{de as default};
