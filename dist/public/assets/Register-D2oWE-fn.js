import{j as e}from"./ui-CDUWW_Ri.js";import{r as d}from"./vendor-1XCZ5AD1.js";import{z,p as B,u as L,E as q,S as Y,f as C,v as S,T as M,g as W,h as _,s as U,i as T,n as G,j as D,L as i,I as c,t as Q,G as P,o as m,P as H,B as J,A as K,y as Z}from"./index-yatsprew.js";import{S as x,a as h,b as p,c as g,d as u}from"./select-C-vAH6TQ.js";import{C as N}from"./checkbox-BlsMA4dJ.js";import{L as R}from"./lock-s2_IzXIP.js";import{C as X}from"./calendar-DLCcVvjd.js";import"./index-q7PMzjPi.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=z("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),$=["Alberta","British Columbia","Manitoba","New Brunswick","Newfoundland and Labrador","Nova Scotia","Ontario","Prince Edward Island","Quebec","Saskatchewan","Northwest Territories","Nunavut","Yukon"],ee=["citizen","permanent_resident","temporary_resident","visitor"],se=["registered","not_registered","unknown"],ae=["auto","simple","casual","formal","technical"];function me(){const[a,I]=d.useState({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:"",dateOfBirth:"",city:"",province:"",postalCode:"",federalRiding:"",provincialRiding:"",municipalWard:"",citizenshipStatus:"citizen",voterRegistrationStatus:"unknown",communicationStyle:"auto",agreeToTerms:!1,agreeToPrivacy:!1,agreeToVerification:!1}),[j,F]=d.useState(!1),[f,O]=d.useState(!1),[l,y]=d.useState(!1),[t,b]=d.useState({}),{toast:v}=B(),[,w]=L(),V=q(),A=()=>{const s={};return a.email?/\S+@\S+\.\S+/.test(a.email)||(s.email="Please enter a valid email address"):s.email="Email is required",a.password?a.password.length<8&&(s.password="Password must be at least 8 characters long"):s.password="Password is required",a.password!==a.confirmPassword&&(s.confirmPassword="Passwords do not match"),a.firstName||(s.firstName="First name is required"),a.lastName||(s.lastName="Last name is required"),a.city||(s.city="City is required"),a.province||(s.province="Province is required"),a.postalCode||(s.postalCode="Postal code is required"),a.agreeToTerms||(s.agreeToTerms="You must agree to the terms of service"),a.agreeToPrivacy||(s.agreeToPrivacy="You must agree to the privacy policy"),a.agreeToVerification||(s.agreeToVerification="You must agree to identity verification"),b(s),Object.keys(s).length===0},E=async s=>{if(s.preventDefault(),!!A()){y(!0);try{const n={email:a.email,password:a.password,firstName:a.firstName,lastName:a.lastName,phoneNumber:a.phoneNumber,dateOfBirth:a.dateOfBirth,city:a.city,province:a.province,postalCode:a.postalCode,federalRiding:a.federalRiding,provincialRiding:a.provincialRiding,municipalWard:a.municipalWard,citizenshipStatus:a.citizenshipStatus,voterRegistrationStatus:a.voterRegistrationStatus,communicationStyle:a.communicationStyle},o=await Z("/api/auth/register","POST",n);o.token?(localStorage.setItem("civicos-jwt",o.token),await V.invalidateQueries({queryKey:["/api/auth/user"]}),v({title:"Registration successful",description:"Welcome to CivicOS! Your account has been created.",variant:"default"}),setTimeout(()=>{w("/dashboard")},1e3)):v({title:"Registration failed",description:"No authentication token received",variant:"destructive"})}catch(n){const o=n.message||"Registration failed. Please try again.";v({title:"Registration failed",description:o,variant:"destructive"})}finally{y(!1)}}},r=(s,n)=>{I(o=>({...o,[s]:n})),t[s]&&b(o=>({...o,[s]:void 0}))};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 flex flex-col",children:[e.jsx("header",{className:"bg-white/95 backdrop-blur-sm shadow-lg border-b-2 border-red-600 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:e.jsx(Y,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:"CivicOS"}),e.jsx("p",{className:"text-xs text-gray-600",children:"Government Accountability Platform"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(C,{size:"sm"}),e.jsx(S,{variant:"outline",className:"text-yellow-700 border-yellow-400",children:"Independent Platform"})]})]})})}),e.jsx("main",{className:"flex-1 flex items-center justify-center px-4 py-8",children:e.jsxs("div",{className:"w-full max-w-2xl",children:[e.jsx("div",{className:"mb-6",children:e.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded-r-lg",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(M,{className:"h-5 w-5 text-yellow-400"})}),e.jsx("div",{className:"ml-3",children:e.jsxs("p",{className:"text-sm text-yellow-700 font-medium",children:[e.jsx("strong",{children:"Important Notice:"})," This is NOT an official Government of Canada website. CivicOS is an independent platform for government accountability."]})})]})})}),e.jsxs(W,{className:"shadow-xl border-0 bg-white/95 backdrop-blur-sm",children:[e.jsxs(_,{className:"space-y-6 pb-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"p-4 bg-gradient-to-br from-red-600 to-red-700 rounded-xl shadow-lg",children:e.jsx(U,{className:"w-10 h-10 text-white"})})}),e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx(T,{className:"text-3xl font-bold text-gray-900",children:"Create Your CivicOS Account"}),e.jsx(T,{className:"text-lg font-semibold text-red-600",children:"Créer Votre Compte CivicOS"}),e.jsx(G,{className:"text-gray-600 text-base",children:"Join the platform for transparent government accountability and civic engagement."})]})]}),e.jsx(D,{className:"space-y-6 px-8 pb-8",children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Account Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"firstName",children:"First Name *"}),e.jsx(c,{id:"firstName",value:a.firstName,onChange:s=>r("firstName",s.target.value),className:"h-12",disabled:l}),t.firstName&&e.jsx("p",{className:"text-red-500 text-sm",children:t.firstName})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"lastName",children:"Last Name *"}),e.jsx(c,{id:"lastName",value:a.lastName,onChange:s=>r("lastName",s.target.value),className:"h-12",disabled:l}),t.lastName&&e.jsx("p",{className:"text-red-500 text-sm",children:t.lastName})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"email",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(c,{id:"email",type:"email",value:a.email,onChange:s=>r("email",s.target.value),className:"h-12 pl-12",disabled:l})]}),t.email&&e.jsx("p",{className:"text-red-500 text-sm",children:t.email})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"password",children:"Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(c,{id:"password",type:j?"text":"password",value:a.password,onChange:s=>r("password",s.target.value),className:"h-12 pl-12 pr-12",disabled:l}),e.jsx("button",{type:"button",onClick:()=>F(!j),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:j?e.jsx(k,{className:"h-5 w-5"}):e.jsx(P,{className:"h-5 w-5"})})]}),t.password&&e.jsx("p",{className:"text-red-500 text-sm",children:t.password})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"confirmPassword",children:"Confirm Password *"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(c,{id:"confirmPassword",type:f?"text":"password",value:a.confirmPassword,onChange:s=>r("confirmPassword",s.target.value),className:"h-12 pl-12 pr-12",disabled:l}),e.jsx("button",{type:"button",onClick:()=>O(!f),className:"absolute right-4 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:f?e.jsx(k,{className:"h-5 w-5"}):e.jsx(P,{className:"h-5 w-5"})})]}),t.confirmPassword&&e.jsx("p",{className:"text-red-500 text-sm",children:t.confirmPassword})]})]})]}),e.jsx(m,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"phoneNumber",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(c,{id:"phoneNumber",type:"tel",value:a.phoneNumber,onChange:s=>r("phoneNumber",s.target.value),className:"h-12 pl-12",disabled:l})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"dateOfBirth",children:"Date of Birth"}),e.jsxs("div",{className:"relative",children:[e.jsx(X,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400"}),e.jsx(c,{id:"dateOfBirth",type:"date",value:a.dateOfBirth,onChange:s=>r("dateOfBirth",s.target.value),className:"h-12 pl-12",disabled:l})]})]})]})]}),e.jsx(m,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Location Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"city",children:"City *"}),e.jsx(c,{id:"city",value:a.city,onChange:s=>r("city",s.target.value),className:"h-12",disabled:l}),t.city&&e.jsx("p",{className:"text-red-500 text-sm",children:t.city})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"province",children:"Province *"}),e.jsxs(x,{value:a.province,onValueChange:s=>r("province",s),children:[e.jsx(h,{className:"h-12",children:e.jsx(p,{placeholder:"Select province"})}),e.jsx(g,{children:$.map(s=>e.jsx(u,{value:s,children:s},s))})]}),t.province&&e.jsx("p",{className:"text-red-500 text-sm",children:t.province})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"postalCode",children:"Postal Code *"}),e.jsx(c,{id:"postalCode",value:a.postalCode,onChange:s=>r("postalCode",s.target.value),className:"h-12",disabled:l}),t.postalCode&&e.jsx("p",{className:"text-red-500 text-sm",children:t.postalCode})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"federalRiding",children:"Federal Riding"}),e.jsx(c,{id:"federalRiding",value:a.federalRiding,onChange:s=>r("federalRiding",s.target.value),className:"h-12",disabled:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"provincialRiding",children:"Provincial Riding"}),e.jsx(c,{id:"provincialRiding",value:a.provincialRiding,onChange:s=>r("provincialRiding",s.target.value),className:"h-12",disabled:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"municipalWard",children:"Municipal Ward"}),e.jsx(c,{id:"municipalWard",value:a.municipalWard,onChange:s=>r("municipalWard",s.target.value),className:"h-12",disabled:l})]})]})]}),e.jsx(m,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Civic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"citizenshipStatus",children:"Citizenship Status"}),e.jsxs(x,{value:a.citizenshipStatus,onValueChange:s=>r("citizenshipStatus",s),children:[e.jsx(h,{className:"h-12",children:e.jsx(p,{})}),e.jsx(g,{children:ee.map(s=>e.jsx(u,{value:s,children:s.replace("_"," ").replace(/\b\w/g,n=>n.toUpperCase())},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"voterRegistrationStatus",children:"Voter Registration"}),e.jsxs(x,{value:a.voterRegistrationStatus,onValueChange:s=>r("voterRegistrationStatus",s),children:[e.jsx(h,{className:"h-12",children:e.jsx(p,{})}),e.jsx(g,{children:se.map(s=>e.jsx(u,{value:s,children:s.replace("_"," ").replace(/\b\w/g,n=>n.toUpperCase())},s))})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(i,{htmlFor:"communicationStyle",children:"Communication Style"}),e.jsxs(x,{value:a.communicationStyle,onValueChange:s=>r("communicationStyle",s),children:[e.jsx(h,{className:"h-12",children:e.jsx(p,{})}),e.jsx(g,{children:ae.map(s=>e.jsx(u,{value:s,children:s.charAt(0).toUpperCase()+s.slice(1)},s))})]})]})]})]}),e.jsx(m,{}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 border-b pb-2",children:"Terms and Conditions"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(N,{id:"agreeToTerms",checked:a.agreeToTerms,onCheckedChange:s=>r("agreeToTerms",s),disabled:l}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"agreeToTerms",className:"text-sm font-medium",children:"I agree to the Terms of Service *"}),e.jsx("p",{className:"text-xs text-gray-500",children:"You must agree to our terms of service to create an account."})]})]}),t.agreeToTerms&&e.jsx("p",{className:"text-red-500 text-sm",children:t.agreeToTerms}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(N,{id:"agreeToPrivacy",checked:a.agreeToPrivacy,onCheckedChange:s=>r("agreeToPrivacy",s),disabled:l}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"agreeToPrivacy",className:"text-sm font-medium",children:"I agree to the Privacy Policy *"}),e.jsx("p",{className:"text-xs text-gray-500",children:"You must agree to our privacy policy to create an account."})]})]}),t.agreeToPrivacy&&e.jsx("p",{className:"text-red-500 text-sm",children:t.agreeToPrivacy}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(N,{id:"agreeToVerification",checked:a.agreeToVerification,onCheckedChange:s=>r("agreeToVerification",s),disabled:l}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(i,{htmlFor:"agreeToVerification",className:"text-sm font-medium",children:"I agree to identity verification *"}),e.jsx("p",{className:"text-xs text-gray-500",children:"You must agree to identity verification for platform integrity."})]})]}),t.agreeToVerification&&e.jsx("p",{className:"text-red-500 text-sm",children:t.agreeToVerification})]})]}),e.jsx(J,{type:"submit",disabled:l,className:"w-full h-14 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white font-semibold text-lg shadow-lg transition-all duration-200 transform hover:scale-[1.02]",children:l?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-3"}),"Creating Account..."]}):e.jsxs(e.Fragment,{children:["Create Account / Créer le Compte",e.jsx(K,{className:"w-5 h-5 ml-3"})]})}),e.jsx("div",{className:"text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Already have an account?"," ",e.jsx("button",{type:"button",onClick:()=>w("/auth"),className:"text-red-600 hover:text-red-700 font-medium",children:"Sign in here"})]})})]})})]})]})}),e.jsx("footer",{className:"bg-gray-50 border-t-2 border-red-600 py-8 mt-auto",children:e.jsxs("div",{className:"max-w-4xl mx-auto px-6 text-center",children:[e.jsxs("div",{className:"flex justify-center items-center space-x-3 mb-4",children:[e.jsx(C,{size:"sm"}),e.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"CivicOS"}),e.jsx(S,{variant:"outline",className:"text-yellow-700 border-yellow-400",children:"Independent Platform"})]}),e.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed",children:["Independent Canadian Government Accountability Platform",e.jsx("br",{}),"Plateforme Indépendante de Responsabilité Gouvernementale Canadienne"]}),e.jsxs("p",{className:"text-xs text-yellow-600 font-medium mt-3",children:["* Not affiliated with the Government of Canada",e.jsx("br",{}),"* Non affilié au gouvernement du Canada"]})]})})]})}export{me as default};
