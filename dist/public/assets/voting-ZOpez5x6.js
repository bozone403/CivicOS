import{j as e}from"./ui-wkHeCsE0.js";import{r as c}from"./vendor-DRd396Ms.js";import{c as q,q as H,p as J,x as $,G as z,r as G,l as Q,I as U,g as O,h as K,y as N,j as Z,C as b,B as v,F as V,w as _,U as W,m as y,R as X,W as ee,S as se,Z as te,k as ae}from"./index-jYG8Moy5.js";import{P as j}from"./progress-Ch711k7Q.js";import{S as C,a as A,b as w,c as S,d}from"./select-DG1t7GQ4.js";import{C as P}from"./circle-x-D3dJW9Sp.js";import{G as ie}from"./globe-CE5TV7Kt.js";import"./index-Bfvbq57u.js";import"./check-BdmVyvRj.js";/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=q("CircleMinus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]]),I=[{id:1,billNumber:"C-69",title:"Impact Assessment Act",description:"An Act respecting the impact assessment of certain activities and the prevention of significant adverse environmental effects",status:"Active",stage:"Third Reading",jurisdiction:"Federal",category:"Environment",introducedDate:"2024-01-15",lastVoteDate:"2024-01-20",governmentVote:"Yes",oppositionVote:"No",userVotes:{yes:1247,no:456,abstain:89},totalVotes:1792,userVote:null,sponsor:"Steven Guilbeault",sponsorParty:"Liberal",summary:"This bill establishes a new impact assessment regime for major projects, replacing the previous environmental assessment process. It aims to better protect the environment while ensuring economic development.",keyProvisions:["Establishes new impact assessment process","Increases Indigenous consultation requirements","Strengthens environmental protection measures","Creates new oversight bodies"],fiscalImpact:"Estimated $2.1 billion over 10 years",timeline:"Expected Royal Assent: March 2024"},{id:2,billNumber:"C-75",title:"Criminal Justice Reform Act",description:"An Act to amend the Criminal Code and other Acts to improve the criminal justice system",status:"Active",stage:"Second Reading",jurisdiction:"Federal",category:"Justice",introducedDate:"2024-01-10",lastVoteDate:"2024-01-18",governmentVote:"Yes",oppositionVote:"No",userVotes:{yes:892,no:678,abstain:156},totalVotes:1726,userVote:null,sponsor:"Arif Virani",sponsorParty:"Liberal",summary:"Comprehensive criminal justice reform including changes to bail conditions, sentencing guidelines, and police oversight mechanisms.",keyProvisions:["Reforms bail system","Updates sentencing guidelines","Enhances police oversight","Improves victim support"],fiscalImpact:"Estimated $1.8 billion over 5 years",timeline:"Expected Royal Assent: June 2024"},{id:3,billNumber:"C-83",title:"Digital Privacy Protection Act",description:"An Act to strengthen privacy protections for Canadians in the digital age",status:"Active",stage:"Committee Review",jurisdiction:"Federal",category:"Technology",introducedDate:"2024-01-05",lastVoteDate:"2024-01-15",governmentVote:"Yes",oppositionVote:"Mixed",userVotes:{yes:1456,no:234,abstain:67},totalVotes:1757,userVote:null,sponsor:"FranÃ§ois-Philippe Champagne",sponsorParty:"Liberal",summary:"Modernizes Canada's privacy laws to address challenges of the digital economy, including AI, data collection, and online platforms.",keyProvisions:["Strengthens personal data protection","Regulates AI and automated decision-making","Increases penalties for violations","Enhances individual rights"],fiscalImpact:"Estimated $500 million over 3 years",timeline:"Expected Royal Assent: September 2024"},{id:4,billNumber:"C-91",title:"Indigenous Languages Act",description:"An Act respecting Indigenous languages",status:"Active",stage:"Third Reading",jurisdiction:"Federal",category:"Indigenous Rights",introducedDate:"2024-01-12",lastVoteDate:"2024-01-22",governmentVote:"Yes",oppositionVote:"Yes",userVotes:{yes:1678,no:89,abstain:45},totalVotes:1812,userVote:null,sponsor:"Marc Miller",sponsorParty:"Liberal",summary:"Supports the revitalization and preservation of Indigenous languages across Canada through funding and institutional support.",keyProvisions:["Establishes Indigenous Languages Commissioner","Provides funding for language programs","Supports language education","Preserves cultural heritage"],fiscalImpact:"Estimated $1.2 billion over 10 years",timeline:"Expected Royal Assent: April 2024"},{id:5,billNumber:"C-97",title:"Budget Implementation Act, 2024",description:"An Act to implement certain provisions of the budget tabled in Parliament on March 28, 2024",status:"Active",stage:"Second Reading",jurisdiction:"Federal",category:"Finance",introducedDate:"2024-01-08",lastVoteDate:"2024-01-25",governmentVote:"Yes",oppositionVote:"No",userVotes:{yes:756,no:987,abstain:123},totalVotes:1866,userVote:null,sponsor:"Chrystia Freeland",sponsorParty:"Liberal",summary:"Implements the 2024 federal budget including new spending measures, tax changes, and economic stimulus programs.",keyProvisions:["New housing affordability measures","Climate action funding","Healthcare investments","Tax relief for middle class"],fiscalImpact:"$89.2 billion in new spending",timeline:"Expected Royal Assent: May 2024"},{id:6,billNumber:"C-101",title:"Universal Pharmacare Act",description:"An Act to establish a universal, single-payer, public pharmacare program",status:"Active",stage:"First Reading",jurisdiction:"Federal",category:"Healthcare",introducedDate:"2024-01-20",lastVoteDate:null,governmentVote:"Yes",oppositionVote:"Mixed",userVotes:{yes:1892,no:234,abstain:78},totalVotes:2204,userVote:null,sponsor:"Mark Holland",sponsorParty:"Liberal",summary:"Establishes a national pharmacare program to provide prescription drug coverage for all Canadians.",keyProvisions:["Universal prescription drug coverage","National formulary","Bulk purchasing program","Cost-sharing with provinces"],fiscalImpact:"Estimated $15.3 billion annually",timeline:"Expected Royal Assent: December 2024"}];function ve(){const{user:E}=H(),{toast:m}=J(),D=$(),[i,L]=c.useState(""),[u,R]=c.useState("all"),[x,k]=c.useState("all"),[f,re]=c.useState("all"),{data:a=I,isLoading:oe}=z({queryKey:["/api/bills"],queryFn:()=>Promise.resolve(I),staleTime:1/0}),n=G({mutationFn:s=>_("/api/bills/vote","POST",s),onSuccess:()=>{D.invalidateQueries({queryKey:["/api/bills"]}),m({title:"Vote recorded!",description:"Your vote has been successfully recorded."})},onError:s=>{m({title:"Vote failed",description:s.message||"Failed to record your vote. Please try again.",variant:"destructive"})}}),F=[...new Set(a.map(s=>s.category))].sort(),T=[...new Set(a.map(s=>s.status))].sort();[...new Set(a.map(s=>s.jurisdiction))].sort();const h=a.filter(s=>{const t=s.title.toLowerCase().includes(i.toLowerCase())||s.description.toLowerCase().includes(i.toLowerCase())||s.billNumber.toLowerCase().includes(i.toLowerCase()),r=u==="all"||s.category===u,o=x==="all"||s.status===x,l=f==="all"||s.jurisdiction===f;return t&&r&&o&&l}),p=(s,t)=>{if(!E){m({title:"Authentication required",description:"Please log in to vote on bills.",variant:"destructive"});return}n.mutate({billId:s,vote:t})},g=(s,t)=>t>0?Math.round(s/t*100):0,M=s=>({Environment:ie,Justice:ae,Technology:te,"Indigenous Rights":se,Finance:ee,Healthcare:X,Education:y,Transportation:y,Housing:y,Immigration:W})[s]||V;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Parallel Voting System"}),e.jsx("p",{className:"text-lg text-gray-600 max-w-3xl mx-auto",children:"Vote on current Canadian legislation and see how your choices compare to official parliamentary votes. This is your voice in democracy."})]}),e.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs("div",{className:"relative",children:[e.jsx(Q,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(U,{placeholder:"Search bills by title, description, or bill number...",value:i,onChange:s=>L(s.target.value),className:"pl-10"})]})}),e.jsx("div",{children:e.jsxs(C,{value:u,onValueChange:R,children:[e.jsx(A,{children:e.jsx(w,{placeholder:"All Categories"})}),e.jsxs(S,{children:[e.jsx(d,{value:"all",children:"All Categories"}),F.map(s=>e.jsx(d,{value:s,children:s},s))]})]})}),e.jsx("div",{children:e.jsxs(C,{value:x,onValueChange:k,children:[e.jsx(A,{children:e.jsx(w,{placeholder:"All Statuses"})}),e.jsxs(S,{children:[e.jsx(d,{value:"all",children:"All Statuses"}),T.map(s=>e.jsx(d,{value:s,children:s},s))]})]})})]})}),e.jsx("div",{className:"mb-6",children:e.jsxs("p",{className:"text-gray-600",children:["Showing ",h.length," of ",a.length," bills"]})}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:h.map(s=>{const t=M(s.category),r=g(s.userVotes.yes,s.totalVotes),o=g(s.userVotes.no,s.totalVotes),l=g(s.userVotes.abstain,s.totalVotes);return e.jsxs(O,{className:"bg-white shadow-sm hover:shadow-md transition-shadow",children:[e.jsx(K,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(t,{className:"w-5 h-5 text-blue-600"}),e.jsx(N,{variant:"outline",className:"text-xs",children:s.category}),e.jsx(N,{variant:s.status==="Active"?"default":"secondary",className:"text-xs",children:s.status})]}),e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:[s.billNumber,": ",s.title]}),e.jsx("p",{className:"text-sm text-gray-600 line-clamp-2",children:s.description})]})})}),e.jsx(Z,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Stage:"}),e.jsx("p",{className:"font-medium",children:s.stage})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Sponsor:"}),e.jsxs("p",{className:"font-medium",children:[s.sponsor," (",s.sponsorParty,")"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Introduced:"}),e.jsx("p",{className:"font-medium",children:new Date(s.introducedDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:"Timeline:"}),e.jsx("p",{className:"font-medium",children:s.timeline})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Official Parliamentary Vote"}),e.jsxs("div",{className:"flex space-x-4 text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(b,{className:"w-4 h-4 text-green-600"}),e.jsxs("span",{children:["Government: ",s.governmentVote]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(P,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{children:["Opposition: ",s.oppositionVote]})]})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"CivicOS Community Vote"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-green-600",children:"Yes"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:r,className:"w-20 h-2"}),e.jsxs("span",{className:"text-sm font-medium",children:[r,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-red-600",children:"No"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:o,className:"w-20 h-2"}),e.jsxs("span",{className:"text-sm font-medium",children:[o,"%"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Abstain"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{value:l,className:"w-20 h-2"}),e.jsxs("span",{className:"text-sm font-medium",children:[l,"%"]})]})]})]}),e.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[s.totalVotes.toLocaleString()," total votes"]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:"Cast Your Vote"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(v,{size:"sm",variant:s.userVote==="yes"?"default":"outline",onClick:()=>p(s.id,"yes"),disabled:n.isPending,className:"flex-1",children:[e.jsx(b,{className:"w-4 h-4 mr-1"}),"Yes"]}),e.jsxs(v,{size:"sm",variant:s.userVote==="no"?"default":"outline",onClick:()=>p(s.id,"no"),disabled:n.isPending,className:"flex-1",children:[e.jsx(P,{className:"w-4 h-4 mr-1"}),"No"]}),e.jsxs(v,{size:"sm",variant:s.userVote==="abstain"?"default":"outline",onClick:()=>p(s.id,"abstain"),disabled:n.isPending,className:"flex-1",children:[e.jsx(ne,{className:"w-4 h-4 mr-1"}),"Abstain"]})]})]}),e.jsxs("div",{className:"border-t border-gray-100 pt-4",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Key Provisions"}),e.jsxs("ul",{className:"text-xs text-gray-600 space-y-1",children:[s.keyProvisions.slice(0,3).map((Y,B)=>e.jsxs("li",{className:"flex items-start",children:[e.jsx("span",{className:"text-blue-600 mr-1",children:"â¢"}),Y]},B)),s.keyProvisions.length>3&&e.jsxs("li",{className:"text-gray-500",children:["+",s.keyProvisions.length-3," more provisions"]})]})]})]})})]},s.id)})}),h.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(V,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No bills found"}),e.jsx("p",{className:"text-gray-600",children:"Try adjusting your search criteria or filters."})]})]})})}export{ve as default};
